<!DOCTYPE html>
<html lang="en"><head><title>PyScript ðŸ’» - â•°â•¸pyscript-bugs</title><meta charset="utf-8"/><meta content="width=device-width" name="viewport"/><style>@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-400.woff2");font-family:gg sans;font-weight:400;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-500.woff2");font-family:gg sans;font-weight:500;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-600.woff2");font-family:gg sans;font-weight:600;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-700.woff2");font-family:gg sans;font-weight:700;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-normal-800.woff2");font-family:gg sans;font-weight:800;font-style:normal}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-400.woff2");font-family:gg sans;font-weight:400;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-500.woff2");font-family:gg sans;font-weight:500;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-600.woff2");font-family:gg sans;font-weight:600;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-700.woff2");font-family:gg sans;font-weight:700;font-style:italic}@font-face{src:url("https://cdn.jsdelivr.net/gh/Tyrrrz/DiscordFonts@master/ggsans-italic-800.woff2");font-family:gg sans;font-weight:800;font-style:italic}html,body{margin:0;padding:0;background-color:#ffffff;color:#23262a;font-family:"gg sans","Helvetica Neue",Helvetica,Arial,sans-serif;font-size:17px;font-weight:500;scroll-behavior:smooth}a{color:#0068e0;text-decoration:none}a:hover{text-decoration:underline}img{object-fit:contain;image-rendering:high-quality;image-rendering:-webkit-optimize-contrast}.preamble{display:grid;grid-template-columns:auto 1fr;max-width:100%;padding:1rem}.preamble__guild-icon-container{grid-column:1}.preamble__guild-icon{max-width:88px;max-height:88px}.preamble__entries-container{grid-column:2;margin-left:1rem}.preamble__entry{margin-bottom:0.15rem;color:#2f3136;font-size:1.4rem}.preamble__entry--small{font-size:1rem}.chatlog{padding:1rem 0;width:100%;border-top:1px solid #eceeef;border-bottom:1px solid #eceeef}.chatlog__message-group{margin-bottom:1rem}.chatlog__message-container{background-color:transparent;transition:background-color 1s ease}.chatlog__message-container--highlighted{background-color:rgba(114,137,218,0.2)}.chatlog__message-container--pinned{background-color:rgba(249,168,37,0.05)}.chatlog__message{display:grid;grid-template-columns:auto 1fr;padding:0.15rem 0;direction:ltr;unicode-bidi:bidi-override}.chatlog__message:hover{background-color:#fafafa}.chatlog__message:hover .chatlog__short-timestamp{display:block}.chatlog__message-aside{grid-column:1;width:72px;padding:0.15rem 0.15rem 0 0.15rem;text-align:center}.chatlog__reply-symbol{height:10px;margin:6px 4px 4px 36px;border-left:2px solid #c7ccd1;border-top:2px solid #c7ccd1;border-radius:8px 0 0 0}.chatlog__avatar{width:40px;height:40px;border-radius:50%}.chatlog__short-timestamp{display:none;color:#5e6772;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__message-primary{grid-column:2;min-width:0}.chatlog__reply{display:flex;margin-bottom:0.15rem;align-items:center;color:#5f5f60;font-size:0.875rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chatlog__reply-avatar{width:16px;height:16px;margin-right:0.25rem;border-radius:50%}.chatlog__reply-author{margin-right:0.3rem;font-weight:600}.chatlog__reply-content{overflow:hidden;text-overflow:ellipsis}.chatlog__reply-link{cursor:pointer}.chatlog__reply-link *{display:inline;pointer-events:none}.chatlog__reply-link .chatlog__markdown-quote{display:inline}.chatlog__reply-link .chatlog__markdown-pre{display:inline}.chatlog__reply-link:hover{color:#2f3136}.chatlog__reply-link:hover *:not(.chatlog__markdown-spoiler){color:inherit}.chatlog__reply-edited-timestamp{margin-left:0.25rem;color:#5e6772;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__system-notification-icon{width:18px;height:18px}.chatlog__system-notification-author{font-weight:600;color:#2f3136}.chatlog__system-notification-content{color:#5e6772}.chatlog__system-notification-link{font-weight:500;color:#2f3136}.chatlog__system-notification-timestamp{margin-left:0.3rem;color:#5e6772;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__system-notification-timestamp a{color:inherit}.chatlog__header{margin-bottom:0.1rem}.chatlog__author{font-weight:600;color:#2f3136}.chatlog__author-tag{position:relative;top:-0.1rem;margin-left:0.3rem;padding:0.05rem 0.3rem;border-radius:3px;background-color:#5865F2;color:#ffffff;font-size:0.625rem;font-weight:500;line-height:1.3}.chatlog__timestamp{margin-left:0.3rem;color:#5e6772;font-size:0.75rem;font-weight:500;direction:ltr;unicode-bidi:bidi-override}.chatlog__timestamp a{color:inherit}.chatlog__content{padding-right:1rem;font-size:0.95rem;word-wrap:break-word}.chatlog__edited-timestamp{margin-left:0.15rem;color:#5e6772;font-size:0.75rem;font-weight:500}.chatlog__attachment{position:relative;width:fit-content;margin-top:0.3rem;border-radius:3px;overflow:hidden}.chatlog__attachment--hidden{cursor:pointer;box-shadow:0 0 1px 1px rgba(0,0,0,0.1)}.chatlog__attachment--hidden *{pointer-events:none}.chatlog__attachment-spoiler-caption{display:none;position:absolute;left:50%;top:50%;z-index:999;padding:0.4rem 0.8rem;border-radius:20px;transform:translate(-50%,-50%);background-color:rgba(0,0,0,0.9);color:#dcddde;font-size:0.9rem;font-weight:600;letter-spacing:0.05rem}.chatlog__attachment--hidden .chatlog__attachment-spoiler-caption{display:block}.chatlog__attachment--hidden:hover .chatlog__attachment-spoiler-caption{color:#fff}.chatlog__attachment-media{max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__attachment--hidden .chatlog__attachment-media{filter:blur(44px)}.chatlog__attachment-generic{max-width:520px;width:100%;height:40px;padding:10px;border:1px solid #ebedef;border-radius:3px;background-color:#f2f3f5;overflow:hidden}.chatlog__attachment--hidden .chatlog__attachment-generic{filter:blur(44px)}.chatlog__attachment-generic-icon{float:left;width:30px;height:100%;margin-right:10px}.chatlog__attachment-generic-size{color:#72767d;font-size:12px}.chatlog__attachment-generic-name{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.chatlog__embed{display:flex;margin-top:0.3rem;max-width:520px}.chatlog__embed-color-pill{flex-shrink:0;width:0.25rem;border-top-left-radius:3px;border-bottom-left-radius:3px}.chatlog__embed-color-pill--default{background-color:rgba(227,229,232,1)}.chatlog__embed-content-container{display:flex;flex-direction:column;padding:0.5rem 0.6rem;border:1px solid rgba(204,204,204,0.3);border-top-right-radius:3px;border-bottom-right-radius:3px;background-color:rgba(249,249,249,0.3)}.chatlog__embed-content{display:flex;width:100%}.chatlog__embed-text{flex:1}.chatlog__embed-author-container{display:flex;margin-bottom:0.5rem;align-items:center}.chatlog__embed-author-icon{width:20px;height:20px;margin-right:0.5rem;border-radius:50%}.chatlog__embed-author{color:#4f545c;font-size:0.875rem;font-weight:600;direction:ltr;unicode-bidi:bidi-override}.chatlog__embed-author-link{color:#4f545c}.chatlog__embed-title{margin-bottom:0.5rem;color:#4f545c;font-size:0.875rem;font-weight:600}.chatlog__embed-description{color:#2e3338;font-weight:500;font-size:0.85rem}.chatlog__embed-fields{display:flex;flex-wrap:wrap;gap:0 0.5rem}.chatlog__embed-field{flex:0;min-width:100%;max-width:506px;padding-top:0.6rem;font-size:0.875rem}.chatlog__embed-field--inline{flex:1;flex-basis:auto;min-width:50px}.chatlog__embed-field-name{margin-bottom:0.2rem;color:#36393e;font-weight:600}.chatlog__embed-field-value{color:#2e3338;font-weight:500}.chatlog__embed-thumbnail{flex:0;max-width:80px;max-height:80px;margin-left:1.2rem;border-radius:3px}.chatlog__embed-images{display:grid;margin-top:0.6rem;grid-template-columns:repeat(2,1fr);gap:0.25rem}.chatlog__embed-images--single{display:block}.chatlog__embed-image{object-fit:cover;object-position:center;max-width:500px;max-height:400px;width:100%;height:100%;border-radius:3px}.chatlog__embed-footer{margin-top:0.6rem;color:#2e3338}.chatlog__embed-footer-icon{width:20px;height:20px;margin-right:0.2rem;border-radius:50%;vertical-align:middle}.chatlog__embed-footer-text{vertical-align:middle;font-size:0.75rem;font-weight:500}.chatlog__embed-invite-container{min-width:320px;padding:0.6rem 0.7rem;border:1px solid rgba(204,204,204,0.3);border-radius:3px;background-color:rgba(249,249,249,0.3)}.chatlog__embed-invite-title{margin:0 0 0.8rem 0;color:#4f5660;font-size:0.75rem;font-weight:700;text-transform:uppercase}.chatlog__embed-invite{display:flex}.chatlog__embed-invite-guild-icon{width:50px;height:50px;border-radius:0.85rem}.chatlog__embed-invite-info{margin-left:1rem}.chatlog__embed-invite-guild-name{color:#36393e;font-weight:600}.chatlog__embed-invite-guild-name a{color:inherit}.chatlog__embed-invite-channel-icon{width:18px;height:18px;vertical-align:bottom}.chatlog__embed-invite-channel-name{font-size:0.9rem;font-weight:600}.chatlog__embed-generic-image{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-generic-video{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-generic-gifv{object-fit:contain;object-position:left;max-width:45vw;max-height:500px;vertical-align:top;border-radius:3px}.chatlog__embed-spotify{border:0}.chatlog__embed-twitch{border:0}.chatlog__embed-youtube-container{margin-top:0.6rem}.chatlog__embed-youtube{border:0;border-radius:3px}.chatlog__sticker{width:180px;height:180px}.chatlog__sticker--media{max-width:100%;max-height:100%}.chatlog__reactions{display:flex}.chatlog__reaction{display:flex;margin:0.35rem 0.1rem 0.1rem 0;padding:0.125rem 0.375rem;border:1px solid transparent;border-radius:8px;background-color:#f2f3f5;align-items:center}.chatlog__reaction:hover{border:1px solid rgba(0,0,0,0.2);background-color:white}.chatlog__reaction-count{min-width:9px;margin-left:0.35rem;color:#4f5660;font-size:0.875rem}.chatlog__reaction:hover .chatlog__reaction-count{color:#2e3338}.chatlog__markdown{max-width:100%;line-height:1.3;overflow-wrap:break-word}.chatlog__markdown h1{margin:1rem 0 0.5rem;color:#060607;font-size:1.5rem;line-height:1}.chatlog__markdown h2{margin:1rem 0 0.5rem;color:#060607;font-size:1.25rem;line-height:1}.chatlog__markdown h3{margin:1rem 0 0.5rem;color:#060607;font-size:1rem;line-height:1}.chatlog__markdown h1:first-child,h2:first-child,h3:first-child{margin-top:0.5rem}.chatlog__markdown ul,ol{margin:0 0 0 1rem;padding:0}.chatlog__markdown-preserve{white-space:pre-wrap}.chatlog__markdown-spoiler{background-color:rgba(0,0,0,0.1);padding:0 2px;border-radius:3px}.chatlog__markdown-spoiler--hidden{cursor:pointer;background-color:#b9bbbe;color:rgba(0,0,0,0)}.chatlog__markdown-spoiler--hidden:hover{background-color:rgba(185,187,190,0.8)}.chatlog__markdown-spoiler--hidden::selection{color:rgba(0,0,0,0)}.chatlog__markdown-quote{display:flex;margin:0.05rem 0}.chatlog__markdown-quote-border{margin-right:0.5rem;border:2px solid #c7ccd1;border-radius:3px}.chatlog__markdown-pre{background-color:#f9f9f9;font-family:"Consolas","Courier New",Courier,monospace;font-size:0.85rem;text-decoration:inherit}.chatlog__markdown-pre--multiline{display:block;margin-top:0.25rem;padding:0.5rem;border:2px solid #f3f3f3;border-radius:5px;color:#657b83}.chatlog__markdown-pre--multiline.hljs{background-color:#f9f9f9;color:#657b83}.chatlog__markdown-pre--inline{display:inline-block;padding:2px;border-radius:3px}.chatlog__markdown-mention{border-radius:3px;padding:0 2px;background-color:rgba(88,101,242,.15);color:#505cdc;font-weight:500}.chatlog__markdown-mention:hover{background-color:#5865f2;color:#ffffff}.chatlog__markdown-timestamp{background-color:rgba(0,0,0,0.1);padding:0 2px;border-radius:3px}.chatlog__emoji{width:1.325rem;height:1.325rem;margin:0 0.06rem;vertical-align:-0.4rem}.chatlog__emoji--small{width:1rem;height:1rem}.chatlog__emoji--large{width:2.8rem;height:2.8rem}.postamble{padding:1.25rem}.postamble__entry{color:#2f3136}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-light.min.css" rel="stylesheet"/><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script><script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('.chatlog__markdown-pre--multiline').forEach(e=>hljs.highlightBlock(e));});</script><script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.8.1/lottie.min.js"></script><script>document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('.chatlog__sticker--media[data-source]').forEach(e=>{const anim=lottie.loadAnimation({container:e,renderer:'svg',loop:true,autoplay:true,path:e.getAttribute('data-source')});anim.addEventListener('data_failed',()=>e.innerHTML='<strong>[Sticker cannot be rendered]</strong>');});});</script><script>function scrollToMessage(event,id){const element=document.getElementById('chatlog__message-container-'+id);if(!element)
return;event.preventDefault();element.classList.add('chatlog__message-container--highlighted');window.scrollTo({top:element.getBoundingClientRect().top-document.body.getBoundingClientRect().top-(window.innerHeight/2),behavior:'smooth'});window.setTimeout(()=>element.classList.remove('chatlog__message-container--highlighted'),2000);}
function showSpoiler(event,element){if(!element)
return;if(element.classList.contains('chatlog__attachment--hidden')){event.preventDefault();element.classList.remove('chatlog__attachment--hidden');}
if(element.classList.contains('chatlog__markdown-spoiler--hidden')){event.preventDefault();element.classList.remove('chatlog__markdown-spoiler--hidden');}}</script><svg style="display:none" xmlns="http://www.w3.org/2000/svg"><defs><symbol id="attachment-icon" viewbox="0 0 720 960"><path d="M50,935a25,25,0,0,1-25-25V50A25,25,0,0,1,50,25H519.6L695,201.32V910a25,25,0,0,1-25,25Z" fill="#f4f5fb"></path><path d="M509.21,50,670,211.63V910H50V50H509.21M530,0H50A50,50,0,0,0,0,50V910a50,50,0,0,0,50,50H670a50,50,0,0,0,50-50h0V191Z" fill="#7789c4"></path><path d="M530,215a25,25,0,0,1-25-25V50a25,25,0,0,1,16.23-23.41L693.41,198.77A25,25,0,0,1,670,215Z" fill="#f4f5fb"></path><path d="M530,70.71,649.29,190H530V70.71M530,0a50,50,0,0,0-50,50V190a50,50,0,0,0,50,50H670a50,50,0,0,0,50-50Z" fill="#7789c4"></path></symbol><symbol id="join-icon" viewbox="0 0 18 18"><path d="m0 8h14.2l-3.6-3.6 1.4-1.4 6 6-6 6-1.4-1.4 3.6-3.6h-14.2" fill="#3ba55c"></path></symbol><symbol id="leave-icon" viewbox="0 0 18 18"><path d="m3.8 8 3.6-3.6-1.4-1.4-6 6 6 6 1.4-1.4-3.6-3.6h14.2v-2" fill="#ed4245"></path></symbol><symbol id="call-icon" viewbox="0 0 18 18"><path d="M17.7163041 15.36645368c-.0190957.02699568-1.9039523 2.6680735-2.9957762 2.63320406-3.0676659-.09785935-6.6733809-3.07188394-9.15694343-5.548738C3.08002193 9.9740657.09772497 6.3791404 0 3.3061316v-.024746C0 2.2060575 2.61386252.3152347 2.64082114.2972376c.7110335-.4971705 1.4917101-.3149497 1.80959713.1372281.19320342.2744561 2.19712724 3.2811005 2.42290565 3.6489167.09884826.1608492.14714912.3554431.14714912.5702838 0 .2744561-.07975258.5770327-.23701117.8751101-.1527655.2902036-.65262318 1.1664385-.89862055 1.594995.2673396.3768148.94804468 1.26429792 2.351016 2.66357424 1.39173858 1.39027775 2.28923588 2.07641807 2.67002628 2.34187563.4302146-.2452108 1.3086162-.74238132 1.5972981-.89423205.5447887-.28682915 1.0907006-.31944893 1.4568885-.08661115.3459689.2182151 3.3383754 2.21027167 3.6225641 2.41611376.2695862.19234426.4144887.5399137.4144887.91672846 0 .2969525-.089862.61190215-.2808189.88523346" fill="#3ba55c" fill-rule="evenodd"></path></symbol><symbol id="pencil-icon" viewbox="0 0 18 18"><path d="m0 14.25v3.75h3.75l11.06-11.06-3.75-3.75zm17.71-10.21c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75z" fill="#99aab5"></path></symbol><symbol id="pin-icon" viewbox="0 0 18 18"><path d="m16.908 8.39684-8.29587-8.295827-1.18584 1.184157 1.18584 1.18584-4.14834 4.1475v.00167l-1.18583-1.18583-1.185 1.18583 3.55583 3.55502-4.740831 4.74 1.185001 1.185 4.74083-4.74 3.55581 3.555 1.185-1.185-1.185-1.185 4.1475-4.14836h.0009l1.185 1.185z" fill="#b9bbbe"></path></symbol><symbol id="channel-icon" viewbox="0 0 24 24"><path d="M5.88657 21C5.57547 21 5.3399 20.7189 5.39427 20.4126L6.00001 17H2.59511C2.28449 17 2.04905 16.7198 2.10259 16.4138L2.27759 15.4138C2.31946 15.1746 2.52722 15 2.77011 15H6.35001L7.41001 9H4.00511C3.69449 9 3.45905 8.71977 3.51259 8.41381L3.68759 7.41381C3.72946 7.17456 3.93722 7 4.18011 7H7.76001L8.39677 3.41262C8.43914 3.17391 8.64664 3 8.88907 3H9.87344C10.1845 3 10.4201 3.28107 10.3657 3.58738L9.76001 7H15.76L16.3968 3.41262C16.4391 3.17391 16.6466 3 16.8891 3H17.8734C18.1845 3 18.4201 3.28107 18.3657 3.58738L17.76 7H21.1649C21.4755 7 21.711 7.28023 21.6574 7.58619L21.4824 8.58619C21.4406 8.82544 21.2328 9 20.9899 9H17.41L16.35 15H19.7549C20.0655 15 20.301 15.2802 20.2474 15.5862L20.0724 16.5862C20.0306 16.8254 19.8228 17 19.5799 17H16L15.3632 20.5874C15.3209 20.8261 15.1134 21 14.8709 21H13.8866C13.5755 21 13.3399 20.7189 13.3943 20.4126L14 17H8.00001L7.36325 20.5874C7.32088 20.8261 7.11337 21 6.87094 21H5.88657ZM9.41045 9L8.35045 15H14.3504L15.4104 9H9.41045Z" fill="#b9bbbe"></path></symbol><symbol id="thread-icon" viewbox="0 0 24 24"><path d="M5.43309 21C5.35842 21 5.30189 20.9325 5.31494 20.859L5.99991 17H2.14274C2.06819 17 2.01168 16.9327 2.02453 16.8593L2.33253 15.0993C2.34258 15.0419 2.39244 15 2.45074 15H6.34991L7.40991 9H3.55274C3.47819 9 3.42168 8.93274 3.43453 8.85931L3.74253 7.09931C3.75258 7.04189 3.80244 7 3.86074 7H7.75991L8.45234 3.09903C8.46251 3.04174 8.51231 3 8.57049 3H10.3267C10.4014 3 10.4579 3.06746 10.4449 3.14097L9.75991 7H15.7599L16.4523 3.09903C16.4625 3.04174 16.5123 3 16.5705 3H18.3267C18.4014 3 18.4579 3.06746 18.4449 3.14097L17.7599 7H21.6171C21.6916 7 21.7481 7.06725 21.7353 7.14069L21.4273 8.90069C21.4172 8.95811 21.3674 9 21.3091 9H17.4099L17.0495 11.04H15.05L15.4104 9H9.41035L8.35035 15H10.5599V17H7.99991L7.30749 20.901C7.29732 20.9583 7.24752 21 7.18934 21H5.43309Z" fill="#b9bbbe"></path><path d="M13.4399 12.96C12.9097 12.96 12.4799 13.3898 12.4799 13.92V20.2213C12.4799 20.7515 12.9097 21.1813 13.4399 21.1813H14.3999C14.5325 21.1813 14.6399 21.2887 14.6399 21.4213V23.4597C14.6399 23.6677 14.8865 23.7773 15.0408 23.6378L17.4858 21.4289C17.6622 21.2695 17.8916 21.1813 18.1294 21.1813H22.5599C23.0901 21.1813 23.5199 20.7515 23.5199 20.2213V13.92C23.5199 13.3898 23.0901 12.96 22.5599 12.96H13.4399Z" fill="#b9bbbe"></path></symbol></defs></svg><body><div class="preamble"><div class="preamble__guild-icon-container"><img alt="Guild icon" class="preamble__guild-icon" loading="lazy" src="assets/eef8bb9f6c6a6b82d7a65bb77f8b5e94.png"/></div><div class="preamble__entries-container"><div class="preamble__entry">PyScript ðŸ’»</div><div class="preamble__entry">ðŸ’¬ | General / â•°â•¸pyscript-bugs</div><div class="preamble__entry preamble__entry--small">Found a bug? Bravo! Check it's not already reported and submit a report here: <a href="https://github.com/pyscript/pyscript/issues">https://github.com/pyscript/pyscript/issues</a> Ad hoc discussion goes on in here.</div></div></div>
<div class="chatlog">
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1037020900664557632" id="chatlog__message-container-1037020900664557632"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/f4bf1df4f395cb0b3559f2d882ac7bed.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1020363855630700555" style="color:rgb(233,102,11)" title="tedpatrick">tedpatrick</span> <span class="chatlog__timestamp" title="01 November 2022 15:10"><a href="#chatlog__message-container-1037020900664557632">01/11/2022 15:10</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Hello bugs</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="ant"><img alt="ðŸœ" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f41c.svg"/> <span class="chatlog__reaction-count">1</span></div><div class="chatlog__reaction" title="beetle"><img alt="ðŸª²" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1fab2.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1050752140768976979" id="chatlog__message-container-1050752140768976979"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/2c593cc21cd376fe2e3fa8920e98af10.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="234010094730346497" title="aliceuwwie">alice--</span> <span class="chatlog__timestamp" title="09 December 2022 12:33"><a href="#chatlog__message-container-1050752140768976979">09/12/2022 12:33</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Trying to modify the py-onclick attribute to call a different function after it has been clicked once.

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;meta name="viewport" content="width=device-width,initial-scale=1" /&gt;
    &lt;script defer src="https://pyscript.net/latest/pyscript.js"&gt;&lt;/script&gt;
    &lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"&gt;
    &lt;py-script src="bug.py"&gt;&lt;/py-script&gt;
&lt;/head&gt;



&lt;body&gt;
    &lt;div class="container-fluid"&gt;
        &lt;div class="row justify-content-center"&gt;
            &lt;div class="col-2"&gt;
                &lt;input id="next1" type="submit" class="p-4 btn btn-primary" value="click me" py-onclick="test()"&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;</code>
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-python">import js
from js import document

def test():
    button = document.getElementById("next1")
    console.log("this is test 1")
    console.log(button.getAttributeNames())
    console.log(button.getAttribute("py-onclick"))
    button.removeAttribute("py-onclick")
    console.log(button.getAttributeNames())
    console.log(button.getAttribute("py-onclick"))
    button.setAttribute("py-onclick", "test2()")
    console.log(button.getAttributeNames())
    console.log(button.getAttribute("py-onclick"))


def test2():
    console.log("success! this is test 2")
    document.getElementById("next1").setAttribute("py-onclick", "test()")</code>
 

so, the attribute value does get changed to reference the second function, but when clicking the button, it only performs the initial function it originally had. 
<em>console log shows two clicks of the button</em></span> <span class="chatlog__edited-timestamp" title="09 December 2022 12:35">(edited)</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1050752140471189514/image.png?ex=691bbef0&amp;is=691a6d70&amp;hm=a86fe21a58b5d26f91dfa84c71389d998c121643863feeac3ed03e14718f7bd2&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (18.23 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1050753250669891584" id="chatlog__message-container-1050753250669891584"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/91d1edb083198b71dead99531be60a2c.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="552726940956622849" style="color:rgb(26,194,181)" title="ianarosh">FabioRosado</span> <span class="chatlog__timestamp" title="09 December 2022 12:38"><a href="#chatlog__message-container-1050753250669891584">09/12/2022 12:38</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I haven't look much into this yet, but the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">py-onclick</code>  and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">py-click</code> have event listeners attached to them when the app starts, I don't think simply removing the attribute and adding it again will achieve what you want.

If you want to have a different behaviou on different clicks, perhaps you could add a  variable with a click count, then depending on the count your <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">test()</code> function would trigger one or the other flow</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1050753920764489778" id="chatlog__message-container-1050753920764489778"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/2c593cc21cd376fe2e3fa8920e98af10.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="234010094730346497" title="aliceuwwie">alice--</span> <span class="chatlog__timestamp" title="09 December 2022 12:40"><a href="#chatlog__message-container-1050753920764489778">09/12/2022 12:40</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Ah okay, that makes sense ! - thanks for the suggestion, sounds like a great solution - I'll give it a go <img alt="ðŸ™‚" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg" title="slight_smile"/>

update: adding a counter achieved the desired interactions, thank you Fabio !</span> <span class="chatlog__edited-timestamp" title="09 December 2022 12:59">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1050762074021691423" id="chatlog__message-container-1050762074021691423"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/91d1edb083198b71dead99531be60a2c.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="552726940956622849" style="color:rgb(26,194,181)" title="ianarosh">FabioRosado</span> <span class="chatlog__timestamp" title="09 December 2022 13:13"><a href="#chatlog__message-container-1050762074021691423">09/12/2022 13:13</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">awesome!</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1054020998455902208" id="chatlog__message-container-1054020998455902208"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/c602d0d68f0b8f9553bb1ecca166a023.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="179378652427976704" title="tuxprint">tuxprint</span> <span class="chatlog__timestamp" title="18 December 2022 13:03"><a href="#chatlog__message-container-1054020998455902208">18/12/2022 13:03</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">When inserting HTML using the "innerHTML ="  syntax
the py-onclick attribute is not recognized. 
Using the regular onclick here works as expected.</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1054716987869249579" id="chatlog__message-container-1054716987869249579"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/384c5f27bd703ef421ffb58eeccf2156.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="468745878237347845" title="3l3ktr4">3l3ktr4</span> <span class="chatlog__timestamp" title="20 December 2022 11:08"><a href="#chatlog__message-container-1054716987869249579">20/12/2022 11:08</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">interesting, thanks for reporting <span class="chatlog__markdown-mention" title="tuxprint">@tuxprint</span>!
could you create a bug on gh so it doesn't get lost?</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1054717023319502889" id="chatlog__message-container-1054717023319502889"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="20 December 2022 11:08">11:08</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">maybe with a small reproducible ex. would be great</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1054792453527445694" id="chatlog__message-container-1054792453527445694"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/c602d0d68f0b8f9553bb1ecca166a023.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/384c5f27bd703ef421ffb58eeccf2156.png"/><div class="chatlog__reply-author" title="3l3ktr4">3l3ktr4</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1054716987869249579')"> interesting, thanks for reporting <span class="chatlog__markdown-mention" title="tuxprint">@tuxprint</span>!
could you create a bug on gh so it doesn't get lost? </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="179378652427976704" title="tuxprint">tuxprint</span> <span class="chatlog__timestamp" title="20 December 2022 16:08"><a href="#chatlog__message-container-1054792453527445694">20/12/2022 16:08</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I posted an issue to the github. I included a simple HTML document that illustrates the issue</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="sparkles"><img alt="âœ¨" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2728.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1054792585761271888" id="chatlog__message-container-1054792585761271888"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/384c5f27bd703ef421ffb58eeccf2156.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="468745878237347845" title="3l3ktr4">3l3ktr4</span> <span class="chatlog__timestamp" title="20 December 2022 16:09"><a href="#chatlog__message-container-1054792585761271888">20/12/2022 16:09</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">awesome! <img alt="ðŸ™‚" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg" title="slight_smile"/>
thanks <span class="chatlog__markdown-mention" title="tuxprint">@tuxprint</span> I'll give it a look <img alt="ðŸ‘€" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f440.svg" title="eyes"/></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1084792645169184818" id="chatlog__message-container-1084792645169184818"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/3.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1026412162673033237" title="jamshaid6861">Jamshaid</span> <span class="chatlog__timestamp" title="13 March 2023 10:58"><a href="#chatlog__message-container-1084792645169184818">13/03/2023 10:58</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">hello, anyone there?
I am getting error while pyscript is setting python environment. Seems like issue is with panel package. 
 <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">&lt;py-config type="json"&gt;
      { "terminal": false, "packages": ["altair","bokeh" , "numpy", "pandas",
      "scikit-learn", "panel==0.13.1"] }
    &lt;/py-config&gt;</code>
<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">exceptions.ts:52 (PY1001): Unable to install package(s) 'altair,bokeh,numpy,pandas,scikit-learn,panel==0.13.1'. Reason: Can't find a pure Python 3 Wheel for package(s) 'altair,bokeh,numpy,pandas,scikit-learn,panel==0.13.1'. See: https://pyodide.org/en/stable/usage/faq.html#micropip-can-t-find-a-pure-python-wheel for more information.</code></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1084814184958672966" id="chatlog__message-container-1084814184958672966"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/384c5f27bd703ef421ffb58eeccf2156.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="468745878237347845" title="3l3ktr4">3l3ktr4</span> <span class="chatlog__timestamp" title="13 March 2023 12:24"><a href="#chatlog__message-container-1084814184958672966">13/03/2023 12:24</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="hoodmane">@hood</span> I think this is just like the error I've pinged you?</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1084814252256284705" id="chatlog__message-container-1084814252256284705"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="13 March 2023 12:24">12:24</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I also reproduced this "cant find a pure python wheel" with packages other than numpy</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1084814331524423690" id="chatlog__message-container-1084814331524423690"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="13 March 2023 12:24">12:24</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">did you make progress there? 
(sorry I've been out for a week, still catching up on email)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1084826690775158914" id="chatlog__message-container-1084826690775158914"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/3.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/384c5f27bd703ef421ffb58eeccf2156.png"/><div class="chatlog__reply-author" title="3l3ktr4">3l3ktr4</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1084814331524423690')"> did you make progress there? 
(sorry I've been out for a week, still catching up on email) </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1026412162673033237" title="jamshaid6861">Jamshaid</span> <span class="chatlog__timestamp" title="13 March 2023 13:13"><a href="#chatlog__message-container-1084826690775158914">13/03/2023 13:13</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">resolved it by downgrading to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">2022.12.1</code> i.e. <code class="chatlog__markdown-pre chatlog__markdown-pre--inline"> &lt;script defer src="https://pyscript.net/releases/2022.12.1/pyscript.js"&gt;&lt;/script&gt;</code></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1084942251320418384" id="chatlog__message-container-1084942251320418384"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/3.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="788215119414689802" style="color:rgb(26,194,181)" title="hoodmane">hood</span> <span class="chatlog__timestamp" title="13 March 2023 20:53"><a href="#chatlog__message-container-1084942251320418384">13/03/2023 20:53</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">the  problem is from Panel --&gt; Bokeh --&gt; tornado and tornado is a async server library which can't be used in Pyodide:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">ValueError: Can't find a pure Python 3 wheel for 'tornado&gt;=5.1'.</code>
The version of Bokeh distributed with Pyodide has all the webserver stuff removed, including the tornado dependency. So no other version can be used. Pyodide 0.22 comes with Bokeh v3.0.3, but Panel &lt; 1.0 has a version cap for Bokeh &lt; 2.5.0 and the Panel 1.0.0 alpha releases have a version cap for Bokeh &gt; 3.1.0. So no version of Panel can be used in Pyodide 0.22 unless you get a custom version of Bokeh</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1084942303237517483" id="chatlog__message-container-1084942303237517483"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="13 March 2023 20:53">20:53</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="philippjfr">@philippjfr</span></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1084942454140178472" id="chatlog__message-container-1084942454140178472"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="13 March 2023 20:53">20:53</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">perhaps we could release Pyodide 0.22.2 with a fix for this but we probably don't care enough</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1084944247125454889" id="chatlog__message-container-1084944247125454889"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/b4199510a747e0cb9a5411a4832fc9c7.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="298221685679849483" title="philippjfr">philippjfr</span> <span class="chatlog__timestamp" title="13 March 2023 21:01"><a href="#chatlog__message-container-1084944247125454889">13/03/2023 21:01</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Would suggest using the custom wheels we distribute on our CDN for the time being. We used that approach for the examples on PyScript.net</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1084944575770136576" id="chatlog__message-container-1084944575770136576"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="13 March 2023 21:02">21:02</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><a href="https://cdn.holoviz.org/panel/0.14.3/dist/wheels/bokeh-2.4.3-py3-none-any.whl">https://cdn.holoviz.org/panel/0.14.3/dist/wheels/bokeh-2.4.3-py3-none-any.whl</a>
<a href="https://cdn.holoviz.org/panel/0.14.3/dist/wheels/panel-0.14.3-py3-none-any.whl">https://cdn.holoviz.org/panel/0.14.3/dist/wheels/panel-0.14.3-py3-none-any.whl</a></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1084944952020172935" id="chatlog__message-container-1084944952020172935"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="13 March 2023 21:03">21:03</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Panel 1.0 is about two to three weeks out, at which point making Bokeh 3.1 available in pyodide directly would be great.</span> <span class="chatlog__edited-timestamp" title="13 March 2023 21:04">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1084945544113299530" id="chatlog__message-container-1084945544113299530"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/3.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="788215119414689802" style="color:rgb(26,194,181)" title="hoodmane">hood</span> <span class="chatlog__timestamp" title="13 March 2023 21:06"><a href="#chatlog__message-container-1084945544113299530">13/03/2023 21:06</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">some day it would be nice to separate the Pyodide package distro from libpyodide / the ffi</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1084945628041326632" id="chatlog__message-container-1084945628041326632"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="13 March 2023 21:06">21:06</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">it's totally possible now to use Pyodide 0.22 with a lock file that points to the Pyodide 0.21 package distro or vice versa</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1103735818234908702" id="chatlog__message-container-1103735818234908702"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1102969234029563974" title="nascif.9">nascif</span> <span class="chatlog__timestamp" title="04 May 2023 18:32"><a href="#chatlog__message-container-1103735818234908702">04/05/2023 18:32</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">This example from the PyScript.com Getting Started collection is not working:</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1103736113841061938" id="chatlog__message-container-1103736113841061938"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/0.png"/><div class="chatlog__reply-author" title="nascif.9">nascif</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1103735818234908702')"> This example from the PyScript.com Getting Started collection is not working: </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1102969234029563974" title="nascif.9">nascif</span> <span class="chatlog__timestamp" title="04 May 2023 18:33"><a href="#chatlog__message-container-1103736113841061938">04/05/2023 18:33</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><a href="https://6fd75ce3-df0a-4384-b255-195e41c4f02f.pyscriptapps.com/0201e04e-18e2-42f7-84ed-8760af05c129/latest/">https://6fd75ce3-df0a-4384-b255-195e41c4f02f.pyscriptapps.com/0201e04e-18e2-42f7-84ed-8760af05c129/latest/</a>
"Service Worker Example"</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1103736413121421326" id="chatlog__message-container-1103736413121421326"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/0.png"/><div class="chatlog__reply-author" title="nascif.9">nascif</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1103736113841061938')"> <a href="https://6fd75ce3-df0a-4384-b255-195e41c4f02f.pyscriptapps.com/0201e04e-18e2-42f7-84ed-8760af05c129/latest/">https://6fd75ce3-df0a-4384-b255-195e41c4f02f.pyscriptapps.com/0201e04e-18e2-42f7-84ed-8760af05c129/latest/</a>
"Service Worker Example" </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1102969234029563974" title="nascif.9">nascif</span> <span class="chatlog__timestamp" title="04 May 2023 18:34"><a href="#chatlog__message-container-1103736413121421326">04/05/2023 18:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">On the Edit UI, you can see the following error on the console:
Synchronous XMLHttpRequest on the main thread is deprecated because of its detrimental effects to the end userâ€™s experience. For more help <a href="http://xhr.spec.whatwg.org/">http://xhr.spec.whatwg.org/</a> utils.ts:64:12
Uncaught (in promise) TypeError: ServiceWorker script at <a href="https://pyscript.com/api/content/6fd75ce3-df0a-4384-b255-195e41c4f02f/0201e04e-18e2-42f7-84ed-8760af05c129/latest/piodide-sw.js">https://pyscript.com/api/content/6fd75ce3-df0a-4384-b255-195e41c4f02f/0201e04e-18e2-42f7-84ed-8760af05c129/latest/piodide-sw.js</a> for scope <a href="https://pyscript.com/api/content/6fd75ce3-df0a-4384-b255-195e41c4f02f/0201e04e-18e2-42f7-84ed-8760af05c129/latest/">https://pyscript.com/api/content/6fd75ce3-df0a-4384-b255-195e41c4f02f/0201e04e-18e2-42f7-84ed-8760af05c129/latest/</a> encountered an error during installation.
    readTextFromPath utils.ts:65
    extractFromSrc pyconfig.ts:50
    loadConfigFromElement pyconfig.ts:35
    loadConfig main.ts:106
    _realMain main.ts:86
    main main.ts:68
    pyscript main.ts:289
    &lt;anonymous&gt; pyscript.js:27252</span> <span class="chatlog__edited-timestamp" title="04 May 2023 18:34">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1103991022465323048" id="chatlog__message-container-1103991022465323048"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/0.png"/><div class="chatlog__reply-author" title="nascif.9">nascif</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1103736113841061938')"> <a href="https://6fd75ce3-df0a-4384-b255-195e41c4f02f.pyscriptapps.com/0201e04e-18e2-42f7-84ed-8760af05c129/latest/">https://6fd75ce3-df0a-4384-b255-195e41c4f02f.pyscriptapps.com/0201e04e-18e2-42f7-84ed-8760af05c129/latest/</a>
"Service Worker Example" </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="05 May 2023 11:26"><a href="#chatlog__message-container-1103991022465323048">05/05/2023 11:26</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I see an error around the missing file for the Service Worker ... are you sure all files are there? <img alt="ðŸ¤”" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f914.svg" title="thinking"/></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1172940922477101116" id="chatlog__message-container-1172940922477101116"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="11 November 2023 16:48"><a href="#chatlog__message-container-1172940922477101116">11/11/2023 16:48</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">A few gripes/bugs for <a href="https://pyscript.com">https://pyscript.com</a>:
<ul><li>For a while now, the "Trending" and "Featured" scripts on <a href="https://pyscript.com">https://pyscript.com</a> are mostly broken. Right now, there is no user named "examples", for instance. </li><li>When you create a new script, it creates an index.html pointing to releases/2023.05.1, not the latest version, which I would expect.</li><li>I see no examples for MicroPython</li><li>Is "Trending" real at all? All four scripts mentioned there have not changed in a while and are all from March 11</li></ul>It would be nice to some TLC applied to the site.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1172957714280894514" id="chatlog__message-container-1172957714280894514"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/55a024203d38d12ff7a420ed0cdf1c3d.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="713425203618643971" style="color:rgb(26,194,181)" title="madhurt">madhurt</span> <span class="chatlog__timestamp" title="11 November 2023 17:55"><a href="#chatlog__message-container-1172957714280894514">11/11/2023 17:55</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="chris.laffra">@chris.laffra</span> We are in the process of transferring the ownership of the @examples account on pyscript.com
In fact, we removed the username from the old account this Friday only. The idea is to start fresh due to the recent release of PyScript Next i.e. 2023.11.1
which is a complete overhaul and re-write with a new core...

The new project that points to 2023.05.1 is yet to be changed.
Examples for MicroPython will also be added to the above mentioned @examples account.

Trending is not really real for now, but is on the roadmap.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1174275382678138930" id="chatlog__message-container-1174275382678138930"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/55a024203d38d12ff7a420ed0cdf1c3d.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="madhurt">madhurt</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1172957714280894514')"> <span class="chatlog__markdown-mention" title="chris.laffra">@chris.laffra</span> We are in the process of transferring the ownership of the @examples account on pyscript.com
In fact, we removed the username from the old account this Friday only. The idea is to start fresh due to the recent release of PyScript Next i.e. 2023.11.1
which is a complete overhaul and re-write with a new core...

The new project that points to 2023.05.1 is yet to be changed.
Examples for MicroPython will also be added to the above mentioned @examples account.

Trending is not really real for now, but is on the roadmap. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="15 November 2023 09:11"><a href="#chatlog__message-container-1174275382678138930">15/11/2023 09:11</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Good to hear all these updates to pyscript.com are on the roadmap! Looking forward to the upcoming changes.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1180537045869924493" id="chatlog__message-container-1180537045869924493"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6066823727371adce1beecad88e58ac5.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1178371648244682883" title="mikem_02140">MikeM</span> <span class="chatlog__timestamp" title="02 December 2023 15:52"><a href="#chatlog__message-container-1180537045869924493">02/12/2023 15:52</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Looking forward to MicroPython examples. I have this code that doesn't work on Micro "mpy" (button is grey and inactive), but works perfectly in "py"
&lt;button id ="btngetword" py-click="getword"&gt;Get New Word&lt;/button&gt;
&lt;script type="mpy" src="./main.py" ....

def getword(event):
    ....</span> <span class="chatlog__edited-timestamp" title="02 December 2023 15:54">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1180541627421446204" id="chatlog__message-container-1180541627421446204"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/53d94deacfba7bd2c8ad09ba1900ca8e.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6066823727371adce1beecad88e58ac5.png"/><div class="chatlog__reply-author" title="mikem_02140">MikeM</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1180537045869924493')"> Looking forward to MicroPython examples. I have this code that doesn't work on Micro "mpy" (button is grey and inactive), but works perfectly in "py"
&lt;button id ="btngetword" py-click="getword"&gt;Get New Word&lt;/button&gt;
&lt;script type="mpy" src="./main.py" ....

def getword(event):
    .... </span> <span class="chatlog__reply-edited-timestamp" title="02 December 2023 15:54">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="718800261606408203" title="39andabit">39AndABit</span> <span class="chatlog__timestamp" title="02 December 2023 16:10"><a href="#chatlog__message-container-1180541627421446204">02/12/2023 16:10</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I think the solution there may be changing <em>py-click</em> to <em>mpy-click</em></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1180542221905309886" id="chatlog__message-container-1180542221905309886"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6066823727371adce1beecad88e58ac5.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1178371648244682883" title="mikem_02140">MikeM</span> <span class="chatlog__timestamp" title="02 December 2023 16:13"><a href="#chatlog__message-container-1180542221905309886">02/12/2023 16:13</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">BRILLIANT!!   Thanks 39AndABit, mpy-click did the trick!!!</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="tada"><img alt="ðŸŽ‰" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f389.svg"/> <span class="chatlog__reaction-count">2</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1180935615630541023" id="chatlog__message-container-1180935615630541023"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6066823727371adce1beecad88e58ac5.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1178371648244682883" title="mikem_02140">MikeM</span> <span class="chatlog__timestamp" title="03 December 2023 18:16"><a href="#chatlog__message-container-1180935615630541023">03/12/2023 18:16</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Problem with random when in MicroPython: It produces a stream of pseudo random numbers, from eg. random.randint(0,255), BUT it produces the same stream each time. So it doesn't seem to seed at the start. I can force seed with random.seed(45), but how to generate the integer (here 45 for example)? (I failed miserably in trying to get a system time).
I notice the same problem on web with a dice thrower: <a href="https://leriomaggio.pyscriptapps.com/pyscript-dice-roller/latest/">https://leriomaggio.pyscriptapps.com/pyscript-dice-roller/latest/</a></span> <span class="chatlog__edited-timestamp" title="03 December 2023 18:17">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1180961543450525816" id="chatlog__message-container-1180961543450525816"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6fbe0cd5c9ba5d7ecf5d111f7d291ac9.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6066823727371adce1beecad88e58ac5.png"/><div class="chatlog__reply-author" title="mikem_02140">MikeM</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1180935615630541023')"> Problem with random when in MicroPython: It produces a stream of pseudo random numbers, from eg. random.randint(0,255), BUT it produces the same stream each time. So it doesn't seem to seed at the start. I can force seed with random.seed(45), but how to generate the integer (here 45 for example)? (I failed miserably in trying to get a system time).
I notice the same problem on web with a dice thrower: <a href="https://leriomaggio.pyscriptapps.com/pyscript-dice-roller/latest/">https://leriomaggio.pyscriptapps.com/pyscript-dice-roller/latest/</a> </span> <span class="chatlog__reply-edited-timestamp" title="03 December 2023 18:17">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="688046964549353491" style="color:rgb(26,194,181)" title="jeffglass">Jeff Glass</span> <span class="chatlog__timestamp" title="03 December 2023 19:59"><a href="#chatlog__message-container-1180961543450525816">03/12/2023 19:59</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Have not tried this, but you could use JavaScript's random function:
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-py">import js
from random import random

random.seed(js.Math.random()*2**16)</code>

Or something similar</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1181140339722035200" id="chatlog__message-container-1181140339722035200"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6066823727371adce1beecad88e58ac5.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1178371648244682883" title="mikem_02140">MikeM</span> <span class="chatlog__timestamp" title="04 December 2023 07:50"><a href="#chatlog__message-container-1181140339722035200">04/12/2023 07:50</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Jeff,  thanks for the suggestion, but js.Math.random() seems to just produce a zero. I'll keep trying - otherwise I'll ask user to type in a random number to start the seed.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1181161291751108649" id="chatlog__message-container-1181161291751108649"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6066823727371adce1beecad88e58ac5.png"/><div class="chatlog__reply-author" title="mikem_02140">MikeM</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1181140339722035200')"> Jeff,  thanks for the suggestion, but js.Math.random() seems to just produce a zero. I'll keep trying - otherwise I'll ask user to type in a random number to start the seed. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="04 December 2023 09:13"><a href="#chatlog__message-container-1181161291751108649">04/12/2023 09:13</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">ouch ... just tried myself and it looks indeed that MicroPython has issues with JS floating numbers ... it's not just Math.random ...</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1181162564604923925" id="chatlog__message-container-1181162564604923925"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="04 December 2023 09:18">09:18</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">FWIWI I've just reported to MicroPython discord channel the issue ... it looks like any float 32 number in JS gets casted as integer which is ... well ... unfortunate.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1181213844949966888" id="chatlog__message-container-1181213844949966888"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="04 December 2023 12:42"><a href="#chatlog__message-container-1181213844949966888">04/12/2023 12:42</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="mikem_02140">@MikeM</span> maybe using this workaround works? 

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Object.defineProperty(globalThis, 'seed', {get() {
    const random_val = new Uint8Array(1);
    crypto.getRandomValues(random_val);
    return random_val[0];
}});</code>

and then
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">import js
from random import random

random.seed(js.seed)</code></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1181217931904954409" id="chatlog__message-container-1181217931904954409"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="04 December 2023 12:58"><a href="#chatlog__message-container-1181217931904954409">04/12/2023 12:58</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">btw ... another possibility is to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">random.seed(js.Date.now())</code> as that basically represent the default <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">None</code> in Python where the seed is based on system time ... that <em>should</em> work too, without bothering the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">crypto</code> namespace.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1181218595552890890" id="chatlog__message-container-1181218595552890890"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="04 December 2023 13:00">13:00</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">a discussion about fixing this ourselves in PyScript has started here <a href="https://github.com/pyscript/pyscript/discussions/1883">https://github.com/pyscript/pyscript/discussions/1883</a> feel free to chime in <img alt="ðŸ‘" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg" title="thumbsup"/></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyscript/pyscript/discussions/1883"><div class="chatlog__markdown chatlog__markdown-preserve">Patching the "patch-able" Â· pyscript pyscript Â· Discussion #1883</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Coming after this discussion #1880 I think we have the opportunity to smooth out other gotchas here and there before such gotchas land mainstream. The js.document is just a common use case for work...</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/BINr1fYZDDzgVvgMExeZo54_ddl3Z4rStbk3f5aPhgc/https/opengraph.githubassets.com/d8e6de15f02b2e0dd651ff229c2845c7328efe1e360bc1ad9c6ba103828c016f/pyscript/pyscript/discussions/1883"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/BINr1fYZDDzgVvgMExeZo54_ddl3Z4rStbk3f5aPhgc/https/opengraph.githubassets.com/d8e6de15f02b2e0dd651ff229c2845c7328efe1e360bc1ad9c6ba103828c016f/pyscript/pyscript/discussions/1883"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1181236257750274150" id="chatlog__message-container-1181236257750274150"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6066823727371adce1beecad88e58ac5.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1178371648244682883" title="mikem_02140">MikeM</span> <span class="chatlog__timestamp" title="04 December 2023 14:11"><a href="#chatlog__message-container-1181236257750274150">04/12/2023 14:11</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Many thanks, Andrea, random.seed(js.Date.now()) solved the problem.</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="partying_face"><img alt="ðŸ¥³" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg"/> <span class="chatlog__reaction-count">2</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1183196625070460978" id="chatlog__message-container-1183196625070460978"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1181162564604923925')"> FWIWI I've just reported to MicroPython discord channel the issue ... it looks like any float 32 number in JS gets casted as integer which is ... well ... unfortunate. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="10 December 2023 00:00"><a href="#chatlog__message-container-1183196625070460978">10/12/2023 00:00</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">This I found out as well. Was quite a surprise and hard to debug <img alt="ðŸ˜‚" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f602.svg" title="joy"/></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1202658978673467424" id="chatlog__message-container-1202658978673467424"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/187d0c692a04ac03011826e94c5c150b.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6066823727371adce1beecad88e58ac5.png"/><div class="chatlog__reply-author" title="mikem_02140">MikeM</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1180935615630541023')"> Problem with random when in MicroPython: It produces a stream of pseudo random numbers, from eg. random.randint(0,255), BUT it produces the same stream each time. So it doesn't seem to seed at the start. I can force seed with random.seed(45), but how to generate the integer (here 45 for example)? (I failed miserably in trying to get a system time).
I notice the same problem on web with a dice thrower: <a href="https://leriomaggio.pyscriptapps.com/pyscript-dice-roller/latest/">https://leriomaggio.pyscriptapps.com/pyscript-dice-roller/latest/</a> </span> <span class="chatlog__reply-edited-timestamp" title="03 December 2023 18:17">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="812756728381964310" title="jos1965">Jos</span> <span class="chatlog__timestamp" title="01 February 2024 16:57"><a href="#chatlog__message-container-1202658978673467424">01/02/2024 16:57</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">From the docs :
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">random.seed(n=None, /)
Initialise the random number generator module with the seed n which should be an integer. When no argument (or None) is passed in it will (if supported by the port) initialise the PRNG with a true random number (usually a hardware generated random number).

The None case only works if MICROPY_PY_RANDOM_SEED_INIT_FUNC is enabled by the port, otherwise it raises ValueError.</code>
As no <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ValueError</code> is raised, it seems its not supported (yet) in Pyscript
<em><img alt="ðŸ¤" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f910.svg" title="zipper_mouth"/> Duh - I should have read back ahalf a page</em></span> <span class="chatlog__edited-timestamp" title="01 February 2024 16:59">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1202681931594993835" id="chatlog__message-container-1202681931594993835"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/187d0c692a04ac03011826e94c5c150b.png"/><div class="chatlog__reply-author" title="jos1965">Jos</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1202658978673467424')"> From the docs :
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">random.seed(n=None, /)
Initialise the random number generator module with the seed n which should be an integer. When no argument (or None) is passed in it will (if supported by the port) initialise the PRNG with a true random number (usually a hardware generated random number).

The None case only works if MICROPY_PY_RANDOM_SEED_INIT_FUNC is enabled by the port, otherwise it raises ValueError.</code>
As no <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">ValueError</code> is raised, it seems its not supported (yet) in Pyscript
<em><img alt="ðŸ¤" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f910.svg" title="zipper_mouth"/> Duh - I should have read back ahalf a page</em> </span> <span class="chatlog__reply-edited-timestamp" title="01 February 2024 16:59">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="01 February 2024 18:28"><a href="#chatlog__message-container-1202681931594993835">01/02/2024 18:28</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">it's eventually MicroPython, not PyScript, but that (IIRC and AFAIK) has been fixed .. which version are you using?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205486633114411068" id="chatlog__message-container-1205486633114411068"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="09 February 2024 12:13"><a href="#chatlog__message-container-1205486633114411068">09/02/2024 12:13</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I think PyOdide or MicroPython or WASM or PyScript, or whatever causes a memory leak. This error happens after reloading my app a hundred times with a worker with pandas and matplotlib inside of it. I then had to restart my Chrome browser to get my app to load okay again. Does the PyScript project have a regression test for browser memory leaks?</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1205486632900239431/image.png?ex=691bba2a&amp;is=691a68aa&amp;hm=f0d48dff5f1fcc1eb37c04f0c7079a55fc2781344743e3229947646906cc7af5&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (139.54 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205518198133231636" id="chatlog__message-container-1205518198133231636"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1205486633114411068')"> I think PyOdide or MicroPython or WASM or PyScript, or whatever causes a memory leak. This error happens after reloading my app a hundred times with a worker with pandas and matplotlib inside of it. I then had to restart my Chrome browser to get my app to load okay again. Does the PyScript project have a regression test for browser memory leaks? </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="09 February 2024 14:18"><a href="#chatlog__message-container-1205518198133231636">09/02/2024 14:18</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">how would you suggest we do that? bear in mind leaks in specific interpreters are rather specific interpreters issues so the question would probably be "do interpreters have such regression test?" because we run on JS and JS doesn't leak on refresh, it's a fresh new env every single time.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205518652443594824" id="chatlog__message-container-1205518652443594824"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="09 February 2024 14:20"><a href="#chatlog__message-container-1205518652443594824">09/02/2024 14:20</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">One way to test this would be to use a headless browser, load a document that imports pandas, and run the whole thing 1,000 times and report the memory increase of the process?</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1205519127717085214" id="chatlog__message-container-1205519127717085214"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="09 February 2024 14:22">14:22</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">It would be a defensive measure for PyScript to insulate itself from issues in PyOdide or MicroPython. For me it is very hard to do this kind of analysis myself, but it will impact my users down the road. The good-old "blame analysis game" in action. They blame me, you blame PyOdide, they blame Chromium, turtles all the way down. <img alt="ðŸ¤“" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f913.svg" title="nerd"/> .</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205522783019335780" id="chatlog__message-container-1205522783019335780"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1205518652443594824')"> One way to test this would be to use a headless browser, load a document that imports pandas, and run the whole thing 1,000 times and report the memory increase of the process? </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="09 February 2024 14:37"><a href="#chatlog__message-container-1205522783019335780">09/02/2024 14:37</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">it's a bit unpractical if we don't want CI to run "forever" per each change we do ... and if we detect anything it's still not on us so it's a half-futile measure to take as there's nothing we can do onc ewe detect that ...</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205523064264335421" id="chatlog__message-container-1205523064264335421"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="09 February 2024 14:38"><a href="#chatlog__message-container-1205523064264335421">09/02/2024 14:38</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">There is a difference between unit tests, integration tests, and regression tests.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205523445077770260" id="chatlog__message-container-1205523445077770260"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1205523064264335421')"> There is a difference between unit tests, integration tests, and regression tests. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="09 February 2024 14:39"><a href="#chatlog__message-container-1205523445077770260">09/02/2024 14:39</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">we run everything on code changes ... when/how should we run regression tests?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205523650833293352" id="chatlog__message-container-1205523650833293352"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1205523445077770260')"> we run everything on code changes ... when/how should we run regression tests? </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="09 February 2024 14:40"><a href="#chatlog__message-container-1205523650833293352">09/02/2024 14:40</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">and then again ... what would a failing test tell us or what could we do after?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205523939258794064" id="chatlog__message-container-1205523939258794064"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1205523650833293352')"> and then again ... what would a failing test tell us or what could we do after? </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="09 February 2024 14:41"><a href="#chatlog__message-container-1205523939258794064">09/02/2024 14:41</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">the 1000 times run is also flaky as metric ... maybe it breaks at 1001 ... so I think pyodide and MicroPython should do their checks before releases, at least, or it'll be a too late indirection from our side.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1205524433863835728" id="chatlog__message-container-1205524433863835728"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="09 February 2024 14:43">14:43</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">a concrete deadlock-release example: we have those tests, we want to release, then we run that regression test you are suggesting ... too bad, latest pyodide or MicroPython fail ... tey don't have such test, they think theyve fixed the issue, we re-update dependencies and re-do all the things before release ... oooops, we spot again the regression, we bring this to their attention ... and so on and so forth</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205525304546820146" id="chatlog__message-container-1205525304546820146"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="09 February 2024 14:47"><a href="#chatlog__message-container-1205525304546820146">09/02/2024 14:47</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">The alternative is that PyScript breaks me and I have even less idea what is broken. Right now, the app simply does not load and I have to now build in a JS check to verify PyScript actually loaded. If not, I show a dialog "PyScript did not load somehow, we suggest you restart your browser.".  I consider myself a customer of PyScript, not of MicroPython or PyOdide, as I have no idea how to even contact those teams.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205526316775112734" id="chatlog__message-container-1205526316775112734"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6fbe0cd5c9ba5d7ecf5d111f7d291ac9.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="688046964549353491" style="color:rgb(26,194,181)" title="jeffglass">Jeff Glass</span> <span class="chatlog__timestamp" title="09 February 2024 14:51"><a href="#chatlog__message-container-1205526316775112734">09/02/2024 14:51</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="chris.laffra">@chris.laffra</span> do you have a minimal-ish example of this behavior? Is it as simple as a worker tag that loads Matplotlib and pandas via py-config, and then refreshing the page over and over?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205527414562750464" id="chatlog__message-container-1205527414562750464"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6fbe0cd5c9ba5d7ecf5d111f7d291ac9.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="jeffglass">Jeff Glass</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1205526316775112734')"> <span class="chatlog__markdown-mention" title="chris.laffra">@chris.laffra</span> do you have a minimal-ish example of this behavior? Is it as simple as a worker tag that loads Matplotlib and pandas via py-config, and then refreshing the page over and over? </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="09 February 2024 14:55"><a href="#chatlog__message-container-1205527414562750464">09/02/2024 14:55</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Right now I have not. I have seen this happen a few times now with PySheets after a few days of developing on Chrome. My earlier mention of "1,000" was to suggest how performance regression tests work for memory leaks. It was not to suggest an explicit count, of course. The leak happens for each load, I would bet for $20.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1205527857653227560" id="chatlog__message-container-1205527857653227560"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="09 February 2024 14:57">14:57</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I am guessing it is a leak, based on close to 40 years of experience with systems like these. But, I am always willing to be surprised <img alt="ðŸ¤“" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f913.svg" title="nerd"/></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1205528107105255464" id="chatlog__message-container-1205528107105255464"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="09 February 2024 14:58">14:58</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I will keep an eye on my Chrome instance the coming days to see if I can see a memory increase</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205529089763442718" id="chatlog__message-container-1205529089763442718"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6fbe0cd5c9ba5d7ecf5d111f7d291ac9.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="688046964549353491" style="color:rgb(26,194,181)" title="jeffglass">Jeff Glass</span> <span class="chatlog__timestamp" title="09 February 2024 15:02"><a href="#chatlog__message-container-1205529089763442718">09/02/2024 15:02</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Please do! It's surely possible it's in PyScript, or it's upsteam components, or perhaps something in the way any of those are interacting with your particular dev environment... regardless, PySheets as an advanced PyScript application and development process is really helpful for us in general</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205529123926048768" id="chatlog__message-container-1205529123926048768"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="09 February 2024 15:02"><a href="#chatlog__message-container-1205529123926048768">09/02/2024 15:02</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I am not sure how to see a trend in these numbers without automation, though. This is after a fresh start with one reload of PySheets. So many processes, so much memory <img alt="ðŸ¤”" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f914.svg" title="thinking"/></span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1205529123645038632/image.png?ex=691be1bc&amp;is=691a903c&amp;hm=c0b791be4dc1a2ad927f2575cdb3476fc6e3c06ede2a8e2f578dc33e51242bd8&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (133.61 KB)"/> </a></div></div></div></div><div class="chatlog__message-container" data-message-id="1205529449034944532" id="chatlog__message-container-1205529449034944532"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="09 February 2024 15:03">15:03</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I only have one tab open. PySheets loads on MicroPython with a PyOdide worker. I have Chrome Devtools open.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205529740232888380" id="chatlog__message-container-1205529740232888380"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6fbe0cd5c9ba5d7ecf5d111f7d291ac9.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1205529123926048768')"> I am not sure how to see a trend in these numbers without automation, though. This is after a fresh start with one reload of PySheets. So many processes, so much memory <img alt="ðŸ¤”" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f914.svg" title="thinking"/> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="688046964549353491" style="color:rgb(26,194,181)" title="jeffglass">Jeff Glass</span> <span class="chatlog__timestamp" title="09 February 2024 15:04"><a href="#chatlog__message-container-1205529740232888380">09/02/2024 15:04</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Chrome's memory timelines may be a helpful here <a href="https://developer.chrome.com/docs/devtools/memory-problems">https://developer.chrome.com/docs/devtools/memory-problems</a></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1205529844889157734" id="chatlog__message-container-1205529844889157734"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="09 February 2024 15:05">15:05</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Gives some finer grained views of heap memory, though I don't know how practical that is to run over a timespan of days</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205530116432859166" id="chatlog__message-container-1205530116432859166"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="09 February 2024 15:06"><a href="#chatlog__message-container-1205530116432859166">09/02/2024 15:06</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">This is after 10 reloads:</span> <span class="chatlog__edited-timestamp" title="09 February 2024 15:07">(edited)</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1205530407580336198" id="chatlog__message-container-1205530407580336198"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="09 February 2024 15:07">15:07</div></div><div class="chatlog__message-primary"><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1205530407395663882/image.png?ex=691be2ee&amp;is=691a916e&amp;hm=1bea9929792029b6a1882ab0e06ce04fe07fd632a2a028bb3efa3a2d42de4154&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (120.11 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205532275618349096" id="chatlog__message-container-1205532275618349096"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6fbe0cd5c9ba5d7ecf5d111f7d291ac9.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="688046964549353491" style="color:rgb(26,194,181)" title="jeffglass">Jeff Glass</span> <span class="chatlog__timestamp" title="09 February 2024 15:14"><a href="#chatlog__message-container-1205532275618349096">09/02/2024 15:14</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Huh... and you're not doing any additional caching on top of PyScript? Just going a quick test with pandas and matplotlib in a worker (just installing, importing and doing <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">print(dir(lib))</code> for both) I'm not seeing the memory usage grow at all after 10 reloads.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205534332274614334" id="chatlog__message-container-1205534332274614334"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="09 February 2024 15:23"><a href="#chatlog__message-container-1205534332274614334">09/02/2024 15:23</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">there is a performance tab in devtools with a GC collector ... I'd be curious to know if that changes anything ... but then again, if Jeff can't reproduce it by just loading those packages repeatedly, at least we need a minimal example to reproduce the issue.

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">I am guessing it is a leak, based on close to 40 years of experience with systems like these.
</div></div>
by no mean I wanted to even discuss your experience there, I just answered from a practical level ... if our interpreters have issues, there's little we can do about it!

<div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">I consider myself a customer of PyScript, not of MicroPython or PyOdide, as I have no idea how to even contact those teams.
</div></div>
it's a fari point ... but you also use an Operating System and any of its software you use can crash too ... you can blame the OS all you like, but if the issue is within those softwares instead, there's very little the OS can grant you (blue screen of doom anyone? <img alt="ðŸ˜…" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f605.svg" title="sweat_smile"/>)</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1205535098821414912" id="chatlog__message-container-1205535098821414912"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="09 February 2024 15:26">15:26</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">to me this issue needs a bit more narrowing down:
<ul><li>is the MicroPython side that causes the problem?</li><li>is the worker that does?</li><li>what if both main and worker use pyodide, is the problem still there? (this answers maybe first point)</li><li>are you sure in your code nowhere there's something able to leak across multiple refreshes? I am not excluding a Chromium bug with WASM neither ... but that's why we should find the culprit and decide <em>after</em> how to prevent that issue to happen again in the future, <em>if</em> we can</li></ul></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205549928693104690" id="chatlog__message-container-1205549928693104690"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6fbe0cd5c9ba5d7ecf5d111f7d291ac9.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="688046964549353491" style="color:rgb(26,194,181)" title="jeffglass">Jeff Glass</span> <span class="chatlog__timestamp" title="09 February 2024 16:25"><a href="#chatlog__message-container-1205549928693104690">09/02/2024 16:25</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">In any case Chris, we appreciate the report and the digging! From your images above, it seems like <em>something</em> is going on... whether it's in PyScript, or upstream, or downstream, I suspect we'll learn something that can be helpful to future users of PyScript, as well as someone <em>somewhere</em> in the dependency chain <img alt="ðŸ’¯" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4af.svg" title="100"/></span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">2</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205556844173590578" id="chatlog__message-container-1205556844173590578"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6fbe0cd5c9ba5d7ecf5d111f7d291ac9.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="jeffglass">Jeff Glass</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1205549928693104690')"> In any case Chris, we appreciate the report and the digging! From your images above, it seems like <em>something</em> is going on... whether it's in PyScript, or upstream, or downstream, I suspect we'll learn something that can be helpful to future users of PyScript, as well as someone <em>somewhere</em> in the dependency chain <img alt="ðŸ’¯" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4af.svg" title="100"/> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="09 February 2024 16:52"><a href="#chatlog__message-container-1205556844173590578">09/02/2024 16:52</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">absolutely, I never wanted to push back on this ... rather trying to understand the best way forward, regressions tests or not!</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="heart"><img alt="â¤ï¸" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg"/> <span class="chatlog__reaction-count">2</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205569488486137856" id="chatlog__message-container-1205569488486137856"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="09 February 2024 17:42"><a href="#chatlog__message-container-1205569488486137856">09/02/2024 17:42</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I will keep a close eye on this and when it happens again make sure to analyse the browser resources in detail. I am using Brave for all my normal browsing and only use Chrome during development, so it won't be contaminated by other apps at all, if this error shows up again.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205569686947766312" id="chatlog__message-container-1205569686947766312"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1205556844173590578')"> absolutely, I never wanted to push back on this ... rather trying to understand the best way forward, regressions tests or not! </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="09 February 2024 17:43"><a href="#chatlog__message-container-1205569686947766312">09/02/2024 17:43</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Totally understand. I was merely asking if you had any tests, not that I was demanding you have them.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205909111275782157" id="chatlog__message-container-1205909111275782157"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="10 February 2024 16:12"><a href="#chatlog__message-container-1205909111275782157">10/02/2024 16:12</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I ran into <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">WebAssembly.Memory</code> error again today. This time, I isolated it to PyOdide, as I only use PyOdide for the main thread and my one worker. I see nothing extraordinary in the memory reported by the Activity Monitor. Still not reproducible, other than following the script: "Have Chris iterate on his app for a day" <img alt="ðŸ¤“" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f913.svg" title="nerd"/></span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1205909111103819917/image.png?ex=691bf220&amp;is=691aa0a0&amp;hm=845c3934321125252e1fb198cd333bfc86235f4ec83ac33991da9c75d6e45712&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (195.81 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1205912696520839268" id="chatlog__message-container-1205912696520839268"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="10 February 2024 16:26"><a href="#chatlog__message-container-1205912696520839268">10/02/2024 16:26</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">When I close the devtools window and reload the browser tab, I get the same error. However, it loads fine when I open a new browser tab to the same local URL, with or without devtools open. This makes me think it is related to some stateful memory attached to the tab itself. Namely, when I manually kill the browser tab process and then reload the page it works fine (which resembles starting a new tab). This works even when the original page had a devtools window open. All this suggests the problem is not related to the devtools window (and process), but limited to the main browser renderer process.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206554171101282314" id="chatlog__message-container-1206554171101282314"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1205912696520839268')"> When I close the devtools window and reload the browser tab, I get the same error. However, it loads fine when I open a new browser tab to the same local URL, with or without devtools open. This makes me think it is related to some stateful memory attached to the tab itself. Namely, when I manually kill the browser tab process and then reload the page it works fine (which resembles starting a new tab). This works even when the original page had a devtools window open. All this suggests the problem is not related to the devtools window (and process), but limited to the main browser renderer process. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 February 2024 10:55"><a href="#chatlog__message-container-1206554171101282314">12/02/2024 10:55</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I need to ask: are you using utilities such as <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_callback_once</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_proxy</code> to attach functions around? If the answer is yes, would you mind to be so kind to test the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">experimental_create_proxy = "auto"</code> flag in your <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">config.toml</code> (or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">py-config</code>) after removing those wrappers around and see if you can reproduce the error again? That might help us <em>A LOT</em> to convince <em>Pyodide</em> team that manual orchestration of proxies from users-side is actually failing while automatic usage of the GC internals help <img alt="ðŸ™" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg" title="pray"/></span> <span class="chatlog__edited-timestamp" title="12 February 2024 10:55">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206629694037037136" id="chatlog__message-container-1206629694037037136"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1206554171101282314')"> I need to ask: are you using utilities such as <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_callback_once</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_proxy</code> to attach functions around? If the answer is yes, would you mind to be so kind to test the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">experimental_create_proxy = "auto"</code> flag in your <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">config.toml</code> (or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">py-config</code>) after removing those wrappers around and see if you can reproduce the error again? That might help us <em>A LOT</em> to convince <em>Pyodide</em> team that manual orchestration of proxies from users-side is actually failing while automatic usage of the GC internals help <img alt="ðŸ™" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg" title="pray"/> </span> <span class="chatlog__reply-edited-timestamp" title="12 February 2024 10:55">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 February 2024 15:55"><a href="#chatlog__message-container-1206629694037037136">12/02/2024 15:55</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">one more hint ... just for sanity check ... if you don't want to go/try the way I have suggested, in your devtools tabs there is a <em>performance</em> one which has a lovely <em>collect garbage</em> in there and I wonder, if pressed from time to time, if it would still reproduce the same error ... this test would instead hint there is a follow-up bug to land in Chromium repository so that if pressing that still creates the issue, we can exclude Chromium code/engine from this issue.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206638859610235031" id="chatlog__message-container-1206638859610235031"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1206629694037037136')"> one more hint ... just for sanity check ... if you don't want to go/try the way I have suggested, in your devtools tabs there is a <em>performance</em> one which has a lovely <em>collect garbage</em> in there and I wonder, if pressed from time to time, if it would still reproduce the same error ... this test would instead hint there is a follow-up bug to land in Chromium repository so that if pressing that still creates the issue, we can exclude Chromium code/engine from this issue. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 February 2024 16:32"><a href="#chatlog__message-container-1206638859610235031">12/02/2024 16:32</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">last, but not least, if you have any <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_once_callable</code> in the mix, and you are usign raw DOM API, please never forget to pass <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">{"once": true}</code> as third argument of <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">addEventListener</code>, as I think there's a granted leak in that pyodide implementation too ... but never got a chance to demonstrate there is, thank you!</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206646393763266591" id="chatlog__message-container-1206646393763266591"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1206554171101282314')"> I need to ask: are you using utilities such as <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_callback_once</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_proxy</code> to attach functions around? If the answer is yes, would you mind to be so kind to test the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">experimental_create_proxy = "auto"</code> flag in your <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">config.toml</code> (or <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">py-config</code>) after removing those wrappers around and see if you can reproduce the error again? That might help us <em>A LOT</em> to convince <em>Pyodide</em> team that manual orchestration of proxies from users-side is actually failing while automatic usage of the GC internals help <img alt="ðŸ™" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg" title="pray"/> </span> <span class="chatlog__reply-edited-timestamp" title="12 February 2024 10:55">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="12 February 2024 17:01"><a href="#chatlog__message-container-1206646393763266591">12/02/2024 17:01</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Is there documentation for the contents for py-config, such as <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">experimental_create_proxy</code> ? Right now I am getting <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Error: This borrowed proxy was automatically destroyed at the end of a function call. Try using create_proxy or create_once_callable.</code></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1206646705894727690" id="chatlog__message-container-1206646705894727690"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 February 2024 17:03">17:03</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Google search was not effective, maybe I have to ask any of generative AIs <img alt="ðŸ¤“" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f913.svg" title="nerd"/></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206693361830858842" id="chatlog__message-container-1206693361830858842"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1206646393763266591')"> Is there documentation for the contents for py-config, such as <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">experimental_create_proxy</code> ? Right now I am getting <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Error: This borrowed proxy was automatically destroyed at the end of a function call. Try using create_proxy or create_once_callable.</code> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 February 2024 20:08"><a href="#chatlog__message-container-1206693361830858842">12/02/2024 20:08</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">you are using 2024.1.3 ... right? it's one of those things we didn't promote too much but the code is there <a href="https://github.com/pyscript/polyscript/blob/main/esm/interpreter/pyodide.js#L85-L86">https://github.com/pyscript/polyscript/blob/main/esm/interpreter/pyodide.js#L85-L86</a> ... if your code comes from a worker though, you shouldn't need it, but if it's on main, that error for functions/callbacks involving JS APIs should not happen, accordingly to our integration tests.</span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyscript/polyscript/blob/main/esm/interpreter/pyodide.js"><div class="chatlog__markdown chatlog__markdown-preserve">polyscript/esm/interpreter/pyodide.js at main Â· pyscript/polyscript</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Polyscript - PyScript single core to rule them all - pyscript/polyscript</div></div></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206695570861850675" id="chatlog__message-container-1206695570861850675"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1206693361830858842')"> you are using 2024.1.3 ... right? it's one of those things we didn't promote too much but the code is there <a href="https://github.com/pyscript/polyscript/blob/main/esm/interpreter/pyodide.js#L85-L86">https://github.com/pyscript/polyscript/blob/main/esm/interpreter/pyodide.js#L85-L86</a> ... if your code comes from a worker though, you shouldn't need it, but if it's on main, that error for functions/callbacks involving JS APIs should not happen, accordingly to our integration tests. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="12 February 2024 20:17"><a href="#chatlog__message-container-1206695570861850675">12/02/2024 20:17</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I think I am doing it right... I am getting the errors on the main thread, not in a worker. These are caused by event handlers set up with  <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">jquery</code> (using LTK).</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1206695570685825044/image.png?ex=691c2b93&amp;is=691ada13&amp;hm=69eeae5df4bfaeaa24f5facde530945771e07fe28b570cc9a013fb01231700d5&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (806.02 KB)"/> </a></div></div></div></div><div class="chatlog__message-container" data-message-id="1206695959283638372" id="chatlog__message-container-1206695959283638372"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 February 2024 20:18">20:18</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I could use some extra pointers as well how to set <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">pyodide.setDebug(true)</code>. Where and when should I do that?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206696018272452659" id="chatlog__message-container-1206696018272452659"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1206695570861850675')"> I think I am doing it right... I am getting the errors on the main thread, not in a worker. These are caused by event handlers set up with  <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">jquery</code> (using LTK). </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 February 2024 20:19"><a href="#chatlog__message-container-1206696018272452659">12/02/2024 20:19</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">uhm ... too bad it doesn't work out of the box but yes, that looks OK ... now the follow up question: how are you freeing <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_proxy</code> callbacks in there, if ever?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206696639071256636" id="chatlog__message-container-1206696639071256636"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="12 February 2024 20:21"><a href="#chatlog__message-container-1206696639071256636">12/02/2024 20:21</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I do not as all of them tend to be static and long-lived anyways.  As an aside, in MicroPython I do not need to use proxies at all and things work magically. What's the difference?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206696677432369314" id="chatlog__message-container-1206696677432369314"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 February 2024 20:21"><a href="#chatlog__message-container-1206696677432369314">12/02/2024 20:21</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">and do you use ever the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_callable_once</code> utility? that's another potential leak to me as on WASM side it gets freed, on JS side not necessarily if that listener never gets removed ... I am just trying to understand your use-case stack though, where if tons of <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_proxy</code> is needed, I can already see how many ways that can fail at cleaning up the GC in the long run ... although a refresh should do, you seem to have issues on the same <em>session</em> (no new tab) though, so maybe I can start checking Pyodide to see if anything rings a bell</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206696824216232007" id="chatlog__message-container-1206696824216232007"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="12 February 2024 20:22"><a href="#chatlog__message-container-1206696824216232007">12/02/2024 20:22</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">It could be leaking proxies, that would make sense.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1206697018265833564" id="chatlog__message-container-1206697018265833564"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 February 2024 20:23">20:23</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">But, when I refresh a page, I would expect the WASM session to be fully unloaded anyways...</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206697197786365982" id="chatlog__message-container-1206697197786365982"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1206696639071256636')"> I do not as all of them tend to be static and long-lived anyways.  As an aside, in MicroPython I do not need to use proxies at all and things work magically. What's the difference? </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 February 2024 20:23"><a href="#chatlog__message-container-1206697197786365982">12/02/2024 20:23</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">MicroPython is less paranoid about leaks on the Web while Pyodide is overly explicit about what should be log-lived and what shouldn't ... the flag I've suggested should take the best from both worlds but it's clearly not working in your use case and it's hard for me to reproduce that specific use case that fails ... but I will try with jQuery as borrowed Pyodide library and see if there's anything we can do about it.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206697424811466902" id="chatlog__message-container-1206697424811466902"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="12 February 2024 20:24"><a href="#chatlog__message-container-1206697424811466902">12/02/2024 20:24</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Let me try to make a minimal example on pyscript.com</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206697551936356453" id="chatlog__message-container-1206697551936356453"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1206697018265833564')"> But, when I refresh a page, I would expect the WASM session to be fully unloaded anyways... </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 February 2024 20:25"><a href="#chatlog__message-container-1206697551936356453">12/02/2024 20:25</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">there is a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">sessionStorage</code> that might be "abused" on Pyodide to fast-path/bootstrap stuff on the same tab ... it's the only primitive I know that persists on same tab but would be new/clear on any new tab but I haven't investigated anough to see if that might be the root cause of your issues there.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1206697949992849518" id="chatlog__message-container-1206697949992849518"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 February 2024 20:26">20:26</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">nope, that looks like the only reference after a quick search ... <a href="https://github.com/pyodide/pyodide/blob/e24c2c248f244a70290d129b01303f8a2af6b3e8/src/js/environments.ts#L34">https://github.com/pyodide/pyodide/blob/e24c2c248f244a70290d129b01303f8a2af6b3e8/src/js/environments.ts#L34</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyodide/pyodide/blob/e24c2c248f244a70290d129b01303f8a2af6b3e8/src/js/environments.ts"><div class="chatlog__markdown chatlog__markdown-preserve">pyodide/src/js/environments.ts at e24c2c248f244a70290d129b01303f8a2...</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Pyodide is a Python distribution for the browser and Node.js based on WebAssembly - pyodide/pyodide</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/AEFB5NkT7eYn4HbtRrLgOvk4xIDl_uMp62EsOPPc-ds/https/opengraph.githubassets.com/4c17db1741328e7991fa17d384d5c05dcb6b6e93812bd6151817c399fae4d1c6/pyodide/pyodide"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/AEFB5NkT7eYn4HbtRrLgOvk4xIDl_uMp62EsOPPc-ds/https/opengraph.githubassets.com/4c17db1741328e7991fa17d384d5c05dcb6b6e93812bd6151817c399fae4d1c6/pyodide/pyodide"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206699422637883403" id="chatlog__message-container-1206699422637883403"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1206697949992849518')"> nope, that looks like the only reference after a quick search ... <a href="https://github.com/pyodide/pyodide/blob/e24c2c248f244a70290d129b01303f8a2af6b3e8/src/js/environments.ts#L34">https://github.com/pyodide/pyodide/blob/e24c2c248f244a70290d129b01303f8a2af6b3e8/src/js/environments.ts#L34</a> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 February 2024 20:32"><a href="#chatlog__message-container-1206699422637883403">12/02/2024 20:32</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><em>but</em> ... the mounting point for native FS seems to be based on <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">navigator.storage</code> which is a session related storage too ... and <em>maybe</em>, just <em>maybe</em>, we're into something here <a href="https://github.com/search?q=repo%3Apyodide%2Fpyodide%20mountNativeFS&amp;type=code">https://github.com/search?q=repo%3Apyodide%2Fpyodide%20mountNativeFS&amp;type=code</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/search?q=repo%3Apyodide%2Fpyodide%20mountNativeFS&amp;type=code"><div class="chatlog__markdown chatlog__markdown-preserve">Build software better, together</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">GitHub is where people build software. More than 100 million people use GitHub to discover, fork, and contribute to over 420 million projects.</div></div></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class="chatlog__embed-image-container"><a class="chatlog__embed-image-link" href="https://images-ext-1.discordapp.net/external/zrnIBpWQXHOafgsWGuTZvhY0r8aEHF-xBeTOrB3xlJU/https/github.githubassets.com/assets/github-logo-55c5b9a1fe52.png"> <img alt="Image" class="chatlog__embed-image" loading="lazy" src="https://images-ext-1.discordapp.net/external/zrnIBpWQXHOafgsWGuTZvhY0r8aEHF-xBeTOrB3xlJU/https/github.githubassets.com/assets/github-logo-55c5b9a1fe52.png"/> </a></div></div></div></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class="chatlog__embed-image-container"><a class="chatlog__embed-image-link" href="https://images-ext-1.discordapp.net/external/FRgfgb8oHhfnQvjHln3zixTf7gq7QoqGd3zUTHj8dYs/https/github.githubassets.com/assets/github-mark-57519b92ca4e.png"> <img alt="Image" class="chatlog__embed-image" loading="lazy" src="https://images-ext-1.discordapp.net/external/FRgfgb8oHhfnQvjHln3zixTf7gq7QoqGd3zUTHj8dYs/https/github.githubassets.com/assets/github-mark-57519b92ca4e.png"/> </a></div></div></div></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class="chatlog__embed-image-container"><a class="chatlog__embed-image-link" href="https://images-ext-1.discordapp.net/external/8FXhmVUPVyR2kElkdv_UGNnEDNM53oUrUfnhRGabHp8/https/github.githubassets.com/assets/github-octocat-13c86b8b336d.png"> <img alt="Image" class="chatlog__embed-image" loading="lazy" src="https://images-ext-1.discordapp.net/external/8FXhmVUPVyR2kElkdv_UGNnEDNM53oUrUfnhRGabHp8/https/github.githubassets.com/assets/github-octocat-13c86b8b336d.png"/> </a></div></div></div></div></div></div></div><div class="chatlog__message-container" data-message-id="1206699518608023582" id="chatlog__message-container-1206699518608023582"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 February 2024 20:33">20:33</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><a href="https://developer.mozilla.org/en-US/docs/Web/API/StorageManager">https://developer.mozilla.org/en-US/docs/Web/API/StorageManager</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(255,255,255,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://developer.mozilla.org/en-US/docs/Web/API/StorageManager"><div class="chatlog__markdown chatlog__markdown-preserve">StorageManager - Web APIs | MDN</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">The StorageManager interface of the Storage API provides an interface for managing persistence permissions and estimating available storage. You can get a reference to this interface using either navigator.storage or WorkerNavigator.storage.</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/uTsbfg1keKx7xiXpqHx6VONnYXONQVyFzRcHtfMZfeg/https/developer.mozilla.org/mdn-social-share.cd6c4a5a.png"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/uTsbfg1keKx7xiXpqHx6VONnYXONQVyFzRcHtfMZfeg/https/developer.mozilla.org/mdn-social-share.cd6c4a5a.png"/> </a></div></div></div></div></div></div></div><div class="chatlog__message-container" data-message-id="1206699715924598844" id="chatlog__message-container-1206699715924598844"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 February 2024 20:33">20:33</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">are there many/heavy FS operations in your code? it might help narrowing down the research area for this bug</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1206700209787371671" id="chatlog__message-container-1206700209787371671"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 February 2024 20:35">20:35</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I will be looking for answers out there but if you could land that reproducible issue we'd have a starting point ... although this <em>new tab works</em> scenario makes me think there's something coupled with the session that might have nothing to do with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_proxy</code> itself.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206700669042561136" id="chatlog__message-container-1206700669042561136"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="12 February 2024 20:37"><a href="#chatlog__message-container-1206700669042561136">12/02/2024 20:37</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Well, I got it working correctly (with auto and no errors) as you suggested here: <a href="https://pyscript.com/@laffra/pyodide-create-proxy-demo/latest">https://pyscript.com/@laffra/pyodide-create-proxy-demo/latest</a>. Will check and clear my browser caches or something. Weird.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1206701430619115531" id="chatlog__message-container-1206701430619115531"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 February 2024 20:40">20:40</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Let's hope that (any) such leaks are not providing a side-channel information attack vector...</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1206900061460504596" id="chatlog__message-container-1206900061460504596"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1206701430619115531')"> Let's hope that (any) such leaks are not providing a side-channel information attack vector... </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="13 February 2024 09:49"><a href="#chatlog__message-container-1206900061460504596">13/02/2024 09:49</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">not sure I am following this concern ... which leak and/or which side-channel attack? <img alt="ðŸ¤”" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f914.svg" title="thinking"/></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1206900215492386857" id="chatlog__message-container-1206900215492386857"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="13 February 2024 09:50">09:50</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">the demo also works for me but maybe you forgot the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">worker</code> attribute beside terminal? I see clicks logged/appended on the page.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1207041963077935184" id="chatlog__message-container-1207041963077935184"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="13 February 2024 19:13"><a href="#chatlog__message-container-1207041963077935184">13/02/2024 19:13</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="chris.laffra">@chris.laffra</span> awesome demo today, as mentioned in the meeting ... looking forward to hear more about what works and what doesn't with the experimental <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_proxy = "auto"</code> flag but, most importantly, I'd love to understand your previous comment ... as the primitives behind that flag are all standards based and I am sure nobody specd' leaks in the <em>FinalizationRegistry</em> API.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1207077314693828660" id="chatlog__message-container-1207077314693828660"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1207041963077935184')"> <span class="chatlog__markdown-mention" title="chris.laffra">@chris.laffra</span> awesome demo today, as mentioned in the meeting ... looking forward to hear more about what works and what doesn't with the experimental <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">create_proxy = "auto"</code> flag but, most importantly, I'd love to understand your previous comment ... as the primitives behind that flag are all standards based and I am sure nobody specd' leaks in the <em>FinalizationRegistry</em> API. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="13 February 2024 21:34"><a href="#chatlog__message-container-1207077314693828660">13/02/2024 21:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Let's get on a call, this is more of a high-density meeting we should have, I think.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1207246521473572864" id="chatlog__message-container-1207246521473572864"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1207077314693828660')"> Let's get on a call, this is more of a high-density meeting we should have, I think. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="14 February 2024 08:46"><a href="#chatlog__message-container-1207246521473572864">14/02/2024 08:46</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">happy to discuss this afternoon, hopefully before 6pm CET <img alt="ðŸ‘" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg" title="thumbsup"/></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1217781519276310609" id="chatlog__message-container-1217781519276310609"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1060515719575515186" title="zobi5905">zobi</span> <span class="chatlog__timestamp" title="14 March 2024 10:28"><a href="#chatlog__message-container-1217781519276310609">14/03/2024 10:28</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Display function prints after taking user inputs. But first it was suppose to display print function and ask for inputs. <a href="https://_12.pyscriptapps.com/mute-term/latest/">https://_12.pyscriptapps.com/mute-term/latest/</a></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1222131512518905947" id="chatlog__message-container-1222131512518905947"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/0.png"/><div class="chatlog__reply-author" title="zobi5905">zobi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1217781519276310609')"> Display function prints after taking user inputs. But first it was suppose to display print function and ask for inputs. <a href="https://_12.pyscriptapps.com/mute-term/latest/">https://_12.pyscriptapps.com/mute-term/latest/</a> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="26 March 2024 10:34"><a href="#chatlog__message-container-1222131512518905947">26/03/2024 10:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">window.prompt</code> blocks the main thread ... nothing will ever happen in there so if you block the main thread with a prompt you cannot expect much else happening in there ... use a timeout to ask for input and see it working.</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1238718202062835762" id="chatlog__message-container-1238718202062835762"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1060515719575515186" title="zobi5905">zobi</span> <span class="chatlog__timestamp" title="11 May 2024 06:03"><a href="#chatlog__message-container-1238718202062835762">11/05/2024 06:03</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Every time I run Py-editor it show the an error for the first run. <a href="https://www.youtube.com/watch?v=oIK3ARnfbPE">https://www.youtube.com/watch?v=oIK3ARnfbPE</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(255,0,0,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-author-container"><a class="chatlog__embed-author-link" href="https://www.youtube.com/channel/UC1MoNqwdJJe3PseP-MRchGA"><div class="chatlog__embed-author">Project</div></a></div><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://www.youtube.com/watch?v=oIK3ARnfbPE"><div class="chatlog__markdown chatlog__markdown-preserve">pyscript issue</div></a></div><div class="chatlog__embed-youtube-container"><iframe class="chatlog__embed-youtube" height="225" src="https://www.youtube.com/embed/oIK3ARnfbPE" width="400"></iframe></div></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1239546057029976158" id="chatlog__message-container-1239546057029976158"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/0.png"/><div class="chatlog__reply-author" title="zobi5905">zobi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1238718202062835762')"> Every time I run Py-editor it show the an error for the first run. <a href="https://www.youtube.com/watch?v=oIK3ARnfbPE">https://www.youtube.com/watch?v=oIK3ARnfbPE</a> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="13 May 2024 12:53"><a href="#chatlog__message-container-1239546057029976158">13/05/2024 12:53</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">fixed in 2024.5.2</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1248192285389357159" id="chatlog__message-container-1248192285389357159"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/244325133d6e224605442596f1b13e30.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="755072552191131750" title="nac_sanz">NachoSanz</span> <span class="chatlog__timestamp" title="06 June 2024 09:30"><a href="#chatlog__message-container-1248192285389357159">06/06/2024 09:30</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Hi, on this page <a href="https://pyscript.recipes/latest/basic/running-code/">https://pyscript.recipes/latest/basic/running-code/</a> , 
the link for "Once you have PyScript running on your pageâ€¦" is broken <img alt="ðŸ™‚" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f642.svg" title="slight_smile"/></span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1248192285472981083/image.png?ex=691c2ea7&amp;is=691add27&amp;hm=0c568e68df330eed441135c281eb10e05d64691804f4b6b3b528d77f6fc1850e&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (88.22 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1248303109336465470" id="chatlog__message-container-1248303109336465470"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="06 June 2024 16:50"><a href="#chatlog__message-container-1248303109336465470">06/06/2024 16:50</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="jeffglass">@Jeff Glass</span> ^^^</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="eyes"><img alt="ðŸ‘€" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f440.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1249035217713496195" id="chatlog__message-container-1249035217713496195"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="687265270229631006" title="jburnett9186">jburnett</span> <span class="chatlog__timestamp" title="08 June 2024 17:20"><a href="#chatlog__message-container-1249035217713496195">08/06/2024 17:20</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">It looks like Element.classes doesn't appear to work properly w/ the MicroPython runtime.  If I create a new element via
<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">new_div = pydom.create("div", classes=['test-class'])</code>

then <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">new_div.classes</code> just returns an empty list. Doing the same thing w/ the Pyodide runtime works properly (returns <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">['test-class']</code>).

<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Element.add_class()</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.remove_class()</code> work in both cases (I see the classes change in the browser's web inspector), but the results don't show up in <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">.classes</code> w/ MicroPython.

I'm using the 2024.6.1 release.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1249036086777483306" id="chatlog__message-container-1249036086777483306"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="08 June 2024 17:23">17:23</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-python">MicroPython v1.23.0 on 2024-05-31; JS with Emscripten
Type "help()" for more information.
&gt;&gt;&gt; from pyweb import pydom
&gt;&gt;&gt; new_div = pydom.create("div", classes=['test-class'])
&gt;&gt;&gt; new_div.classes
[]
&gt;&gt;&gt; new_div.remove_class('test-class')
&lt;Element object at 33b10&gt;
&gt;&gt;&gt; new_div.classes
[]
&gt;&gt;&gt; new_div.add_class('test-class')
&lt;Element object at 33b10&gt;
&gt;&gt;&gt; new_div.classes
[]
&gt;&gt;&gt; </code></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1249699803319898123" id="chatlog__message-container-1249699803319898123"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="10 June 2024 13:20"><a href="#chatlog__message-container-1249699803319898123">10/06/2024 13:20</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="jburnett9186">@jburnett</span> thank you for the feedback. Can you create an issue about this please..? <a href="https://github.com/pyscript/pyscript/issues/new/choose">https://github.com/pyscript/pyscript/issues/new/choose</a> This is one for <span class="chatlog__markdown-mention" title="fpliger">@Fabio</span></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyscript/pyscript/issues/new/choose"><div class="chatlog__markdown chatlog__markdown-preserve">Build software better, together</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">GitHub is where people build software. More than 100 million people use GitHub to discover, fork, and contribute to over 420 million projects.</div></div></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class="chatlog__embed-image-container"><a class="chatlog__embed-image-link" href="https://images-ext-1.discordapp.net/external/zrnIBpWQXHOafgsWGuTZvhY0r8aEHF-xBeTOrB3xlJU/https/github.githubassets.com/assets/github-logo-55c5b9a1fe52.png"> <img alt="Image" class="chatlog__embed-image" loading="lazy" src="https://images-ext-1.discordapp.net/external/zrnIBpWQXHOafgsWGuTZvhY0r8aEHF-xBeTOrB3xlJU/https/github.githubassets.com/assets/github-logo-55c5b9a1fe52.png"/> </a></div></div></div></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class="chatlog__embed-image-container"><a class="chatlog__embed-image-link" href="https://images-ext-1.discordapp.net/external/FRgfgb8oHhfnQvjHln3zixTf7gq7QoqGd3zUTHj8dYs/https/github.githubassets.com/assets/github-mark-57519b92ca4e.png"> <img alt="Image" class="chatlog__embed-image" loading="lazy" src="https://images-ext-1.discordapp.net/external/FRgfgb8oHhfnQvjHln3zixTf7gq7QoqGd3zUTHj8dYs/https/github.githubassets.com/assets/github-mark-57519b92ca4e.png"/> </a></div></div></div></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"></div></div><div class="chatlog__embed-images chatlog__embed-images--single"><div class="chatlog__embed-image-container"><a class="chatlog__embed-image-link" href="https://images-ext-1.discordapp.net/external/8FXhmVUPVyR2kElkdv_UGNnEDNM53oUrUfnhRGabHp8/https/github.githubassets.com/assets/github-octocat-13c86b8b336d.png"> <img alt="Image" class="chatlog__embed-image" loading="lazy" src="https://images-ext-1.discordapp.net/external/8FXhmVUPVyR2kElkdv_UGNnEDNM53oUrUfnhRGabHp8/https/github.githubassets.com/assets/github-octocat-13c86b8b336d.png"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1250090625362034901" id="chatlog__message-container-1250090625362034901"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="11 June 2024 15:13"><a href="#chatlog__message-container-1250090625362034901">11/06/2024 15:13</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="jburnett9186">@jburnett</span> it should be fixed in teh next release. <img alt="ðŸ‘" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg" title="thumbsup"/></span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div><div class="chatlog__reaction" title="100"><img alt="ðŸ’¯" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4af.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1250623847133085706" id="chatlog__message-container-1250623847133085706"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/><div class="chatlog__reply-author" style="color:rgb(233,102,11)" title="ntoll">ntoll</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1249699803319898123')"> <span class="chatlog__markdown-mention" title="jburnett9186">@jburnett</span> thank you for the feedback. Can you create an issue about this please..? <a href="https://github.com/pyscript/pyscript/issues/new/choose">https://github.com/pyscript/pyscript/issues/new/choose</a> This is one for <span class="chatlog__markdown-mention" title="fpliger">@Fabio</span> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="687265270229631006" title="jburnett9186">jburnett</span> <span class="chatlog__timestamp" title="13 June 2024 02:32"><a href="#chatlog__message-container-1250623847133085706">13/06/2024 02:32</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Not sure if you still needed me to create a ticket for this, but I finally did: <a href="https://github.com/pyscript/pyscript/issues/2097">https://github.com/pyscript/pyscript/issues/2097</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyscript/pyscript/issues/2097"><div class="chatlog__markdown chatlog__markdown-preserve">Element.classes doesn't appear to work properly w/ the MicroPython ...</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Checklist I added a descriptive title I searched for other issues and couldn't find a solution or duplication I already searched in Google and didn't find any good information or help What ...</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/nLwQoL0rEe_O16XDRTs2Udp-BbQDfg-Kan__eg3tako/https/opengraph.githubassets.com/8a5903a5fdfd171f67a10d3df88a7904c78ced9c7fc335dc45063dc9084ed37f/pyscript/pyscript/issues/2097"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/nLwQoL0rEe_O16XDRTs2Udp-BbQDfg-Kan__eg3tako/https/opengraph.githubassets.com/8a5903a5fdfd171f67a10d3df88a7904c78ced9c7fc335dc45063dc9084ed37f/pyscript/pyscript/issues/2097"/> </a></div></div></div></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1263673359103950868" id="chatlog__message-container-1263673359103950868"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/0.png"/><div class="chatlog__reply-author" title="jburnett9186">jburnett</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1250623847133085706')"> Not sure if you still needed me to create a ticket for this, but I finally did: <a href="https://github.com/pyscript/pyscript/issues/2097">https://github.com/pyscript/pyscript/issues/2097</a> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="780447698347491368" style="color:rgb(26,194,181)" title="mchilvers">Martin</span> <span class="chatlog__timestamp" title="19 July 2024 02:46"><a href="#chatlog__message-container-1263673359103950868">19/07/2024 02:46</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Hiya! This is fixed if you use pyscript.web 2024.7.1 (I've put example. code in the issue).</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1268132767569416213" id="chatlog__message-container-1268132767569416213"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/3f75a9c8164a07e7f8b1c49f6d68d8d0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1139257785897451650" title="monkeybanana2048">HalwaHacker</span> <span class="chatlog__timestamp" title="31 July 2024 10:06"><a href="#chatlog__message-container-1268132767569416213">31/07/2024 10:06</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I dont know if this bug is pyscript or piodide, but when I try to use await commands in JS or Python to import packages, it gives an error saying that await is no longer supported or smth</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1268143139374370816" id="chatlog__message-container-1268143139374370816"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="31 July 2024 10:48"><a href="#chatlog__message-container-1268143139374370816">31/07/2024 10:48</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="monkeybanana2048">@HalwaHacker</span> in Python, you don't <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">await</code> to import packages. Not quite sure what you're trying to do. Some example code and a use case would be helpful.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1268148852414873695" id="chatlog__message-container-1268148852414873695"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/3f75a9c8164a07e7f8b1c49f6d68d8d0.png"/><div class="chatlog__reply-author" title="monkeybanana2048">HalwaHacker</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1268132767569416213')"> I dont know if this bug is pyscript or piodide, but when I try to use await commands in JS or Python to import packages, it gives an error saying that await is no longer supported or smth </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="31 July 2024 11:10"><a href="#chatlog__message-container-1268148852414873695">31/07/2024 11:10</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">you need <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">async</code> attribute when you want top-level await, both in Python (in JS you need type="module" that enables it already)</span> <span class="chatlog__edited-timestamp" title="31 July 2024 11:11">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1268149798834409473" id="chatlog__message-container-1268149798834409473"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="31 July 2024 11:14"><a href="#chatlog__message-container-1268149798834409473">31/07/2024 11:14</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">....I wonder about just defaulting to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">async</code> - I'm not sure why the default isn't / shouldn't be that.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1268183140875370598" id="chatlog__message-container-1268183140875370598"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/><div class="chatlog__reply-author" style="color:rgb(233,102,11)" title="ntoll">ntoll</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1268149798834409473')"> ....I wonder about just defaulting to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">async</code> - I'm not sure why the default isn't / shouldn't be that. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="31 July 2024 13:27"><a href="#chatlog__message-container-1268183140875370598">31/07/2024 13:27</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">we already mentioned that and I'd be happy to do the switch ... it requires a few updates here and there and I think it's not mandatory to have this ASAP ... it could be next release. About the <em>incoming</em> release though, I need your eyes here because this is important: <a href="https://github.com/pyscript/pyscript/pull/2130">https://github.com/pyscript/pyscript/pull/2130</a></span> <span class="chatlog__edited-timestamp" title="31 July 2024 13:27">(edited)</span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyscript/pyscript/pull/2130"><div class="chatlog__markdown chatlog__markdown-preserve">Updated Polyscript and added Panel worker test by WebReflection Â· P...</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Description
This MR fixes holoviz/panel#7015 by updating polyscript to its latest where changes were made to address that issue.
Changes

updated polyscript to its latest
added remote issue test ca...</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/c60OY2efacrE9XWviiwKdDNtnwyjZAlLvi9XFubO2wU/https/opengraph.githubassets.com/93c39812ca09bd241fb79ac707812f9e42951b3032d743e9fcd2726ad827f7e9/pyscript/pyscript/pull/2130"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/c60OY2efacrE9XWviiwKdDNtnwyjZAlLvi9XFubO2wU/https/opengraph.githubassets.com/93c39812ca09bd241fb79ac707812f9e42951b3032d743e9fcd2726ad827f7e9/pyscript/pyscript/pull/2130"/> </a></div></div></div></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div><div class="chatlog__reaction" title="white_check_mark"><img alt="âœ…" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2705.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1268183941521608725" id="chatlog__message-container-1268183941521608725"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="31 July 2024 13:30"><a href="#chatlog__message-container-1268183941521608725">31/07/2024 13:30</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Done</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="pray"><img alt="ðŸ™" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1272978560872747090" id="chatlog__message-container-1272978560872747090"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="734628362835722311" title="sai1494">sai</span> <span class="chatlog__timestamp" title="13 August 2024 19:02"><a href="#chatlog__message-container-1272978560872747090">13/08/2024 19:02</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Not sure if this is a bug or expected behavior.

The specified interpreter version is not used when i add the worker attribute. I am trying to pin an older version of pyodide and when used with the worker attribute it always loads 0.26.2, but as soon as i remove the worker attribute, it loads the pyodide version i want.

<a href="https://pyscript.com/@sai1494/pyodide-version/">https://pyscript.com/@sai1494/pyodide-version/</a>

This example as 2 script tags, one with worker attribute and one without. Both are pinned to 0.23.4. One of them is commented. swap them to test with and without worker attribute. The python code will display the pyodide version loaded.

Searched if there is an existing bug report, but did not find any.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1273155442201333781" id="chatlog__message-container-1273155442201333781"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="14 August 2024 06:45"><a href="#chatlog__message-container-1273155442201333781">14/08/2024 06:45</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="sai1494">@sai</span> please report this as a bug. Thank you!</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1273167113162330152" id="chatlog__message-container-1273167113162330152"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1060515719575515186" title="zobi5905">zobi</span> <span class="chatlog__timestamp" title="14 August 2024 07:31"><a href="#chatlog__message-container-1273167113162330152">14/08/2024 07:31</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Pyscript shows wrong number of projects created or cloned for me?</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1273167112843558984/do.png?ex=691c12c6&amp;is=691ac146&amp;hm=aa4a650e7c459ee09c2617951e40f83f584d490db2781a4f57303879a13e4acf&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/do.png" title="Image: do.png (9.7 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1273197351003226216" id="chatlog__message-container-1273197351003226216"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="14 August 2024 09:31"><a href="#chatlog__message-container-1273197351003226216">14/08/2024 09:31</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Not sure what you're looking at here. More context please? What do you mean by "PyScript"..? How do I recreate this bug? How do I check the numbers are correct? Thank you!

Hint: you can't ever give too much context.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1273198599311986709" id="chatlog__message-container-1273198599311986709"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/5.png"/><div class="chatlog__reply-author" title="sai1494">sai</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1272978560872747090')"> Not sure if this is a bug or expected behavior.

The specified interpreter version is not used when i add the worker attribute. I am trying to pin an older version of pyodide and when used with the worker attribute it always loads 0.26.2, but as soon as i remove the worker attribute, it loads the pyodide version i want.

<a href="https://pyscript.com/@sai1494/pyodide-version/">https://pyscript.com/@sai1494/pyodide-version/</a>

This example as 2 script tags, one with worker attribute and one without. Both are pinned to 0.23.4. One of them is commented. swap them to test with and without worker attribute. The python code will display the pyodide version loaded.

Searched if there is an existing bug report, but did not find any. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="14 August 2024 09:36"><a href="#chatlog__message-container-1273198599311986709">14/08/2024 09:36</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Actually, I just did it for you... if you have a GitHub account please follow this bug report: <a href="https://github.com/pyscript/pyscript/issues/2145">https://github.com/pyscript/pyscript/issues/2145</a></span> <span class="chatlog__edited-timestamp" title="14 August 2024 09:36">(edited)</span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyscript/pyscript/issues/2145"><div class="chatlog__markdown chatlog__markdown-preserve">Specified version of interpreter doesn't work when running in a wor...</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Checklist I added a descriptive title I searched for other issues and couldn't find a solution or duplication I already searched in Google and didn't find any good information or help What ...</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/iD1ROaQ6aod6y4t-tGOoKkyl97vonVoRgB-v7ASn6Z8/https/opengraph.githubassets.com/086faaeeac6e9e5773acb6e4a1853040465146bb740c220d1f0e336988f0f731/pyscript/pyscript/issues/2145"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/iD1ROaQ6aod6y4t-tGOoKkyl97vonVoRgB-v7ASn6Z8/https/opengraph.githubassets.com/086faaeeac6e9e5773acb6e4a1853040465146bb740c220d1f0e336988f0f731/pyscript/pyscript/issues/2145"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1273433715820986399" id="chatlog__message-container-1273433715820986399"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/><div class="chatlog__reply-author" style="color:rgb(233,102,11)" title="ntoll">ntoll</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1273197351003226216')"> Not sure what you're looking at here. More context please? What do you mean by "PyScript"..? How do I recreate this bug? How do I check the numbers are correct? Thank you!

Hint: you can't ever give too much context. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1060515719575515186" title="zobi5905">zobi</span> <span class="chatlog__timestamp" title="15 August 2024 01:10"><a href="#chatlog__message-container-1273433715820986399">15/08/2024 01:10</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Total projects i created are 288(didn't include the deleted once) but it shows 1076.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1273534255347007550" id="chatlog__message-container-1273534255347007550"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="15 August 2024 07:50"><a href="#chatlog__message-container-1273534255347007550">15/08/2024 07:50</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">So this is on PyScript.com, and not anything about PyScript itself? Cc <span class="chatlog__markdown-mention" title="mchilvers">@Martin</span></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1273534607504965682" id="chatlog__message-container-1273534607504965682"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="15 August 2024 07:51">07:51</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="zobi5905">@zobi</span> thanks for the bug report, someone will probably be in touch here with more questions. It'd probably be helpful to have your username on PyScript.com.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1273563718701289504" id="chatlog__message-container-1273563718701289504"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/><div class="chatlog__reply-author" style="color:rgb(233,102,11)" title="ntoll">ntoll</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1273534255347007550')"> So this is on PyScript.com, and not anything about PyScript itself? Cc <span class="chatlog__markdown-mention" title="mchilvers">@Martin</span> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1060515719575515186" title="zobi5905">zobi</span> <span class="chatlog__timestamp" title="15 August 2024 09:47"><a href="#chatlog__message-container-1273563718701289504">15/08/2024 09:47</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Yes its about PyScript.com
   _12 is my username on PyScript.com</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1273622840641589311" id="chatlog__message-container-1273622840641589311"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/156c06a3776cd8b4cb3bf20833809166.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="374908736260669443" style="color:rgb(26,194,181)" title="joshjl1002">Josh (EduBlocks)</span> <span class="chatlog__timestamp" title="15 August 2024 13:42"><a href="#chatlog__message-container-1273622840641589311">15/08/2024 13:42</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">So I don't have 3000 projects after all <img alt="ðŸ¤”" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f914.svg" title="thinking"/></span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="rofl"><img alt="ðŸ¤£" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f923.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1274848948753928298" id="chatlog__message-container-1274848948753928298"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="18 August 2024 22:54"><a href="#chatlog__message-container-1274848948753928298">18/08/2024 22:54</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> pinging you on this because micropython. In the puepy project there is a possibility of very good reactivity but micropython is missing a small critical piece. Specifically: " MicroPython does not seem to support <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">__setattr__</code>, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">__getattr__</code> nor <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">__getattribute__</code>, and those are completely central for the proxy operation"
I wonder if you can help ? The github issue is here: <a href="https://github.com/kkinder/puepy/discussions/17#discussioncomment-10374441">https://github.com/kkinder/puepy/discussions/17#discussioncomment-10374441</a></span> <span class="chatlog__edited-timestamp" title="18 August 2024 22:55">(edited)</span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/kkinder/puepy/discussions/17"><div class="chatlog__markdown chatlog__markdown-preserve">Deep state Â· kkinder puepy Â· Discussion #17</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Hello Ken Would you be interested in making the state deeply reactive by default? If yes, we could look into integrating my syncx project, with features like: Deep changes detection Support for dat...</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/CqiwNx0FCfynV9tWp3f7zcoC7BdY_VQbJ0_d6Rrpyhs/https/opengraph.githubassets.com/f888a24cc23b26900e1b67813c64de3eebdc909b8ff1c097445ba6ea46cac34c/kkinder/puepy/discussions/17"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/CqiwNx0FCfynV9tWp3f7zcoC7BdY_VQbJ0_d6Rrpyhs/https/opengraph.githubassets.com/f888a24cc23b26900e1b67813c64de3eebdc909b8ff1c097445ba6ea46cac34c/kkinder/puepy/discussions/17"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1276975781066571829" id="chatlog__message-container-1276975781066571829"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/><div class="chatlog__reply-author" title="neon22.">Neon22</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1274848948753928298')"> <span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> pinging you on this because micropython. In the puepy project there is a possibility of very good reactivity but micropython is missing a small critical piece. Specifically: " MicroPython does not seem to support <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">__setattr__</code>, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">__getattr__</code> nor <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">__getattribute__</code>, and those are completely central for the proxy operation"
I wonder if you can help ? The github issue is here: <a href="https://github.com/kkinder/puepy/discussions/17#discussioncomment-10374441">https://github.com/kkinder/puepy/discussions/17#discussioncomment-10374441</a> </span> <span class="chatlog__reply-edited-timestamp" title="18 August 2024 22:55">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="24 August 2024 19:45"><a href="#chatlog__message-container-1276975781066571829">24/08/2024 19:45</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Hi, I'm currently on holiday and away from computers. MicroPython does support those dunder methods (I've used them). Not sure what's going on. Perhaps ping MP folk with an example of the problem..?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1277569291536961547" id="chatlog__message-container-1277569291536961547"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/><div class="chatlog__reply-author" title="neon22.">Neon22</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1274848948753928298')"> <span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> pinging you on this because micropython. In the puepy project there is a possibility of very good reactivity but micropython is missing a small critical piece. Specifically: " MicroPython does not seem to support <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">__setattr__</code>, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">__getattr__</code> nor <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">__getattribute__</code>, and those are completely central for the proxy operation"
I wonder if you can help ? The github issue is here: <a href="https://github.com/kkinder/puepy/discussions/17#discussioncomment-10374441">https://github.com/kkinder/puepy/discussions/17#discussioncomment-10374441</a> </span> <span class="chatlog__reply-edited-timestamp" title="18 August 2024 22:55">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="26 August 2024 11:04"><a href="#chatlog__message-container-1277569291536961547">26/08/2024 11:04</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">what Nicholas said, we do use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">__getattr__</code> in <a href="https://github.com/pyscript/pyscript/blob/main/pyscript.core/src/stdlib/pyscript/workers.py#L13-L18">various places</a> without issues</span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyscript/pyscript/blob/main/pyscript.core/src/stdlib/pyscript/workers.py"><div class="chatlog__markdown chatlog__markdown-preserve">pyscript/pyscript.core/src/stdlib/pyscript/workers.py at main Â· pys...</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Try PyScript: <a href="https://pyscript.com">https://pyscript.com</a>  Examples: <a href="https://tinyurl.com/pyscript-examples">https://tinyurl.com/pyscript-examples</a>  Community: <a href="https://discord.gg/HxvBtukrg2">https://discord.gg/HxvBtukrg2</a> - pyscript/pyscript</div></div></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1278192841897803836" id="chatlog__message-container-1278192841897803836"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1277569291536961547')"> what Nicholas said, we do use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">__getattr__</code> in <a href="https://github.com/pyscript/pyscript/blob/main/pyscript.core/src/stdlib/pyscript/workers.py#L13-L18">various places</a> without issues </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="28 August 2024 04:22"><a href="#chatlog__message-container-1278192841897803836">28/08/2024 04:22</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I have initiated a discussion on the micropython webassembly forum as per <span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> suggestion.
<ul><li><a href="https://github.com/orgs/micropython/discussions/15711">https://github.com/orgs/micropython/discussions/15711</a></li></ul>No answers yet</span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/orgs/micropython/discussions/15711"><div class="chatlog__markdown chatlog__markdown-preserve">Deep reactivity in pyscript Â· micropython Â· Discussion #15711</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Some people are trying to implement deep reactivity in pyscript. This is so we can have a reactive UI layer in the browser (similar to say Vue3). They want the pyodide and micropython interpreters ...</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/2uJ5yHdMvtd4XjV18-1RWLbLnHYsTb7pTyINKkTBmSk/https/opengraph.githubassets.com/32ba4b1e8a8245c299c20860fa38888ba67b314716ffa2f94045a681f90058e4/orgs/micropython/discussions/15711"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/2uJ5yHdMvtd4XjV18-1RWLbLnHYsTb7pTyINKkTBmSk/https/opengraph.githubassets.com/32ba4b1e8a8245c299c20860fa38888ba67b314716ffa2f94045a681f90058e4/orgs/micropython/discussions/15711"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1278307821061931020" id="chatlog__message-container-1278307821061931020"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="28 August 2024 11:58"><a href="#chatlog__message-container-1278307821061931020">28/08/2024 11:58</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="neon22.">@Neon22</span> In case this helps, PySheets (which uses PyScript with MicroPython for the UI) uses a Model-View architecture for the cells in a spreadsheet. I override <u>setattr</u> to inform listeners that something changed in the model. This works fine on "standard" PyScript releases for me. See <a href="https://github.com/PySheets/pysheets/blob/main/src/static/models.py#L184">https://github.com/PySheets/pysheets/blob/main/src/static/models.py#L184</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/PySheets/pysheets/blob/main/src/static/models.py"><div class="chatlog__markdown chatlog__markdown-preserve">pysheets/src/static/models.py at main Â· PySheets/pysheets</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Source for PySheets. Contribute to PySheets/pysheets development by creating an account on GitHub.</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/EpydYZeHXTiGI7iZsF3_86HqiLFfEFkbF8FfOwknqsM/https/repository-images.githubusercontent.com/775920257/aea372e1-6a8d-4f2b-8e29-a1c126ea49ee"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/EpydYZeHXTiGI7iZsF3_86HqiLFfEFkbF8FfOwknqsM/https/repository-images.githubusercontent.com/775920257/aea372e1-6a8d-4f2b-8e29-a1c126ea49ee"/> </a></div></div></div></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1279034748077080606" id="chatlog__message-container-1279034748077080606"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/0.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1060515719575515186" title="zobi5905">zobi</span> <span class="chatlog__timestamp" title="30 August 2024 12:07"><a href="#chatlog__message-container-1279034748077080606">30/08/2024 12:07</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I am trying to display main.py code in py-editor cell by using src=./main.py but py-editor shows empty. Code within script tags displays in py-editor cell but not from src=./main.py.</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1279034747884011521/3.png?ex=691baaaf&amp;is=691a592f&amp;hm=7cfe686dbf4ec7607459e2d35b0939e7813b1dfd73e1fd988b78088f2999ff80&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/3.png" title="Image: 3.png (48.16 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281205442126545019" id="chatlog__message-container-1281205442126545019"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="05 September 2024 11:53"><a href="#chatlog__message-container-1281205442126545019">05/09/2024 11:53</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Since the last two days, I am seeing unexplainable crashes from Chromium when loading a worker. This makes me think that Chrome/Brave released a new version of Chromium that breaks workers. It also appears to be timing-related. As soon as the crash happens, reloads never recover. Also, Devtools is impacted as it does not show anything. I suspect this is a race condition deep down in PyOdide/WASM. I have no way to debug this. All works fine on Firefox and Safari. You can try the failure yourself at <a href="https://pysheets.app">https://pysheets.app</a>  (create a new sheet, let it finish loading the worker, and then reload a few times). Once the tab crashes, you have to close it as Chromium cashes WASM.</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1281205442646773781/image.png?ex=691ba74d&amp;is=691a55cd&amp;hm=886fac3ee7c1ac4ae14d34ec9068d02e597806ceb708580a31e35bc643b6e0f9&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (63.96 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281206356086493225" id="chatlog__message-container-1281206356086493225"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1281205442126545019')"> Since the last two days, I am seeing unexplainable crashes from Chromium when loading a worker. This makes me think that Chrome/Brave released a new version of Chromium that breaks workers. It also appears to be timing-related. As soon as the crash happens, reloads never recover. Also, Devtools is impacted as it does not show anything. I suspect this is a race condition deep down in PyOdide/WASM. I have no way to debug this. All works fine on Firefox and Safari. You can try the failure yourself at <a href="https://pysheets.app">https://pysheets.app</a>  (create a new sheet, let it finish loading the worker, and then reload a few times). Once the tab crashes, you have to close it as Chromium cashes WASM. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="05 September 2024 11:56"><a href="#chatlog__message-container-1281206356086493225">05/09/2024 11:56</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">This is a known bug <strong>in Chrome</strong> - <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> has investigated it and reported it and it's been lumped in with a bunch of other similar reports to Chrome devs. They (Chrome) say it'll be fixed in the next release.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1281206454648311879" id="chatlog__message-container-1281206454648311879"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="05 September 2024 11:57">11:57</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Yes, it's a pain in the neck and completely beyond our control.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1281206671242428468" id="chatlog__message-container-1281206671242428468"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="05 September 2024 11:57">11:57</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="chris.laffra">@chris.laffra</span> if you look at the video of Tuesday's community call on our YouTube channel (I think I linked to it in #chat on Tuesday after the call), you'll see Andrea explaining what's going on.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1281206881028931594" id="chatlog__message-container-1281206881028931594"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="05 September 2024 11:58">11:58</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Also, bravissimo (as always) to <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> for being on top of this and making sure the issue is properly investigated and reported. Now we await Chrome developers.</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281208048597209171" id="chatlog__message-container-1281208048597209171"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="05 September 2024 12:03"><a href="#chatlog__message-container-1281208048597209171">05/09/2024 12:03</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> is there any workaround? Also, this is not a bug in Chrome, but in Chromium, as other browsers, such as Brave suffer the same behavior.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281208175336488960" id="chatlog__message-container-1281208175336488960"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="05 September 2024 12:03"><a href="#chatlog__message-container-1281208175336488960">05/09/2024 12:03</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Sure s/Chrome/Chromium - the work around is don't use latest Chrome (sorry).</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1281208239173800032" id="chatlog__message-container-1281208239173800032"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="05 September 2024 12:04">12:04</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">We're not the only ones hit by this bug</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281208275353997387" id="chatlog__message-container-1281208275353997387"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="05 September 2024 12:04"><a href="#chatlog__message-container-1281208275353997387">05/09/2024 12:04</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Good to hear</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281211408402354218" id="chatlog__message-container-1281211408402354218"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="05 September 2024 12:16"><a href="#chatlog__message-container-1281211408402354218">05/09/2024 12:16</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span>  Is there a link to this known issue? Also, "don't use latest Chrome" is not simple advice as Chrome and Brave insist on auto-updating to the latest version (for security reasons) and no one has a (simple) way to go back to an older version. This means essentially that this Chromium bug kills my commercial product based on PyScript without anything I can do (other than wait for Chromium to fix things and Chrome/Brave to pick up the latest version). Is there really no hack/workaround we can do on our end? My product is down for days now....</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1281211601935925259" id="chatlog__message-container-1281211601935925259"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="05 September 2024 12:17">12:17</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I tried going back to older versions of PyScript, but so far no luck....</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1281212651489460277" id="chatlog__message-container-1281212651489460277"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="05 September 2024 12:21">12:21</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Actually, when I use PyScript 2023.12.1, the bug is not coming up, but all kinds of others things are now broken as the platform moved along quite a bit <img alt="ðŸ˜‚" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f602.svg" title="joy"/></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281220703001120811" id="chatlog__message-container-1281220703001120811"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1281208048597209171')"> <span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> is there any workaround? Also, this is not a bug in Chrome, but in Chromium, as other browsers, such as Brave suffer the same behavior. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="05 September 2024 12:53"><a href="#chatlog__message-container-1281220703001120811">05/09/2024 12:53</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">the workaround that worked in other venues was to have only mpy-editor with eventually a setup but as soon as both mpy on main and mpy-editor have a congif (the mpy-editor explicitly) something goes banana ... this is:
<ul><li>only <strong>mpy</strong> and <strong>mpy-editor</strong> seem to be affected, all good apparently on <em>Pyodide</em></li><li>only when there is a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">config</code> attribute for what I could test ... so <strong>maybe</strong> having an <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;mpy-config&gt;</code> around could mitigate the issue</li><li>with <em>Pyodide</em> for the time being there is no bug ... which is the thing I don't understand</li></ul>
Hard crashes are extremely hard to debug because they don't provide anything at all in the current devtool/console ... with this example you'll see th ebare minimum implementation of the bug <a href="https://pyscript.com/@agiammarchi/chrome-crash/latest?files=main.py,pyscript.toml,index.html">https://pyscript.com/@agiammarchi/chrome-crash/latest?files=main.py,pyscript.toml,index.html</a> and here there's the rabbit hole of related issues and too many developers scratching their heads because 127 had no issue whatsoever, 128 created dozen issues report for various things (not just PyScript) but they said 129 should have it fixed <a href="https://issues.chromium.org/issues/356329410#comment9">https://issues.chromium.org/issues/356329410#comment9</a> ... to date we've seen at least 2 patches for Chromium and Chrome but no major version bump ... I do hope this is the week we get that too.</span> <span class="chatlog__edited-timestamp" title="05 September 2024 12:53">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281221377566834749" id="chatlog__message-container-1281221377566834749"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1281212651489460277')"> Actually, when I use PyScript 2023.12.1, the bug is not coming up, but all kinds of others things are now broken as the platform moved along quite a bit <img alt="ðŸ˜‚" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f602.svg" title="joy"/> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="05 September 2024 12:56"><a href="#chatlog__message-container-1281221377566834749">05/09/2024 12:56</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">you could check which version of MicroPython there wouldn't cause the issue (see where the interpreter points) and use that interpreter with latest PyScript to see if it works but, like you said, many other things might be broken.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281221819655000124" id="chatlog__message-container-1281221819655000124"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1281220703001120811')"> the workaround that worked in other venues was to have only mpy-editor with eventually a setup but as soon as both mpy on main and mpy-editor have a congif (the mpy-editor explicitly) something goes banana ... this is:
<ul><li>only <strong>mpy</strong> and <strong>mpy-editor</strong> seem to be affected, all good apparently on <em>Pyodide</em></li><li>only when there is a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">config</code> attribute for what I could test ... so <strong>maybe</strong> having an <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;mpy-config&gt;</code> around could mitigate the issue</li><li>with <em>Pyodide</em> for the time being there is no bug ... which is the thing I don't understand</li></ul>
Hard crashes are extremely hard to debug because they don't provide anything at all in the current devtool/console ... with this example you'll see th ebare minimum implementation of the bug <a href="https://pyscript.com/@agiammarchi/chrome-crash/latest?files=main.py,pyscript.toml,index.html">https://pyscript.com/@agiammarchi/chrome-crash/latest?files=main.py,pyscript.toml,index.html</a> and here there's the rabbit hole of related issues and too many developers scratching their heads because 127 had no issue whatsoever, 128 created dozen issues report for various things (not just PyScript) but they said 129 should have it fixed <a href="https://issues.chromium.org/issues/356329410#comment9">https://issues.chromium.org/issues/356329410#comment9</a> ... to date we've seen at least 2 patches for Chromium and Chrome but no major version bump ... I do hope this is the week we get that too. </span> <span class="chatlog__reply-edited-timestamp" title="05 September 2024 12:53">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="05 September 2024 12:58"><a href="#chatlog__message-container-1281221819655000124">05/09/2024 12:58</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">P.S. if you don't see the crash in the ifame you cna try to use its full URL and see the crash right away in any Chromium 128 based browser.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281233966166446183" id="chatlog__message-container-1281233966166446183"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="05 September 2024 13:46"><a href="#chatlog__message-container-1281233966166446183">05/09/2024 13:46</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">In my case (PySheets), the problem never occurrs if I do not use a worker. This is on mpy and py for the UI, regardless. When the worker tries to load, I see the issue.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1281234193715822612" id="chatlog__message-container-1281234193715822612"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="05 September 2024 13:47">13:47</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">So, my suspicions are centered around worker+PyOdide...</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281239411450839041" id="chatlog__message-container-1281239411450839041"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="05 September 2024 14:07"><a href="#chatlog__message-container-1281239411450839041">05/09/2024 14:07</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">That said, <a href="https://chrislaffra.com/">https://chrislaffra.com/</a> is also broken and that one definitely is only based on MicroPython and does <em>not</em> use a Worker....</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281246761490452580" id="chatlog__message-container-1281246761490452580"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1281239411450839041')"> That said, <a href="https://chrislaffra.com/">https://chrislaffra.com/</a> is also broken and that one definitely is only based on MicroPython and does <em>not</em> use a Worker.... </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="05 September 2024 14:37"><a href="#chatlog__message-container-1281246761490452580">05/09/2024 14:37</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">it works for me, to be honest</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281248010545660026" id="chatlog__message-container-1281248010545660026"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1281234193715822612')"> So, my suspicions are centered around worker+PyOdide... </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="05 September 2024 14:42"><a href="#chatlog__message-container-1281248010545660026">05/09/2024 14:42</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">it's possible it's worker ... all I am trying to say is: it's a known Chromium issue with dozen links (private or public) attached ... others on Twitter/X also complained Chromium broke badly something ... I don't want to think this is what happens during August due too many people on vacation but there is literally <em>nothing</em> we can do on our side, unless somebody tells me what's broken. Every other project of mine based on workers has literally zero issue so there is a chance the WASM + Worker combo creates shenanigans in current Chromium but I do hope that will be fixed sooner than later. This happens when we have only one major browser dictating the future of the Web which is sad ... yet if they fix it I am sure it won't happen again, or at least I hope so, as they have tons of tests to reproduce the issue ... feel free to add your tests though as that can only help them being sure evrything is fine. If it turns out it's us doing something that always worked but not it breaks here or there, we'll do whatever we can and in the fastest possible way to fix the issue. I feel like we should apology for the current state of affairs but honestly it's like a windows bug affecting any software running on it ... we are not really to blame and you trying every previous version up to last year should also demonstrate it's nothing we did badly from one day to another. I hope this is at least sensible to reason about.</span> <span class="chatlog__edited-timestamp" title="05 September 2024 14:42">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281248897506873376" id="chatlog__message-container-1281248897506873376"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1281248010545660026')"> it's possible it's worker ... all I am trying to say is: it's a known Chromium issue with dozen links (private or public) attached ... others on Twitter/X also complained Chromium broke badly something ... I don't want to think this is what happens during August due too many people on vacation but there is literally <em>nothing</em> we can do on our side, unless somebody tells me what's broken. Every other project of mine based on workers has literally zero issue so there is a chance the WASM + Worker combo creates shenanigans in current Chromium but I do hope that will be fixed sooner than later. This happens when we have only one major browser dictating the future of the Web which is sad ... yet if they fix it I am sure it won't happen again, or at least I hope so, as they have tons of tests to reproduce the issue ... feel free to add your tests though as that can only help them being sure evrything is fine. If it turns out it's us doing something that always worked but not it breaks here or there, we'll do whatever we can and in the fastest possible way to fix the issue. I feel like we should apology for the current state of affairs but honestly it's like a windows bug affecting any software running on it ... we are not really to blame and you trying every previous version up to last year should also demonstrate it's nothing we did badly from one day to another. I hope this is at least sensible to reason about. </span> <span class="chatlog__reply-edited-timestamp" title="05 September 2024 14:42">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="05 September 2024 14:45"><a href="#chatlog__message-container-1281248897506873376">05/09/2024 14:45</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">it's also worth saying that the underlying issue seems to be fixed: <a href="https://issues.chromium.org/issues/361611791#comment17">https://issues.chromium.org/issues/361611791#comment17</a></span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="partying_face"><img alt="ðŸ¥³" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281249647163342869" id="chatlog__message-container-1281249647163342869"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="05 September 2024 14:48"><a href="#chatlog__message-container-1281249647163342869">05/09/2024 14:48</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">These kinds of bugs are so hard to detect and test.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281249686547730465" id="chatlog__message-container-1281249686547730465"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="05 September 2024 14:48"><a href="#chatlog__message-container-1281249686547730465">05/09/2024 14:48</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">story of my days</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="joy"><img alt="ðŸ˜‚" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f602.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281250645122220132" id="chatlog__message-container-1281250645122220132"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="05 September 2024 14:52"><a href="#chatlog__message-container-1281250645122220132">05/09/2024 14:52</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">We should get you an appropriate t-shirt...</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281250688873140346" id="chatlog__message-container-1281250688873140346"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="05 September 2024 14:52"><a href="#chatlog__message-container-1281250688873140346">05/09/2024 14:52</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">P.S. don't trust MS Edge versioning ... they say 130 but that's not the Chromium behind ... and they don't mention it.</span> <span class="chatlog__edited-timestamp" title="05 September 2024 14:53">(edited)</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1281250688638124135/Screenshot_from_2024-09-05_15-51-59.png?ex=691bd170&amp;is=691a7ff0&amp;hm=2be12b6fba80a42aacba7a36a2a289feefedbb4bc0e4b14dd32e9d919e32ae6a&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/Screenshot_from_2024-09-05_15-51-59.png" title="Image: Screenshot_from_2024-09-05_15-51-59.png (312.2 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281251285005373462" id="chatlog__message-container-1281251285005373462"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1281250688873140346')"> P.S. don't trust MS Edge versioning ... they say 130 but that's not the Chromium behind ... and they don't mention it. </span> <span class="chatlog__reply-edited-timestamp" title="05 September 2024 14:53">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="05 September 2024 14:55"><a href="#chatlog__message-container-1281251285005373462">05/09/2024 14:55</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">they refer <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36 Edg/130.0.0.0</code> but on Chromium it's still <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36</code></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281259086452625501" id="chatlog__message-container-1281259086452625501"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="05 September 2024 15:26"><a href="#chatlog__message-container-1281259086452625501">05/09/2024 15:26</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I created a HackerNews post, to spread the news.... <a href="https://news.ycombinator.com/item?id=41456943">https://news.ycombinator.com/item?id=41456943</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(255,102,0,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-author-container"><div class="chatlog__embed-author">laffra</div></div><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://news.ycombinator.com/item?id=41456943"><div class="chatlog__markdown chatlog__markdown-preserve">Chromium crashes due to a Worker/WASM race condition, impacting PyScript</div></a></div></div></div><div class="chatlog__embed-footer"><img alt="Footer icon" class="chatlog__embed-footer-icon" loading="lazy" src="https://images-ext-1.discordapp.net/external/dlpp2MUDOYvCN7evGahAtGMfYCz89b2iK8j7rx4wGCg/https/news.ycombinator.com/y18.gif"/> <span class="chatlog__embed-footer-text"> Hacker News â€¢ 05/09/2024 15:24 </span></div></div></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="heart"><img alt="â¤ï¸" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281556974269501504" id="chatlog__message-container-1281556974269501504"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="06 September 2024 11:09"><a href="#chatlog__message-container-1281556974269501504">06/09/2024 11:09</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> I downloaded Chrome Canary (based on Chromium v130) and it appears to fix the WASM worker problem introduced in Chromium v128 (released on Sept 3). I have yet to see an "Awe, Snap!" error in the Canary build. Now we just have to wait for this to percolate down to the regular versions of Chrome, Edge, and Brave (which make up 80% of all installed browsers).</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1281556973946535966/image.png?ex=691b9d30&amp;is=691a4bb0&amp;hm=ee519a57fa17fd5a5e9a7396bf6df86e11dacd196a86b5aa17ead229eb268fe8&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (16.74 KB)"/> </a></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="partying_face"><img alt="ðŸ¥³" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281559823896412234" id="chatlog__message-container-1281559823896412234"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/><div class="chatlog__reply-author" title="chris.laffra">chris.laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1281556974269501504')"> <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> I downloaded Chrome Canary (based on Chromium v130) and it appears to fix the WASM worker problem introduced in Chromium v128 (released on Sept 3). I have yet to see an "Awe, Snap!" error in the Canary build. Now we just have to wait for this to percolate down to the regular versions of Chrome, Edge, and Brave (which make up 80% of all installed browsers). </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="06 September 2024 11:21"><a href="#chatlog__message-container-1281559823896412234">06/09/2024 11:21</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">this is a wonderful news but I hope 129 would fix it already</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281604476335292588" id="chatlog__message-container-1281604476335292588"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="06 September 2024 14:18"><a href="#chatlog__message-container-1281604476335292588">06/09/2024 14:18</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I've read they might backport the fix to 128 too ... let's hope for the best (today might be the day ... a weekend with Ahw Snaps not so)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1281920234823094304" id="chatlog__message-container-1281920234823094304"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/96909edf73b13072aa23864d88545608.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1098917963081449555" title="chris.laffra">chris.laffra</span> <span class="chatlog__timestamp" title="07 September 2024 11:13"><a href="#chatlog__message-container-1281920234823094304">07/09/2024 11:13</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">In the meantime, I added a quick test to pysheets.app</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1281920234772496394/image.png?ex=691b9e00&amp;is=691a4c80&amp;hm=605cfd47e43b88a1876bd0d91df5ceab28d5aaa5d233d0f1ef0a169e94816c93&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (60.16 KB)"/> </a></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="heart"><img alt="â¤ï¸" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1282656084665831467" id="chatlog__message-container-1282656084665831467"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/4.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="200727661537001473" title="chrizzftd">chrizzftd</span> <span class="chatlog__timestamp" title="09 September 2024 11:57"><a href="#chatlog__message-container-1282656084665831467">09/09/2024 11:57</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Hello all! First time posting here, I've just started trying out PyScript and it's very excitng!

I am wondering how would I be able to debug issues in mobile devices, does anyone have tips? 

I have a page with a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">py-editor</code> on <a href="https://christianlb.pyscriptapps.com/playground/v1/">https://christianlb.pyscriptapps.com/playground/v1/</a>. On my PC browsers (Firefox, Brave, Chrome) the editor is able to successfully run the code and print the output just below, while on mobile (iPad and iPhone) the code execution hangs on the "loading wheel" in all mobile browsers I've tested with (Firefox Focus, Brave, Firefox, DuckDuckGo, Safari, Chrome)</span> <span class="chatlog__edited-timestamp" title="09 September 2024 12:05">(edited)</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1282656084917485650/image.png?ex=691ba851&amp;is=691a56d1&amp;hm=66ad8302f860d9215fa3f040f30373d37b2e1a2e22a81b97374b8f3f220de0b7&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (47.28 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283004442052137027" id="chatlog__message-container-1283004442052137027"><div class="chatlog__message"><div class="chatlog__message-aside"><svg class="chatlog__system-notification-icon"><use href="#thread-icon"></use></svg></div><div class="chatlog__message-primary"><span class="chatlog__system-notification-author" data-user-id="200727661537001473" title="chrizzftd">chrizzftd</span> <span> </span> <span class="chatlog__system-notification-content"> <span>started a thread.</span> </span> <span class="chatlog__system-notification-timestamp" title="10 September 2024 11:01"> <a href="#chatlog__message-container-1283004442052137027">10/09/2024 11:01</a> </span></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283370514370265098" id="chatlog__message-container-1283370514370265098"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="11 September 2024 11:16"><a href="#chatlog__message-container-1283370514370265098">11/09/2024 11:16</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Brave, Edge, and Chrome are still on Chromium v128, since September 3. This means <a href="https://pysheets.app">https://pysheets.app</a> has been crashing on 70% of the world-wide installed browsers for the last 9 days. This is way beyond being acceptable. <img alt="ðŸ˜ " class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f620.svg" title="angry"/> What can we as a community to help the Chromium team to test better for PyScript breakage? I have already switched to use Chrome Canary, to use the daily Chrome builds. Any other ideas? Better test cases? <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> <span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> <span class="chatlog__markdown-mention" title="fpliger">@Fabio</span></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283371189196165160" id="chatlog__message-container-1283371189196165160"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1283370514370265098')"> Brave, Edge, and Chrome are still on Chromium v128, since September 3. This means <a href="https://pysheets.app">https://pysheets.app</a> has been crashing on 70% of the world-wide installed browsers for the last 9 days. This is way beyond being acceptable. <img alt="ðŸ˜ " class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f620.svg" title="angry"/> What can we as a community to help the Chromium team to test better for PyScript breakage? I have already switched to use Chrome Canary, to use the daily Chrome builds. Any other ideas? Better test cases? <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> <span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> <span class="chatlog__markdown-mention" title="fpliger">@Fabio</span> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="11 September 2024 11:18"><a href="#chatlog__message-container-1283371189196165160">11/09/2024 11:18</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">we discussed this yesterday during the call and it is my major concern too ... they had P1 severity but probably they want to be sure the bug is really fixed (as they are doing by releasing dev channels) ... agreed so many days with such easy way to crash any tab on a browser are far from an ideal scenario and pretty against the premises of the "non-breaking / stable Web" story they keep telling out there ... my only hope is that provided tests and use cases will be reduced and used from now on to guarantee that kind of issue doesn't come up again but long story short: <em>I don't know what else we could do</em>.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283371660971606018" id="chatlog__message-container-1283371660971606018"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="11 September 2024 11:20"><a href="#chatlog__message-container-1283371660971606018">11/09/2024 11:20</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Maybe convince Google Maps or Google Calendar to use PyScript for some feature? <img alt="ðŸ˜¸" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f638.svg" title="smile_cat"/>  That would make this a P0 severity.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283440994330742938" id="chatlog__message-container-1283440994330742938"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1283371660971606018')"> Maybe convince Google Maps or Google Calendar to use PyScript for some feature? <img alt="ðŸ˜¸" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f638.svg" title="smile_cat"/>  That would make this a P0 severity. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="11 September 2024 15:56"><a href="#chatlog__message-container-1283440994330742938">11/09/2024 15:56</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">or Google Sheets <img alt="ðŸ˜‰" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f609.svg" title="wink"/></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283443458765361256" id="chatlog__message-container-1283443458765361256"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="11 September 2024 16:06"><a href="#chatlog__message-container-1283443458765361256">11/09/2024 16:06</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> I see what you are doing there...</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="innocent"><img alt="ðŸ˜‡" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f607.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283712602337316897" id="chatlog__message-container-1283712602337316897"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="12 September 2024 09:55"><a href="#chatlog__message-container-1283712602337316897">12/09/2024 09:55</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><strong>IMPORTANT NEWS:</strong> <img alt="ðŸ“°" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4f0.svg" title="newspaper"/> 
Brave and Chrome have upgraded to the back-ported Chromium 128.0.6613<strong>.138</strong>.  <img alt="ðŸ¥³" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg" title="partying_face"/> <img alt="ðŸª©" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1faa9.svg" title="ðŸª©"/> <img alt="ðŸŽ‰" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f389.svg" title="tada"/> 
PyScript and PySheets work again. after a week of crashes <img alt="ðŸ˜ " class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f620.svg" title="angry"/> .
Edge is still broken. <img alt="ðŸ¤¦" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f926.svg" title="person_facepalming"/>â€â™‚ï¸</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1283712602161283103/image.png?ex=691c3486&amp;is=691ae306&amp;hm=88283c4235df8d4093e1b06430e96ffff043d41032d9f47b41d71b4bf552be00&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (194.92 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283713101807751189" id="chatlog__message-container-1283713101807751189"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="12 September 2024 09:57"><a href="#chatlog__message-container-1283713101807751189">12/09/2024 09:57</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Oh man, that was not fun â„¢ï¸</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283736695727980586" id="chatlog__message-container-1283736695727980586"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1283712602337316897')"> <strong>IMPORTANT NEWS:</strong> <img alt="ðŸ“°" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4f0.svg" title="newspaper"/> 
Brave and Chrome have upgraded to the back-ported Chromium 128.0.6613<strong>.138</strong>.  <img alt="ðŸ¥³" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg" title="partying_face"/> <img alt="ðŸª©" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1faa9.svg" title="ðŸª©"/> <img alt="ðŸŽ‰" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f389.svg" title="tada"/> 
PyScript and PySheets work again. after a week of crashes <img alt="ðŸ˜ " class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f620.svg" title="angry"/> .
Edge is still broken. <img alt="ðŸ¤¦" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f926.svg" title="person_facepalming"/>â€â™‚ï¸ </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 September 2024 11:31"><a href="#chatlog__message-container-1283736695727980586">12/09/2024 11:31</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Ive just tested on 128.0.6613.137 and see no issues whatsoever anymore ... <a href="https://agiammarchi.pyscriptapps.com/chrome-crash/latest/">this page</a> still crashes on Chromium though ... I have no idea why that's behind 128.0.6613.119 on ArchLinux ... this is awkward ...</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283737468666904671" id="chatlog__message-container-1283737468666904671"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1283736695727980586')"> Ive just tested on 128.0.6613.137 and see no issues whatsoever anymore ... <a href="https://agiammarchi.pyscriptapps.com/chrome-crash/latest/">this page</a> still crashes on Chromium though ... I have no idea why that's behind 128.0.6613.119 on ArchLinux ... this is awkward ... </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="12 September 2024 11:34"><a href="#chatlog__message-container-1283737468666904671">12/09/2024 11:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">That test works fine on my Brave and Chrome (on Windows, they auto-updated overnight). It still fails on Edge.</span> <span class="chatlog__edited-timestamp" title="12 September 2024 11:34">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283737787648049292" id="chatlog__message-container-1283737787648049292"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1283737468666904671')"> That test works fine on my Brave and Chrome (on Windows, they auto-updated overnight). It still fails on Edge. </span> <span class="chatlog__reply-edited-timestamp" title="12 September 2024 11:34">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 September 2024 11:35"><a href="#chatlog__message-container-1283737787648049292">12/09/2024 11:35</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">just forced-refreshed my ArchLinux dbs for updates and Chromium 128.0.6613.137 indeed works without any issue ... well, that's a relief!</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1283738055290912880" id="chatlog__message-container-1283738055290912880"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 September 2024 11:36">11:36</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Edge crashes even on Dev channel here on Linux ... bummer!</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283738167215784032" id="chatlog__message-container-1283738167215784032"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="12 September 2024 11:37"><a href="#chatlog__message-container-1283738167215784032">12/09/2024 11:37</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">The versioning in Edge is unexpected as it does not reference to a Chromium build?</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1283738167022977024/image.png?ex=691ba395&amp;is=691a5215&amp;hm=2365545666c5b31a78b3ca14be2244cbaa717904a74eed63cafafd8616d68f6b&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (10.97 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283738323650875466" id="chatlog__message-container-1283738323650875466"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1283738167215784032')"> The versioning in Edge is unexpected as it does not reference to a Chromium build? </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 September 2024 11:37"><a href="#chatlog__message-container-1283738323650875466">12/09/2024 11:37</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">not only that, they give the same versioning twice out of <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">navigator.userAgent</code> <img alt="ðŸ¤¦" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f926.svg" title="person_facepalming"/></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1283738551460040704" id="chatlog__message-container-1283738551460040704"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 September 2024 11:38">11:38</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">my Edge-Dev states <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36 Edg/130.0.0.0</code> while in its about it's <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">130.0.2808.0</code> ... <img alt="ðŸ¤·" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f937.svg" title="person_shrugging"/></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283738904050012212" id="chatlog__message-container-1283738904050012212"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="12 September 2024 11:40"><a href="#chatlog__message-container-1283738904050012212">12/09/2024 11:40</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Also, it looks like Edge may be broken for another three weeks...
<a href="https://learn.microsoft.com/en-us/deployedge/microsoft-edge-channels">https://learn.microsoft.com/en-us/deployedge/microsoft-edge-channels</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://learn.microsoft.com/en-us/deployedge/microsoft-edge-channels"><div class="chatlog__markdown chatlog__markdown-preserve">Microsoft Edge channel overview</div></a></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/zfaDLlxJ5WEAJi1SmcyBHN8_2fRmcM8Fwob5QzdJyUg/https/learn.microsoft.com/en-us/media/open-graph-image.png"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/zfaDLlxJ5WEAJi1SmcyBHN8_2fRmcM8Fwob5QzdJyUg/https/learn.microsoft.com/en-us/media/open-graph-image.png"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283739804499968053" id="chatlog__message-container-1283739804499968053"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 September 2024 11:43"><a href="#chatlog__message-container-1283739804499968053">12/09/2024 11:43</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">let's hope for the best <a href="https://x.com/WebReflection/status/1834180923257954756">https://x.com/WebReflection/status/1834180923257954756</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(29,161,242,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://twitter.com/WebReflection/status/1834180923257954756"><div class="chatlog__markdown chatlog__markdown-preserve">Andrea Giammarchi <img alt="ðŸ¥" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f365.svg" title="fish_cake"/> (@WebReflection) on X</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">any follower that know people at @MSEdgeDev so gentle to tell them both Chrome/ium and Brave shipped with either 128.0.6613.137 or 128.0.6613.138 which fixes a huge crashing issue still present in all Edge channels? <em>THANK YOU</em> <img alt="ðŸ™" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f.svg" title="pray"/>
in other news: PyScript is back, no more crashes!</div></div></div></div><div class="chatlog__embed-footer"><img alt="Footer icon" class="chatlog__embed-footer-icon" loading="lazy" src="https://images-ext-1.discordapp.net/external/bXJWV2Y_F3XSra_kEqIYXAAsI3m1meckfLhYuWzxIfI/https/abs.twimg.com/icons/apple-touch-icon-192x192.png"/> <span class="chatlog__embed-footer-text"> Twitter â€¢ 12/09/2024 11:43 </span></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283740134759465012" id="chatlog__message-container-1283740134759465012"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="12 September 2024 11:44"><a href="#chatlog__message-container-1283740134759465012">12/09/2024 11:44</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Python runs anywhere â„¢. For PyScript this means: Write your code once, then test it on Firefox, Chrome, Brave, Safari, Edge, Chrome Canary, Brave Canary, Edge Canary. <img alt="ðŸ˜¸" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f638.svg" title="smile_cat"/></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1283740266360209481" id="chatlog__message-container-1283740266360209481"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 September 2024 11:45">11:45</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I literally test my code on 8 browsers now</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283740310333161513" id="chatlog__message-container-1283740310333161513"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 September 2024 11:45"><a href="#chatlog__message-container-1283740310333161513">12/09/2024 11:45</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">that's the story of any Web project to me ... with or without Python <img alt="ðŸ« " class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1fae0.svg" title="ðŸ« "/></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283740485168533608" id="chatlog__message-container-1283740485168533608"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="12 September 2024 11:46"><a href="#chatlog__message-container-1283740485168533608">12/09/2024 11:46</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">The first commercial web product I worked on was on IE4 - I still have scars</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283740761212457003" id="chatlog__message-container-1283740761212457003"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 September 2024 11:47"><a href="#chatlog__message-container-1283740761212457003">12/09/2024 11:47</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">JS apis, CSS features, canvas shenanigans, or WebGL, WebGPU, SerialPort and others or literally anything that is not 5 years old and already battle-tested <img alt="ðŸ˜…" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f605.svg" title="sweat_smile"/> ... I wrote polyfills for IE4 earlier in my career, the "best" thing was: no try/catch statement until 5 came out ... it was nearly impossible to test features in a way that wouldn't break everything else ... "fun times"</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1283741011511869481" id="chatlog__message-container-1283741011511869481"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 September 2024 11:48">11:48</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">in PyScript we have WASM, Atomics, Workers, SharedArrayBuffer, FinalizationRegistry, IndexedDB ... basically we're living on the edge of the platform but I hope these issues won't repeat in the future</span> <span class="chatlog__edited-timestamp" title="12 September 2024 11:48">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283741151492444201" id="chatlog__message-container-1283741151492444201"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="12 September 2024 11:49"><a href="#chatlog__message-container-1283741151492444201">12/09/2024 11:49</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><img alt="ðŸ»" class="chatlog__emoji chatlog__emoji--large" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f37b.svg" title="beers"/></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283745174564114466" id="chatlog__message-container-1283745174564114466"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="12 September 2024 12:05"><a href="#chatlog__message-container-1283745174564114466">12/09/2024 12:05</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">btw, <span class="chatlog__markdown-mention" title="chrislaffra.">@Chris Laffra</span> accordingly with this related commit there are regression tests so <em>this</em> particular issue won't likely ever happen again <a href="https://issues.chromium.org/issues/361611791#comment17">https://issues.chromium.org/issues/361611791#comment17</a> ... see the commit related files and all the tests around, including the top comment with a test itself</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div><div class="chatlog__message-container" data-message-id="1283745722755448852" id="chatlog__message-container-1283745722755448852"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="12 September 2024 12:07">12:07</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">all tests visible in here, basically these are the same proposed in the issue <a href="https://chromium-review.googlesource.com/c/v8/v8/+/5833740">https://chromium-review.googlesource.com/c/v8/v8/+/5833740</a> ... so weird they managed to break async module instantiation from a day to another and took a week+ to fix the issue ... I guess it's good to be sure no async issues around modules would ever happen again.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1283746044928069672" id="chatlog__message-container-1283746044928069672"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="12 September 2024 12:08"><a href="#chatlog__message-container-1283746044928069672">12/09/2024 12:08</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I lost a week of my live</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="cry"><img alt="ðŸ˜¢" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f622.svg"/> <span class="chatlog__reaction-count">2</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1284063918117097524" id="chatlog__message-container-1284063918117097524"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/9cf4a188a78c1d4ae079176dc596a7f5.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="134676195315810304" title="manock">Manock</span> <span class="chatlog__timestamp" title="13 September 2024 09:11"><a href="#chatlog__message-container-1284063918117097524">13/09/2024 09:11</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">It's been fixed for Brave at least, seemingly.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1284799104026808332" id="chatlog__message-container-1284799104026808332"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="15 September 2024 09:52"><a href="#chatlog__message-container-1284799104026808332">15/09/2024 09:52</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> Could it be that Google adopted PyScript for its Android apps and has a frozen Chromium v128 ? <a href="https://old.reddit.com/r/pixel_phones/comments/1fh4f8v/google_app_keeps_crashing/">https://old.reddit.com/r/pixel_phones/comments/1fh4f8v/google_app_keeps_crashing/</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://old.reddit.com/r/pixel_phones/comments/1fh4f8v/google_app_keeps_crashing/"><div class="chatlog__markdown chatlog__markdown-preserve">From the pixel_phones community on Reddit</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Explore this post and more from the pixel_phones community</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/6ZO-IpzGqgFSgApUJ9qqbK1hgujQ9-18OOIH0W2g5EE/https/share.redd.it/preview/post/1fh4f8v"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/6ZO-IpzGqgFSgApUJ9qqbK1hgujQ9-18OOIH0W2g5EE/https/share.redd.it/preview/post/1fh4f8v"/> </a></div></div></div></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thinking"><img alt="ðŸ¤”" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f914.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1284870074334711869" id="chatlog__message-container-1284870074334711869"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1284799104026808332')"> <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> Could it be that Google adopted PyScript for its Android apps and has a frozen Chromium v128 ? <a href="https://old.reddit.com/r/pixel_phones/comments/1fh4f8v/google_app_keeps_crashing/">https://old.reddit.com/r/pixel_phones/comments/1fh4f8v/google_app_keeps_crashing/</a> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="15 September 2024 14:34"><a href="#chatlog__message-container-1284870074334711869">15/09/2024 14:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">what was crashing PyScript had nothing specific to PyScript, it was an async issue with the module evaluator in Chromium</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1289472414530535425" id="chatlog__message-container-1289472414530535425"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="28 September 2024 07:23"><a href="#chatlog__message-container-1289472414530535425">28/09/2024 07:23</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I just tried to use <span class="chatlog__markdown-mention" title="jeffglass">@Jeff Glass</span> recipe again for downloading images. However at some point <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">assign</code> has disappeared from the js API.
E.g. <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">js_array.assign(my_stream.getbuffer())</code> errors with no assign available
if I do a dir() I get: <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">['__class__', 'find', 'join', 'keys', 'map', 'reverse', 'set', 'sort', 'values', 'buffer', 'fill', 'filter', 'new', 'slice', 'reduce', '4', '5', '6', '7', '8', '9', '0', '1', '2', '3', 'length', 'toString']</code></span> <span class="chatlog__edited-timestamp" title="28 September 2024 11:31">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1289538393843302421" id="chatlog__message-container-1289538393843302421"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="28 September 2024 11:45"><a href="#chatlog__message-container-1289538393843302421">28/09/2024 11:45</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">ok. I think its to do with mpy. <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">io.BytesIO</code> doesn't give expected results and neither does <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Uint8Array</code> Tricky to work out how to do this kind of thing in mpy - guess we need pyodide for more than I thought</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1290259157022412841" id="chatlog__message-container-1290259157022412841"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="30 September 2024 11:29"><a href="#chatlog__message-container-1290259157022412841">30/09/2024 11:29</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="neon22.">@Neon22</span> hmmm... "it should work" â„¢ï¸ Would be interested in what you're seeing with MP <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">io.BytesIO</code></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1290399830484582522" id="chatlog__message-container-1290399830484582522"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="30 September 2024 20:48"><a href="#chatlog__message-container-1290399830484582522">30/09/2024 20:48</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> - expecting you have an idea here - when I load <a href="https://pysheets.app">https://pysheets.app</a>, the worker thread takes a variable amount of time to load. All I do is load a PyOdide worker. Sometimes it takes 3s (from home), but anywhere I have been traveling it talks around 7s, 11s, and even 16s. Where does the variability come from? Shouldn't everything be cached? Why don't I see this variability for main-thread PyOdide and only for workers???? This run is with a warm cache from my hotel room in Copenhagen....</span> <span class="chatlog__edited-timestamp" title="30 September 2024 20:48">(edited)</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1290399830929309767/Screenshot_2024-09-30_214726.png?ex=691c24be&amp;is=691ad33e&amp;hm=e36ed95b3e0ff3a82b282899d57e17ea50fdaadd865aee5516f3195c4d568137&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/Screenshot_2024-09-30_214726.png" title="Image: Screenshot_2024-09-30_214726.png (532.4 KB)"/> </a></div></div></div></div><div class="chatlog__message-container" data-message-id="1290400602408615937" id="chatlog__message-container-1290400602408615937"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="30 September 2024 20:51">20:51</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">As you can see, I disabled the browser cache in this run. But, even if I turn the cache on and reload the page 2-3 times, the best time I see here in Copenhagen is 11.2s for the worker to load. This is baffling to me...</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1290412363668783155" id="chatlog__message-container-1290412363668783155"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/><div class="chatlog__reply-author" style="color:rgb(233,102,11)" title="ntoll">ntoll</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1290259157022412841')"> <span class="chatlog__markdown-mention" title="neon22.">@Neon22</span> hmmm... "it should work" â„¢ï¸ Would be interested in what you're seeing with MP <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">io.BytesIO</code> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="30 September 2024 21:38"><a href="#chatlog__message-container-1290412363668783155">30/09/2024 21:38</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">feel free to clone/play here: <a href="https://pyscript.com/@neon22/mpy-master-template/latest?files=main.py,index.html">https://pyscript.com/@neon22/mpy-master-template/latest?files=main.py,index.html</a></span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1290576761028870167" id="chatlog__message-container-1290576761028870167"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1290399830484582522')"> <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> - expecting you have an idea here - when I load <a href="https://pysheets.app">https://pysheets.app</a>, the worker thread takes a variable amount of time to load. All I do is load a PyOdide worker. Sometimes it takes 3s (from home), but anywhere I have been traveling it talks around 7s, 11s, and even 16s. Where does the variability come from? Shouldn't everything be cached? Why don't I see this variability for main-thread PyOdide and only for workers???? This run is with a warm cache from my hotel room in Copenhagen.... </span> <span class="chatlog__reply-edited-timestamp" title="30 September 2024 20:48">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="01 October 2024 08:31"><a href="#chatlog__message-container-1290576761028870167">01/10/2024 08:31</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">average of 4 seconds here ... we don't control the Pyodide CDN but we know that we should improve the cache story, it's on our pipe ... Pyodide provides a way to freeze dependencies and it <em>should</em> bootstrap faster after the first time <strong>if</strong> dependencies didn't change ... that means that we should use our persistent IndexedDB based storage to get previous cache if it matches the current dependencies graph, then use that instead of letting pyimport resolve all the things then store back if it was different and do the same dance next time. This would likely improve repeated refresh/bootstrap time but it might make even slower the initial bootstrap with Pyodide. About main VS worker delay all I can think about is that workers add one more network request so if the connection is unpredictably slow that might add to the equation but otherwise it's exacly the same Pyodide that runs on main so, unless Pyodide does something different in Workers (but it shouldn't in our case) I wouldn't know what else could be the issue.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1290576920743907372" id="chatlog__message-container-1290576920743907372"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="01 October 2024 08:31">08:31</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">pinging <span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> here as this story should get prioritized somehow</span> <span class="chatlog__edited-timestamp" title="01 October 2024 08:32">(edited)</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1290578575388577792" id="chatlog__message-container-1290578575388577792"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1290576761028870167')"> average of 4 seconds here ... we don't control the Pyodide CDN but we know that we should improve the cache story, it's on our pipe ... Pyodide provides a way to freeze dependencies and it <em>should</em> bootstrap faster after the first time <strong>if</strong> dependencies didn't change ... that means that we should use our persistent IndexedDB based storage to get previous cache if it matches the current dependencies graph, then use that instead of letting pyimport resolve all the things then store back if it was different and do the same dance next time. This would likely improve repeated refresh/bootstrap time but it might make even slower the initial bootstrap with Pyodide. About main VS worker delay all I can think about is that workers add one more network request so if the connection is unpredictably slow that might add to the equation but otherwise it's exacly the same Pyodide that runs on main so, unless Pyodide does something different in Workers (but it shouldn't in our case) I wouldn't know what else could be the issue. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="01 October 2024 08:38"><a href="#chatlog__message-container-1290578575388577792">01/10/2024 08:38</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">also pinging <span class="chatlog__markdown-mention" title="hoodmane">@hood</span> here in case he has some deeper knowledge around Pyodide internals and possible reasons it might be slower or different from a worker ... Hood already mentioned we should be a better job with the caching story which is why I both agree and think it's about the time. There was some blocker though and I am not sure about the current state of affairs there: <a href="https://github.com/pyscript/pyscript/pull/2065#issuecomment-2180704295">https://github.com/pyscript/pyscript/pull/2065#issuecomment-2180704295</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyscript/pyscript/pull/2065"><div class="chatlog__markdown chatlog__markdown-preserve">Provide index_urls via config to override the default. by amjith Â· ...</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Description
Add a config option to optionally provide index_urls that can override the default python package index url.
Changes
A new config option called index_urls that can provide a list of URL...</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/Xggsuy8iL7QQKGUxyBNBWFakNzIZAtmCyeJIpy2K24Y/https/opengraph.githubassets.com/73a20c344e783398ee2dfe19a572704fbe2b4a6fa314820a299a9216fde7e569/pyscript/pyscript/pull/2065"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/Xggsuy8iL7QQKGUxyBNBWFakNzIZAtmCyeJIpy2K24Y/https/opengraph.githubassets.com/73a20c344e783398ee2dfe19a572704fbe2b4a6fa314820a299a9216fde7e569/pyscript/pyscript/pull/2065"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291004871163641907" id="chatlog__message-container-1291004871163641907"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/c18d813721d7307991b8346905723bf5.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1019025382478987284" title="floppypants2022">Floppypants</span> <span class="chatlog__timestamp" title="02 October 2024 12:52"><a href="#chatlog__message-container-1291004871163641907">02/10/2024 12:52</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Can we get an option on Pyscript.com projects to save all our files each time we click the green Run button? That would be handy.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291015006913036320" id="chatlog__message-container-1291015006913036320"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/c18d813721d7307991b8346905723bf5.png"/><div class="chatlog__reply-author" title="floppypants2022">Floppypants</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1291004871163641907')"> Can we get an option on Pyscript.com projects to save all our files each time we click the green Run button? That would be handy. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="02 October 2024 13:32"><a href="#chatlog__message-container-1291015006913036320">02/10/2024 13:32</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Maybe ask this in the pyscript-dot-com channel?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291039636344275137" id="chatlog__message-container-1291039636344275137"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1290399830484582522')"> <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> - expecting you have an idea here - when I load <a href="https://pysheets.app">https://pysheets.app</a>, the worker thread takes a variable amount of time to load. All I do is load a PyOdide worker. Sometimes it takes 3s (from home), but anywhere I have been traveling it talks around 7s, 11s, and even 16s. Where does the variability come from? Shouldn't everything be cached? Why don't I see this variability for main-thread PyOdide and only for workers???? This run is with a warm cache from my hotel room in Copenhagen.... </span> <span class="chatlog__reply-edited-timestamp" title="30 September 2024 20:48">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="02 October 2024 15:10"><a href="#chatlog__message-container-1291039636344275137">02/10/2024 15:10</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">could you maybe try <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">https://cdn.jsdelivr.net/npm/@pyscript/core@0.6.0/dist/core.js</code> instead of the stable/official URL for <em>PyScript</em> and tell me how that went? I have just enabled <em>Pyodide</em> <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lockFileURL</code> to avoid re-importing same packages all over the place every single time and I believe after your second run things should be predictably faster than before, thank you!</span> <span class="chatlog__edited-timestamp" title="02 October 2024 15:16">(edited)</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1291040116319719434" id="chatlog__message-container-1291040116319719434"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 15:12">15:12</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">second run because once you use that latest from <em>npm</em> your <em>micropip</em> packages will be already resolved in terms of complexity and whatnot, so I expect some increase in bootstrap like it was in my tests, where just <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">numpy</code> reduced bootstrap time by <strong>1 second</strong> which is everything but irrelevant gain here <img alt="ðŸ¥³" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg" title="partying_face"/></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1291040773575278693" id="chatlog__message-container-1291040773575278693"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 15:15">15:15</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">insider-hint ... if you add this script on top of your page that includes <em>pyodide</em> at any point in time, you should also see different results from the first run and any consecutive run after:

<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-js">addEventListener('py:progress', ({ detail }) =&gt; {
  const [action, what] = detail.split(/\s+/);
  if (action === 'Loading') console.time(what);
  else console.timeEnd(what);
});</code>

put this as a script before anything else and please let me know how it goes, thanks!</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291044337244963049" id="chatlog__message-container-1291044337244963049"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1291039636344275137')"> could you maybe try <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">https://cdn.jsdelivr.net/npm/@pyscript/core@0.6.0/dist/core.js</code> instead of the stable/official URL for <em>PyScript</em> and tell me how that went? I have just enabled <em>Pyodide</em> <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lockFileURL</code> to avoid re-importing same packages all over the place every single time and I believe after your second run things should be predictably faster than before, thank you! </span> <span class="chatlog__reply-edited-timestamp" title="02 October 2024 15:16">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="02 October 2024 15:29"><a href="#chatlog__message-container-1291044337244963049">02/10/2024 15:29</a></span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1291044336972202024/image.png?ex=691bd9fc&amp;is=691a887c&amp;hm=519c966e0707212068902a68f02530292739c950d2eda167bd8baf8ad1dfce88&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (12.16 KB)"/> </a></div></div></div></div><div class="chatlog__message-container" data-message-id="1291044503125233686" id="chatlog__message-container-1291044503125233686"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 15:29">15:29</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">7-8s seems the average at the moment (from Denmark, over local conference wi-fi data).</span> <span class="chatlog__edited-timestamp" title="02 October 2024 15:30">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291044968416284785" id="chatlog__message-container-1291044968416284785"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1291044337244963049')"> <em>Click to see attachment</em> <span>ðŸ–¼ï¸</span> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="02 October 2024 15:31"><a href="#chatlog__message-container-1291044968416284785">02/10/2024 15:31</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">now ... if you have a py-config in there ... could you be so kind to add <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">packages_cache = "never"</code> and tell me, right after, what is the result, assuming you are with the same hardware and internet connection?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291045226986737697" id="chatlog__message-container-1291045226986737697"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="02 October 2024 15:32"><a href="#chatlog__message-container-1291045226986737697">02/10/2024 15:32</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I had a new record just now of 5s, so overall it feels much snappier...</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="partying_face"><img alt="ðŸ¥³" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291045502082879553" id="chatlog__message-container-1291045502082879553"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="02 October 2024 15:33"><a href="#chatlog__message-container-1291045502082879553">02/10/2024 15:33</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">you can spot the difference by adding, or removing, <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">packages_cache = "never"</code> ... when it's there, it bypasses the caching entirely, when it's not there, or it's not <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">never</code>, first time it re-does the thing then next time you should see the improvements.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1291045737374941334" id="chatlog__message-container-1291045737374941334"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 15:34">15:34</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">of course this should be documented in our pages once it's confirmed to work as expected /cc <span class="chatlog__markdown-mention" title="ntoll">@ntoll</span></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291046214334414908" id="chatlog__message-container-1291046214334414908"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="02 October 2024 15:36"><a href="#chatlog__message-container-1291046214334414908">02/10/2024 15:36</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">LOL. That "never" crashed Chrome</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1291046214128762983/image.png?ex=691bdbbb&amp;is=691a8a3b&amp;hm=e7bf7f613c273a4365eb5a5fb866fc2e848392609cd7c7ef8aa35ad71656041e&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (18.36 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291046567658131476" id="chatlog__message-container-1291046567658131476"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="02 October 2024 15:38"><a href="#chatlog__message-container-1291046567658131476">02/10/2024 15:38</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">so ... it's not supposed to be used in the wild, it's a last-resource escape hatch to clean up the cache ... now, I could test stuff forever without a crash, so I am more interested in the <em>when it doesn't crash Chrome/ium</em> scenario <img alt="ðŸ˜…" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f605.svg" title="sweat_smile"/></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291046606006648936" id="chatlog__message-container-1291046606006648936"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="02 October 2024 15:38"><a href="#chatlog__message-container-1291046606006648936">02/10/2024 15:38</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I am seeing a consistent 6s start time for my worker, no variability.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291046700969889952" id="chatlog__message-container-1291046700969889952"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="02 October 2024 15:38"><a href="#chatlog__message-container-1291046700969889952">02/10/2024 15:38</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">with or without the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">packages_cache = "never"</code> ?</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1291046859565039647" id="chatlog__message-container-1291046859565039647"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 15:39">15:39</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">if interested, this might be expected accordingly to my comment: <a href="https://github.com/pyscript/pyscript/pull/2205#issuecomment-2388783992">https://github.com/pyscript/pyscript/pull/2205#issuecomment-2388783992</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyscript/pyscript/pull/2205"><div class="chatlog__markdown chatlog__markdown-preserve">Updated Polyscript to provide out of the box Pyodide cache by WebRe...</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Description
This MR brings in latest Polyscript so that Pyodide automatically caches repeatedly needed packages and the bootstrap dance is overly-improved.
Published on npm as:

JS <a href="https://cdn.jsde">https://cdn.jsde</a>...</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/z452VtIQDJ6_5zUdQ-PA1yRM5hTF-q-71zBVR2vSMzU/https/opengraph.githubassets.com/b80f73e4ab67902098f3a474870bc838c5fc3f71e21811f96b93135f8351754a/pyscript/pyscript/pull/2205"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/z452VtIQDJ6_5zUdQ-PA1yRM5hTF-q-71zBVR2vSMzU/https/opengraph.githubassets.com/b80f73e4ab67902098f3a474870bc838c5fc3f71e21811f96b93135f8351754a/pyscript/pyscript/pull/2205"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291047029723889780" id="chatlog__message-container-1291047029723889780"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="02 October 2024 15:39"><a href="#chatlog__message-container-1291047029723889780">02/10/2024 15:39</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">without the "never" line, I did not see any difference, other than Chromium crashing once</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1291047529617555467" id="chatlog__message-container-1291047529617555467"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 15:41">15:41</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Switching to the cdn definitely helped. On conference wi-fi, I am now getting 5s startup consistently. This is faster than I ever saw it, even from my home, which has really fast Internet (750Mbps)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291056266487136256" id="chatlog__message-container-1291056266487136256"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1291047029723889780')"> without the "never" line, I did not see any difference, other than Chromium crashing once </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="02 October 2024 16:16"><a href="#chatlog__message-container-1291056266487136256">02/10/2024 16:16</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I would not focus on that ... but the fact you have a faster connection might answer already that the bottleneck is not entirely into packages resolutions, as these packages need to be resolved and downloaded anyway, the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lockFileURL</code> story is just about resolving dependencies, although I got confirmed <em>IndexedDB</em> is not <em>blob</em> constrained so from a runtime URL it should attach itself to the origin site, the original page that created it. The <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">never</code> you added after switching to latest <em>PyScript</em> on <em>npm</em> also means it was working before, or it's working now, because if you don't have that, and you are using the <em>PyScript</em> I've suggested, it means it's working ... your first screenshot demonstrated it's working, now is there where you see improvements? I'll show two different scenarios in a bit</span> <span class="chatlog__edited-timestamp" title="02 October 2024 16:23">(edited)</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1291056778485694545" id="chatlog__message-container-1291056778485694545"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 16:18">16:18</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">this is <strong>without</strong> cache (<em>current PyScript official</em>) ... you see all those extra <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">py:progress</code> logging and it's ~3.5 seconds</span> <span class="chatlog__edited-timestamp" title="02 October 2024 16:23">(edited)</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1291056778288824401/Screenshot_From_2024-10-02_17-17-47.png?ex=691be592&amp;is=691a9412&amp;hm=e7cd2cef04ba0ad7c9901cafa1a3b734acdfcc7fec45c6068cdfbba7a5a2e6d6&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/Screenshot_From_2024-10-02_17-17-47.png" title="Image: Screenshot_From_2024-10-02_17-17-47.png (48 KB)"/> </a></div></div></div></div><div class="chatlog__message-container" data-message-id="1291056917333934174" id="chatlog__message-container-1291056917333934174"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 16:19">16:19</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">this is <strong>with</strong> cache and you see half of the logging and ~2.5 seconds</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1291056917325680804/Screenshot_From_2024-10-02_17-17-58.png?ex=691be5b3&amp;is=691a9433&amp;hm=1ab4e9c14292cd3158a096b077dd2ac331a8f79168541cb978036743fa35de7b&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/Screenshot_From_2024-10-02_17-17-58.png" title="Image: Screenshot_From_2024-10-02_17-17-58.png (19.15 KB)"/> </a></div></div></div></div><div class="chatlog__message-container" data-message-id="1291057082446905388" id="chatlog__message-container-1291057082446905388"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 16:19">16:19</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">the moment you showed your screenshot it was already <strong>with caching</strong> ... so, are you happy by your percieved performance improvement there?</span> <span class="chatlog__edited-timestamp" title="02 October 2024 16:21">(edited)</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1291057537575293021" id="chatlog__message-container-1291057537575293021"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 16:21">16:21</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">'cause I think while you are happy about the better internet, if you are using <em>PyScript</em> from <em>npm</em> it means that's not what you should be happy about ... but I would be happy to be proven wrong, although I need two different screenshots: one without the cache, one with ... that would help us forward with the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lockFileURL</code> story.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1291058510565740578" id="chatlog__message-container-1291058510565740578"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 16:25">16:25</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">alternatively, you can go in devtools and remove yourself every IndexedDB entry in your cache or just erase whole data in Application Storage ... then run the same page first time, check logging and time, then refresh and check again ... is it really same time?</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1291058806947844136" id="chatlog__message-container-1291058806947844136"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 16:26">16:26</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">click "Clear Site Data" in there to simplify what I've asked about</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1291058806729736302/Screenshot_From_2024-10-02_17-26-12.png?ex=691be776&amp;is=691a95f6&amp;hm=8b8573e6fb2703c7f9121b892db18d1d843615cfe5b865f292f0dcae2fd36ac9&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/Screenshot_From_2024-10-02_17-26-12.png" title="Image: Screenshot_From_2024-10-02_17-26-12.png (231.81 KB)"/> </a></div></div></div></div><div class="chatlog__message-container" data-message-id="1291059015895486617" id="chatlog__message-container-1291059015895486617"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="02 October 2024 16:27">16:27</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">feel free to, of course, remove unnecessary cleanup ... IndexedDB is what I'm interested the most.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291091765155332106" id="chatlog__message-container-1291091765155332106"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="02 October 2024 18:37"><a href="#chatlog__message-container-1291091765155332106">02/10/2024 18:37</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I am back at my hotel (with low latency network) and worker startup is awesome now! <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> <img alt="ðŸ¥³" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg" title="partying_face"/></span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1291091764857278464/Screenshot_2024-10-02_193636.png?ex=691c0628&amp;is=691ab4a8&amp;hm=db8509310725488a1c9b7e1f80b508bc5b68f1ea393fd9a7f48bcb6e3af7d2ae&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/Screenshot_2024-10-02_193636.png" title="Image: Screenshot_2024-10-02_193636.png (79.3 KB)"/> </a></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="tada"><img alt="ðŸŽ‰" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f389.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291284356496621689" id="chatlog__message-container-1291284356496621689"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1291091765155332106')"> I am back at my hotel (with low latency network) and worker startup is awesome now! <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> <img alt="ðŸ¥³" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f973.svg" title="partying_face"/> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="03 October 2024 07:23"><a href="#chatlog__message-container-1291284356496621689">03/10/2024 07:23</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Network latency... It's a thing. And we often miss its effect if we're used to modern infrastructure. Sometimes we need a reminder about this.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291284627822215279" id="chatlog__message-container-1291284627822215279"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="03 October 2024 07:24"><a href="#chatlog__message-container-1291284627822215279">03/10/2024 07:24</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Yeah, but we should not see any latency with a warm browser cache (after the first load). I see an extra 8s from a conference and 0s extra from my hotel. This makes no sense.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1291285166035304538" id="chatlog__message-container-1291285166035304538"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="03 October 2024 07:26">07:26</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Also, Chrome Devtools has a feature in the Network tab to simulate slow networks. Would be good to try with Playwright and add a few performance regression tests for workers in PyScript with a simulated slow network? <span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291286038907719764" id="chatlog__message-container-1291286038907719764"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="03 October 2024 07:29"><a href="#chatlog__message-container-1291286038907719764">03/10/2024 07:29</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Yes. We're refactoring tests in PyScript. We should do something like this.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291302639560167455" id="chatlog__message-container-1291302639560167455"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/><div class="chatlog__reply-author" title="chrislaffra.">Chris Laffra</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1291285166035304538')"> Also, Chrome Devtools has a feature in the Network tab to simulate slow networks. Would be good to try with Playwright and add a few performance regression tests for workers in PyScript with a simulated slow network? <span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="03 October 2024 08:35"><a href="#chatlog__message-container-1291302639560167455">03/10/2024 08:35</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">we just want to be sure that once the <em>micropip</em> frozen JSON is stored the next bootstrap will take less ... we don't want this to be throttle dependent, we want this to be always the case no matter how fast is the network, as there should always be some benefit in using the cache VS not using it ... the thing is, playwright always starts fresh with no cache so we need 3 bootstraps: 1 cold bootstrap, 1 warm bootstrap with no cache, 1 warm bootstrap with the cache ... by cold and warm I mean the first one hits the CDN the other 2 use the same CDN for Pyodide. Make it 3 workers and we should be good to measure that and/or regressions in the future, but the test will be a bit tricky to write in a non flaky way ... I'll give it a shot, thanks for the hint.</span> <span class="chatlog__edited-timestamp" title="03 October 2024 08:36">(edited)</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup"><img alt="ðŸ‘" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291435977428045824" id="chatlog__message-container-1291435977428045824"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1291302639560167455')"> we just want to be sure that once the <em>micropip</em> frozen JSON is stored the next bootstrap will take less ... we don't want this to be throttle dependent, we want this to be always the case no matter how fast is the network, as there should always be some benefit in using the cache VS not using it ... the thing is, playwright always starts fresh with no cache so we need 3 bootstraps: 1 cold bootstrap, 1 warm bootstrap with no cache, 1 warm bootstrap with the cache ... by cold and warm I mean the first one hits the CDN the other 2 use the same CDN for Pyodide. Make it 3 workers and we should be good to measure that and/or regressions in the future, but the test will be a bit tricky to write in a non flaky way ... I'll give it a shot, thanks for the hint. </span> <span class="chatlog__reply-edited-timestamp" title="03 October 2024 08:36">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="03 October 2024 17:25"><a href="#chatlog__message-container-1291435977428045824">03/10/2024 17:25</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">right ... today I had other errands to tackle but tomorrow I'll make that test somehow a priority ... we should have it, still today we've published another release candidate on <em>npm</em> so please try <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">https://cdn.jsdelivr.net/npm/@pyscript/core@0.6.2/dist/core.js</code> and let me know if anything is off (it should've fixed also random crashes, if delivered via Pyodide workers)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1291730504512704574" id="chatlog__message-container-1291730504512704574"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1291435977428045824')"> right ... today I had other errands to tackle but tomorrow I'll make that test somehow a priority ... we should have it, still today we've published another release candidate on <em>npm</em> so please try <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">https://cdn.jsdelivr.net/npm/@pyscript/core@0.6.2/dist/core.js</code> and let me know if anything is off (it should've fixed also random crashes, if delivered via Pyodide workers) </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="04 October 2024 12:55"><a href="#chatlog__message-container-1291730504512704574">04/10/2024 12:55</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">it's up and running (green) <a href="https://github.com/pyscript/pyscript/pull/2209">https://github.com/pyscript/pyscript/pull/2209</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyscript/pyscript/pull/2209"><div class="chatlog__markdown chatlog__markdown-preserve">Add Pyodide lockFileURL test by WebReflection Â· Pull Request #2209 ...</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Description
This MR adds a test that:

uses both numpy and matplotlib as packages and load from CDN on fresh start
takes time to bootstrap without any cache
takes time to bootstrap via lockFileURL ...</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/4Kfuahh9fRP85v-dJ5OImwsEJiMahDuadj7zwQusfPc/https/opengraph.githubassets.com/537766cc874a4597b30c33e32beccca953f4b1b8f39afdabb26e5aec20144462/pyscript/pyscript/pull/2209"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/4Kfuahh9fRP85v-dJ5OImwsEJiMahDuadj7zwQusfPc/https/opengraph.githubassets.com/537766cc874a4597b30c33e32beccca953f4b1b8f39afdabb26e5aec20144462/pyscript/pyscript/pull/2209"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1304482962930143344" id="chatlog__message-container-1304482962930143344"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/40a813d80bdb6526e55ad8a4eb164439.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1063086490017595525" title="amoneygurt334">Aistun</span> <span class="chatlog__timestamp" title="08 November 2024 16:29"><a href="#chatlog__message-container-1304482962930143344">08/11/2024 16:29</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Its not REALLY a bug because I assume you all know about it, but would it be possible to allow inputs for pyscript? Or what would be the way to implement that with the html (I haven't used html in a long time soo)</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1304483714390036521" id="chatlog__message-container-1304483714390036521"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="08 November 2024 16:32">16:32</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">nevermind
I found a youtube video on it 
<a href="https://www.youtube.com/watch?v=7CnDfiwJ9Nw">https://www.youtube.com/watch?v=7CnDfiwJ9Nw</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(255,0,0,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-author-container"><a class="chatlog__embed-author-link" href="https://www.youtube.com/channel/UCOPs4MNMr2QmiWZj2GWx5gg"><div class="chatlog__embed-author">Himalay Parmar</div></a></div><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://www.youtube.com/watch?v=7CnDfiwJ9Nw"><div class="chatlog__markdown chatlog__markdown-preserve">PyScript Tutorial : User Input in HTML | Pyscript.write</div></a></div><div class="chatlog__embed-youtube-container"><iframe class="chatlog__embed-youtube" height="225" src="https://www.youtube.com/embed/7CnDfiwJ9Nw" width="400"></iframe></div></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1304483747390820372" id="chatlog__message-container-1304483747390820372"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/645a2cabb653ed3dcc311ba9c51141f4.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/40a813d80bdb6526e55ad8a4eb164439.png"/><div class="chatlog__reply-author" title="amoneygurt334">Aistun</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1304482962930143344')"> Its not REALLY a bug because I assume you all know about it, but would it be possible to allow inputs for pyscript? Or what would be the way to implement that with the html (I haven't used html in a long time soo) </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="609283782897303554" title="jefethepug">JefeThePug</span> <span class="chatlog__timestamp" title="08 November 2024 16:32"><a href="#chatlog__message-container-1304483747390820372">08/11/2024 16:32</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Use the @when decorator on your function to get the change of an html element.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1304484077084344352" id="chatlog__message-container-1304484077084344352"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/40a813d80bdb6526e55ad8a4eb164439.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1063086490017595525" title="amoneygurt334">Aistun</span> <span class="chatlog__timestamp" title="08 November 2024 16:34"><a href="#chatlog__message-container-1304484077084344352">08/11/2024 16:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">nvm that videos horrible</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1304484117013991516" id="chatlog__message-container-1304484117013991516"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/40a813d80bdb6526e55ad8a4eb164439.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/645a2cabb653ed3dcc311ba9c51141f4.png"/><div class="chatlog__reply-author" title="jefethepug">JefeThePug</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1304483747390820372')"> Use the @when decorator on your function to get the change of an html element. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1063086490017595525" title="amoneygurt334">Aistun</span> <span class="chatlog__timestamp" title="08 November 2024 16:34"><a href="#chatlog__message-container-1304484117013991516">08/11/2024 16:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">thanks</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1304524573152247860" id="chatlog__message-container-1304524573152247860"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/40a813d80bdb6526e55ad8a4eb164439.png"/><div class="chatlog__reply-author" title="amoneygurt334">Aistun</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1304483714390036521')"> nevermind
I found a youtube video on it 
<a href="https://www.youtube.com/watch?v=7CnDfiwJ9Nw">https://www.youtube.com/watch?v=7CnDfiwJ9Nw</a> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="08 November 2024 19:14"><a href="#chatlog__message-container-1304524573152247860">08/11/2024 19:14</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Try using the ltk. Very simple and the html/css is all setup unless you want changes. <a href="https://pyscript.github.io/ltk/?tab=2">https://pyscript.github.io/ltk/?tab=2</a></span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="heart"><img alt="â¤ï¸" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1307844909738496011" id="chatlog__message-container-1307844909738496011"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/d371b9226619916355e6b88faf31b627.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1242599857655644164" title="chrislaffra.">Chris Laffra</span> <span class="chatlog__timestamp" title="17 November 2024 23:08"><a href="#chatlog__message-container-1307844909738496011">17/11/2024 23:08</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Here is an example of an LTK Input and Text object that are backed up by a Model object, making it even easier to create interactive Python applications client-side in the browser using LTK. <a href="https://pyscript.github.io/ltk/?tab=14">https://pyscript.github.io/ltk/?tab=14</a></span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1307844910216515634/image.png?ex=691baafd&amp;is=691a597d&amp;hm=f5c1d259c7c8d239e1842e6e6bda446b415eec23dda8fcdef842954d21779378&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (206.82 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1319693105506553876" id="chatlog__message-container-1319693105506553876"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/51103e9c0e44f4223813505341778805.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1133082003697307709" title="ridensium.">Ridensium</span> <span class="chatlog__timestamp" title="20 December 2024 15:49"><a href="#chatlog__message-container-1319693105506553876">20/12/2024 15:49</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">In mpy next() has only one positional argument and throws an typeerror when given two. Havent found difference with cpython (shoud be able to have optional second for default value) on micropython site so guess maybe thats a bug.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1343997418739466414" id="chatlog__message-container-1343997418739466414"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="688057416062861319" title="ambv">ambv</span> <span class="chatlog__timestamp" title="25 February 2025 17:25"><a href="#chatlog__message-container-1343997418739466414">25/02/2025 17:25</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> <a href="https://pyscript.com/@ambv/marching-squares-with-spy/latest?files=main.py,pyscript.toml,index.html">https://pyscript.com/@ambv/marching-squares-with-spy/latest?files=main.py,pyscript.toml,index.html</a></span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="heart"><img alt="â¤ï¸" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1344309837239943229" id="chatlog__message-container-1344309837239943229"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/><div class="chatlog__reply-author" title="ambv">ambv</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1343997418739466414')"> <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> <a href="https://pyscript.com/@ambv/marching-squares-with-spy/latest?files=main.py,pyscript.toml,index.html">https://pyscript.com/@ambv/marching-squares-with-spy/latest?files=main.py,pyscript.toml,index.html</a> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="26 February 2025 14:07"><a href="#chatlog__message-container-1344309837239943229">26/02/2025 14:07</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">looking into that and I can reproduce ... also I think I can fix that without issues ... in other news, latest Pyodide 0.27.3 has been integrated and published on <em>npm</em> so feel free to test around with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">https://cdn.jsdelivr.net/npm/@pyscript/core@0.6.33/dist/core.js</code> as that whould at least guarantee <em>iOS</em> works again now.</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="heart"><img alt="â¤ï¸" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1344612707038531635" id="chatlog__message-container-1344612707038531635"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1344309837239943229')"> looking into that and I can reproduce ... also I think I can fix that without issues ... in other news, latest Pyodide 0.27.3 has been integrated and published on <em>npm</em> so feel free to test around with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">https://cdn.jsdelivr.net/npm/@pyscript/core@0.6.33/dist/core.js</code> as that whould at least guarantee <em>iOS</em> works again now. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="27 February 2025 10:10"><a href="#chatlog__message-container-1344612707038531635">27/02/2025 10:10</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">with latest <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">https://cdn.jsdelivr.net/npm/@pyscript/core@0.6.35/dist/core.js</code> and <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">https://cdn.jsdelivr.net/npm/@pyscript/core@0.6.35/dist/core.css</code> I can confirm the issue around relative packages has been solved ... I've cloned the project and it looks good to me: <a href="https://pyscript.com/@agiammarchi/marching-squares-with-spy-copy-copy/latest?files=index.html">https://pyscript.com/@agiammarchi/marching-squares-with-spy-copy-copy/latest?files=index.html</a></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1344612761241518121" id="chatlog__message-container-1344612761241518121"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="27 February 2025 10:11">10:11</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">now ... <span class="chatlog__markdown-mention" title="ntoll">@ntoll</span> ... shall we release?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1361892319128977559" id="chatlog__message-container-1361892319128977559"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="16 April 2025 03:33"><a href="#chatlog__message-container-1361892319128977559">16/04/2025 03:33</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">This may not be a bug but I am trying to pass a list from python to JS. Using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">from pyscript.ffi import to_js</code>
I get a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Assertion failed: stringToUTF8Array expects a string (got symbol)</code>
I think this is because its not a dict. Is there a way to pass a list ? (its an argument to a parameter that is currently being sent as a dict of true/false/numbers/strings at the moment.) I.e.
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">self.element.slider(to_js({
    "min": min_value,
    "max": max_value,
    "range": "true",
    "values": values,
    "orientation": "horizontal" if horizontal else "vertical",
}))</code>
where values is a list like [10,20], rest are ints. I think "true" instead of <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">True</code> is the right thing ?</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="tired_face"><img alt="ðŸ˜«" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f62b.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1366741958109691964" id="chatlog__message-container-1366741958109691964"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="29 April 2025 12:44"><a href="#chatlog__message-container-1366741958109691964">29/04/2025 12:44</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">in case anyone ever looks this up. Had to use to_js in <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">set_value</code> to get this to work.
So here's how to expand the ltk by adding a range (or minmax) slider: <a href="https://pyscript.com/@neon22/rangeslider-working/latest?files=main.py">https://pyscript.com/@neon22/rangeslider-working/latest?files=main.py</a></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1366742528141037578" id="chatlog__message-container-1366742528141037578"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="29 April 2025 12:46">12:46</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I am trying to use pyscript.fs to mount a local file system for pyscript to read/write to. Docs for this are here: <a href="https://docs.pyscript.net/2025.3.1/api/#pyscriptfs">https://docs.pyscript.net/2025.3.1/api/#pyscriptfs</a>
But I get a dialog but I cannot click on Accept to continue. and also I am unsure how I find what folder the user selected. Has anyone used this (Chrome only) ?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1366745533363912718" id="chatlog__message-container-1366745533363912718"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="29 April 2025 12:58"><a href="#chatlog__message-container-1366745533363912718">29/04/2025 12:58</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I used this to check <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">showDirectoryPicker</code> was available
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">if hasattr(ltk.window, "showDirectoryPicker"):
   print("yeah, persistent directory handlers available!")</code>
but it does not appear to be firing</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1366745776067186738" id="chatlog__message-container-1366745776067186738"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="29 April 2025 12:59">12:59</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Ahhh - its pyodide only isn't it</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1369727844053422081" id="chatlog__message-container-1369727844053422081"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="688057416062861319" title="ambv">ambv</span> <span class="chatlog__timestamp" title="07 May 2025 18:29"><a href="#chatlog__message-container-1369727844053422081">07/05/2025 18:29</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">has anybody seen that before?</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1369727843923267654/Screenshot_2025-05-07_at_19.21.38.png?ex=691c0436&amp;is=691ab2b6&amp;hm=064fe501021f04b9f84236cc744f75acaf5dce7495cc304314666c8fc51763b6&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/Screenshot_2025-05-07_at_19.21.38.png" title="Image: Screenshot_2025-05-07_at_19.21.38.png (419.48 KB)"/> </a></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1369731165912694794" id="chatlog__message-container-1369731165912694794"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="688057416062861319" title="ambv">ambv</span> <span class="chatlog__timestamp" title="07 May 2025 18:42"><a href="#chatlog__message-container-1369731165912694794">07/05/2025 18:42</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span>?</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1369732760478023752" id="chatlog__message-container-1369732760478023752"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="07 May 2025 18:48">18:48</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">This is when trying to run a Python REPL in "worker terminal" with Pyodide when a JS animation loop is used.

Happens on 0.6.51 and 25.3.1.

It even happens 24.11.1, which I can't explain it because I swear I used that combo in January!</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1369740903240957994" id="chatlog__message-container-1369740903240957994"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="688057416062861319" title="ambv">ambv</span> <span class="chatlog__timestamp" title="07 May 2025 19:21"><a href="#chatlog__message-container-1369740903240957994">07/05/2025 19:21</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Repro: <a href="https://pyscript.com/@ambv/pyterminal-deadlock/">https://pyscript.com/@ambv/pyterminal-deadlock/</a></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1369927929508794459" id="chatlog__message-container-1369927929508794459"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="08 May 2025 07:44"><a href="#chatlog__message-container-1369927929508794459">08/05/2025 07:44</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="ambv">@ambv</span> can you turn this into an issue on GitHub (makes it easier for us to track)??? Thank you!</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1369939641943195648" id="chatlog__message-container-1369939641943195648"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/><div class="chatlog__reply-author" title="neon22.">Neon22</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1366745533363912718')"> I used this to check <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">showDirectoryPicker</code> was available
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">if hasattr(ltk.window, "showDirectoryPicker"):
   print("yeah, persistent directory handlers available!")</code>
but it does not appear to be firing </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="08 May 2025 08:31"><a href="#chatlog__message-container-1369939641943195648">08/05/2025 08:31</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">it needs to be on a transient user action (usually a click handler) or it won't work</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1369940446406643783" id="chatlog__message-container-1369940446406643783"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/><div class="chatlog__reply-author" title="ambv">ambv</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1369732760478023752')"> This is when trying to run a Python REPL in "worker terminal" with Pyodide when a JS animation loop is used.

Happens on 0.6.51 and 25.3.1.

It even happens 24.11.1, which I can't explain it because I swear I used that combo in January! </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="08 May 2025 08:34"><a href="#chatlog__message-container-1369940446406643783">08/05/2025 08:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">it's not really a bug but an annoying regression on our side ... the terminal works without issues, for what I can tell, it's just the timing that is not register as "it's OK to wait for it" but it's also possible that something changed at the x-term level ... I will investigate, thanks for reporting that</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1369941294213758987" id="chatlog__message-container-1369941294213758987"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1369940446406643783')"> it's not really a bug but an annoying regression on our side ... the terminal works without issues, for what I can tell, it's just the timing that is not register as "it's OK to wait for it" but it's also possible that something changed at the x-term level ... I will investigate, thanks for reporting that </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="08 May 2025 08:37"><a href="#chatlog__message-container-1369941294213758987">08/05/2025 08:37</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><strong>actually</strong> ... you are causing that when you ask the terminal to interact, as you commented in there ... you set an anymation frame but that cannot be resolved because an interactive REPL pauses the worker until you type something and then it executes and pause for the next line or output ... you should render on the main thread if you want the terminal to work ... or at least that explains why it is not working even in older PyScript, it's always been the case if you make the terminal interactive the terminal is on forever waiting mode for inputs</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1369941722473304067" id="chatlog__message-container-1369941722473304067"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="08 May 2025 08:39">08:39</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">an easy way to do that is to move rendering logic in a module loaded via <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">[js_modules.main]</code> where you pass the data you want to render at <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">requestAnimationFrame</code> speed ... that works always on the main so the worker is free to interact ... in short: worker produces data, main renders data ... a custom module to do that should do, I will create an example soon.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1369944477120073749" id="chatlog__message-container-1369944477120073749"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="08 May 2025 08:50"><a href="#chatlog__message-container-1369944477120073749">08/05/2025 08:50</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">to <strong>simplify</strong> the issue, in a <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">runPythonAsync</code> call to the interpreter, when <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">code.interact()</code> is invoked, that will never resolve, it's an infinite loop like most REPL use to handle input/output on the terminal.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1369944784201846876" id="chatlog__message-container-1369944784201846876"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="08 May 2025 08:51">08:51</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">now the investigation should be around two topics:
<ul><li>if there is nothing else happening, is that warning still shown? it's a bug/regression</li><li>how can we explain this better on our docs? it's a feature request for our docs if not already explained</li></ul></span> <span class="chatlog__edited-timestamp" title="08 May 2025 08:51">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1372234291131715674" id="chatlog__message-container-1372234291131715674"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/><div class="chatlog__reply-author" title="ambv">ambv</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1369732760478023752')"> This is when trying to run a Python REPL in "worker terminal" with Pyodide when a JS animation loop is used.

Happens on 0.6.51 and 25.3.1.

It even happens 24.11.1, which I can't explain it because I swear I used that combo in January! </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="14 May 2025 16:29"><a href="#chatlog__message-container-1372234291131715674">14/05/2025 16:29</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I see you have removed the original example but I've created a PoC of when/why/how a deadlock message happens (and nothing gets executed) in here: <a href="https://pyscript.com/@agiammarchi/deadlock-on-code-intearct/latest?files=main.py">https://pyscript.com/@agiammarchi/deadlock-on-code-intearct/latest?files=main.py</a> ... basically that showcases what I've meant: with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">code.interact()</code> the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">worker</code> is "<em>forever waiting</em>" for the next thing to read/write in the terminal and, if needed, I can add an example about <em>how to workaround</em> by delegating to the main thread the logic.</span> <span class="chatlog__edited-timestamp" title="14 May 2025 16:29">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1372235607551774732" id="chatlog__message-container-1372235607551774732"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="688057416062861319" title="ambv">ambv</span> <span class="chatlog__timestamp" title="14 May 2025 16:34"><a href="#chatlog__message-container-1372235607551774732">14/05/2025 16:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> I think ultimately the solution is to pyodide rewrite how the terminal blocking works to be more like what micropython is doing. <span class="chatlog__markdown-mention" title="hoodmane">@hood</span> tells me that this will be possible with JSPI</span> <span class="chatlog__edited-timestamp" title="14 May 2025 16:35">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1372236142426066945" id="chatlog__message-container-1372236142426066945"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/><div class="chatlog__reply-author" title="ambv">ambv</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1372235607551774732')"> <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> I think ultimately the solution is to pyodide rewrite how the terminal blocking works to be more like what micropython is doing. <span class="chatlog__markdown-mention" title="hoodmane">@hood</span> tells me that this will be possible with JSPI </span> <span class="chatlog__reply-edited-timestamp" title="14 May 2025 16:35">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="14 May 2025 16:36"><a href="#chatlog__message-container-1372236142426066945">14/05/2025 16:36</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">fair point ... we have two different implementations there for a reason but while in MicroPython it's us setting up the char by char parsing via a special feature we asked to implement, in Pyodide <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">code.interact()</code> remains blocking ... agreed ideally both should behave the same (where the same is what's MicroPython is doing).</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="thumbsup_tone1"><img alt="ðŸ‘ðŸ»" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fb.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1372236443229098126" id="chatlog__message-container-1372236443229098126"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="688057416062861319" title="ambv">ambv</span> <span class="chatlog__timestamp" title="14 May 2025 16:37"><a href="#chatlog__message-container-1372236443229098126">14/05/2025 16:37</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> But <em>for now</em>, I would appreciate a delegation example that you're suggesting. I haven't been able to find a workaround that would make <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">code.interact()</code> work.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1372237087411273751" id="chatlog__message-container-1372237087411273751"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/><div class="chatlog__reply-author" title="ambv">ambv</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1372236443229098126')"> <span class="chatlog__markdown-mention" title="agiammarchi">@Andrea Giammarchi</span> But <em>for now</em>, I would appreciate a delegation example that you're suggesting. I haven't been able to find a workaround that would make <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">code.interact()</code> work. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="14 May 2025 16:40"><a href="#chatlog__message-container-1372237087411273751">14/05/2025 16:40</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I was talking about seeing stuff on the page, not necessarily being able to have output in the terminal ... my bad, and I am not sure it's possible. With MicroPython we do something different which works out of streams and the special/magic <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">interpreter.replProcessChar(c)</code> functionality that Pyodide AFAIK lacks <a href="https://github.com/pyscript/pyscript/blob/3223a9c7e9f49eadce9ac99d0b3967fccc58822d/core/src/plugins/py-terminal/mpy.js#L235-L253">https://github.com/pyscript/pyscript/blob/3223a9c7e9f49eadce9ac99d0b3967fccc58822d/core/src/plugins/py-terminal/mpy.js#L235-L253</a></span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyscript/pyscript/blob/3223a9c7e9f49eadce9ac99d0b3967fccc58822d/core/src/plugins/py-terminal/mpy.js"><div class="chatlog__markdown chatlog__markdown-preserve">pyscript/core/src/plugins/py-terminal/mpy.js at 3223a9c7e9f49eadce9...</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">PyScript is an open source platform for Python in the browser. Try PyScript: <a href="https://pyscript.com">https://pyscript.com</a>  Examples: <a href="https://tinyurl.com/pyscript-examples">https://tinyurl.com/pyscript-examples</a>  Community: <a href="https://discord.gg/HxvBtukrg2">https://discord.gg/HxvBtukrg2</a> - pyscri...</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/MV7v1cZFWmxu7wLa41Pyuz8DooVl0JWOTHP8EbxSqfs/https/opengraph.githubassets.com/1b197e876cf384f223cbf73df20b2182891df3842411c1cd37dd41579c1f0eee/pyscript/pyscript"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/MV7v1cZFWmxu7wLa41Pyuz8DooVl0JWOTHP8EbxSqfs/https/opengraph.githubassets.com/1b197e876cf384f223cbf73df20b2182891df3842411c1cd37dd41579c1f0eee/pyscript/pyscript"/> </a></div></div></div></div></div></div></div><div class="chatlog__message-container" data-message-id="1372238349254787163" id="chatlog__message-container-1372238349254787163"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="14 May 2025 16:45">16:45</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">actually though ... that's main thread code ... on the worker we do something different and the feature is via <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">linebuffer: false</code> ... maybe I can check again if we can do the same with Pyodide and override the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">code</code> utility but that might lead to unexpected, less REPL-like, behaviors ... I'll try to give it a shot.</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1372238642810196020" id="chatlog__message-container-1372238642810196020"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="14 May 2025 16:46">16:46</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">or maybe it's readline to blame entirely and we should move away from that 3rd party ... well, I will try to figure out possibilities.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1372238860045648003" id="chatlog__message-container-1372238860045648003"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1dea11c54a3426432abbd0809be5a30c.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="688057416062861319" title="ambv">ambv</span> <span class="chatlog__timestamp" title="14 May 2025 16:47"><a href="#chatlog__message-container-1372238860045648003">14/05/2025 16:47</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Python 3.13+ no longer uses readline by default in the REPL. code.interact() still does for bw compat but we can expose something better in the pyscript library.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1375254399999283331" id="chatlog__message-container-1375254399999283331"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="756679531200380929" title=".gmzi">gmzi</span> <span class="chatlog__timestamp" title="23 May 2025 00:29"><a href="#chatlog__message-container-1375254399999283331">23/05/2025 00:29</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Hi folks, I'm getting uncontrolled rerenderings when using the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;script type="py"&gt;</code> element in .html pages. The weird thing is that these rerenders happen on iPad only. Pages work well on phones and desktop. Anyone else having this kind of behavior? Thanks to all and stay awesome.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1375519212289921125" id="chatlog__message-container-1375519212289921125"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/><div class="chatlog__reply-author" title=".gmzi">gmzi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1375254399999283331')"> Hi folks, I'm getting uncontrolled rerenderings when using the <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;script type="py"&gt;</code> element in .html pages. The weird thing is that these rerenders happen on iPad only. Pages work well on phones and desktop. Anyone else having this kind of behavior? Thanks to all and stay awesome. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="23 May 2025 18:02"><a href="#chatlog__message-container-1375519212289921125">23/05/2025 18:02</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">mind showing a video of this? also version of iPad and its Safari Mobile is missing ... are you wure you are on latest?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1376612333819789444" id="chatlog__message-container-1376612333819789444"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1375519212289921125')"> mind showing a video of this? also version of iPad and its Safari Mobile is missing ... are you wure you are on latest? </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="756679531200380929" title=".gmzi">gmzi</span> <span class="chatlog__timestamp" title="26 May 2025 18:25"><a href="#chatlog__message-container-1376612333819789444">26/05/2025 18:25</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Thanks Andrea.  Here's the video. Safari/IpadOS version is 18.5; pyscript/core version is 0.4.56</span> <span class="chatlog__edited-timestamp" title="26 May 2025 18:26">(edited)</span></div><div class="chatlog__attachment"><video class="chatlog__attachment-media" controls=""><source alt="Video attachment" src="https://cdn.discordapp.com/attachments/1037015991416258602/1376612333455020093/ScreenRecording.MP4?ex=691c0364&amp;is=691ab1e4&amp;hm=224d0517bfa2a5a87891296b7ecd1801040b9a86e9ae9d410e68122da139c6cd&amp;" title="Video: ScreenRecording.MP4 (1.64 MB)"/></video></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1376649411064500358" id="chatlog__message-container-1376649411064500358"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/><div class="chatlog__reply-author" title=".gmzi">gmzi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1376612333819789444')"> Thanks Andrea.  Here's the video. Safari/IpadOS version is 18.5; pyscript/core version is 0.4.56 </span> <span class="chatlog__reply-edited-timestamp" title="26 May 2025 18:26">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="26 May 2025 20:53"><a href="#chatlog__message-container-1376649411064500358">26/05/2025 20:53</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">what's "pyscript/core version is 0.4.56" ?</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1376649656121168062" id="chatlog__message-container-1376649656121168062"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="26 May 2025 20:54">20:54</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">we are 0.6.53 on npm and 2025.5.1 as official release</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1376649878419275776" id="chatlog__message-container-1376649878419275776"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="26 May 2025 20:55">20:55</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">we don't backport fixes but, most importantly, we don't support npm ... we have official releases and npm is a dev channel but that's way beyond current state of affairs ... have you tried updating that?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1376696182062972988" id="chatlog__message-container-1376696182062972988"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1376649411064500358')"> what's "pyscript/core version is 0.4.56" ? </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="756679531200380929" title=".gmzi">gmzi</span> <span class="chatlog__timestamp" title="26 May 2025 23:59"><a href="#chatlog__message-container-1376696182062972988">26/05/2025 23:59</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Thanks Andrea, I'm following the npm approach I found here: <a href="https://docs.pyscript.net/2025.5.1/user-guide/offline#pyscript-core-from-npm">https://docs.pyscript.net/2025.5.1/user-guide/offline#pyscript-core-from-npm</a>. I tried updating to version 0.6.53 but the same behavior so far. I will keep troubleshooting and report back</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1376825998330433576" id="chatlog__message-container-1376825998330433576"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/><div class="chatlog__reply-author" title=".gmzi">gmzi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1376696182062972988')"> Thanks Andrea, I'm following the npm approach I found here: <a href="https://docs.pyscript.net/2025.5.1/user-guide/offline#pyscript-core-from-npm">https://docs.pyscript.net/2025.5.1/user-guide/offline#pyscript-core-from-npm</a>. I tried updating to version 0.6.53 but the same behavior so far. I will keep troubleshooting and report back </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="27 May 2025 08:34"><a href="#chatlog__message-container-1376825998330433576">27/05/2025 08:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">by any chance you could create a minimal failing page I can reach via a Browserstack iPad browser?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1377007070288805888" id="chatlog__message-container-1377007070288805888"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1376825998330433576')"> by any chance you could create a minimal failing page I can reach via a Browserstack iPad browser? </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="756679531200380929" title=".gmzi">gmzi</span> <span class="chatlog__timestamp" title="27 May 2025 20:34"><a href="#chatlog__message-container-1377007070288805888">27/05/2025 20:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">certainly! here it is: <a href="https://calpy.vercel.app/pages/bills.html">https://calpy.vercel.app/pages/bills.html</a> , and here's the landing page of the project, which works when stripping the pyscript script element: <a href="https://calpy.vercel.app">https://calpy.vercel.app</a>. thanks so much</span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://calpy.vercel.app/pages/bills.html"><div class="chatlog__markdown chatlog__markdown-preserve">Treasury Bills Calculator</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">calculations using python, offline too</div></div></div></div></div></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://calpy.vercel.app./"><div class="chatlog__markdown chatlog__markdown-preserve">Calculations using Python, offline too</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve">Calculations using Python, offline too</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/JVPcc9Y6HhCdmRYltToZ2SGqeAPr-VStPUrO4nXnHow/https/calpy.vercel.app/assets/icons/og-image.png"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/JVPcc9Y6HhCdmRYltToZ2SGqeAPr-VStPUrO4nXnHow/https/calpy.vercel.app/assets/icons/og-image.png"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1377186876431142962" id="chatlog__message-container-1377186876431142962"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/><div class="chatlog__reply-author" title=".gmzi">gmzi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1377007070288805888')"> certainly! here it is: <a href="https://calpy.vercel.app/pages/bills.html">https://calpy.vercel.app/pages/bills.html</a> , and here's the landing page of the project, which works when stripping the pyscript script element: <a href="https://calpy.vercel.app">https://calpy.vercel.app</a>. thanks so much </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="28 May 2025 08:28"><a href="#chatlog__message-container-1377186876431142962">28/05/2025 08:28</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I have <strong>zero</strong> issues?</span></div><div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/1037015991416258602/1377186875919433738/image.png?ex=691c203a&amp;is=691aceba&amp;hm=846806e9fe37b13107aa31e1e3d5fdb16fa6107b1f93384022fc2315caddbca0&amp;"> <img alt="Image attachment" class="chatlog__attachment-media" loading="lazy" src="assets/image.png" title="Image: image.png (221.49 KB)"/> </a></div></div></div></div><div class="chatlog__message-container" data-message-id="1377187166555476011" id="chatlog__message-container-1377187166555476011"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="28 May 2025 08:30">08:30</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">tried 16 to 18 OS and devices ... everything works as expected</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1377187351675273268" id="chatlog__message-container-1377187351675273268"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="28 May 2025 08:30">08:30</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">actually ... 18 on first link seems to reproduce, 16 doesn't</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1377196962482356264" id="chatlog__message-container-1377196962482356264"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/><div class="chatlog__reply-author" title=".gmzi">gmzi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1377007070288805888')"> certainly! here it is: <a href="https://calpy.vercel.app/pages/bills.html">https://calpy.vercel.app/pages/bills.html</a> , and here's the landing page of the project, which works when stripping the pyscript script element: <a href="https://calpy.vercel.app">https://calpy.vercel.app</a>. thanks so much </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="28 May 2025 09:09"><a href="#chatlog__message-container-1377196962482356264">28/05/2025 09:09</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">OK ... this is bad ... and it's only about pyodide ... if you use <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">mpy</code> no issue whatsoever ... I have no idea why that would be the case though but I am at PyCon IT and I am not sure when/how I can debug this but I'll try.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1377206921156886528" id="chatlog__message-container-1377206921156886528"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="28 May 2025 09:48"><a href="#chatlog__message-container-1377206921156886528">28/05/2025 09:48</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I wonder if using <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">worker</code> attribute would just fix the thing ... if it doesn't, that's something that needs deep investigation as it's completely unexpected/isolated but it's only in latest iOS and iPad so I hope a regression they might fix before we land a patch</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1377292509771989154" id="chatlog__message-container-1377292509771989154"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/><div class="chatlog__reply-author" title=".gmzi">gmzi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1377007070288805888')"> certainly! here it is: <a href="https://calpy.vercel.app/pages/bills.html">https://calpy.vercel.app/pages/bills.html</a> , and here's the landing page of the project, which works when stripping the pyscript script element: <a href="https://calpy.vercel.app">https://calpy.vercel.app</a>. thanks so much </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="28 May 2025 15:28"><a href="#chatlog__message-container-1377292509771989154">28/05/2025 15:28</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">found it ... <em>pyodide</em> <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">0.27.0</code> works but <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">0.27.1</code> breaks iPad on iOS 18 ... as the error is behind the Pyodide scene which is minified it's hard for me to tell what's going on but it seems to point always at the FS namespace for what I could tell ... maybe <span class="chatlog__markdown-mention" title="hoodmane">@hood</span> is aware of such issue? I am on iPad Air 13 2025 with iOS 18 on Browser stack and as soon as pyodide bootstraps it redirects to itself and it makes it impossible to reach/use the page.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1377292916384596178" id="chatlog__message-container-1377292916384596178"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1377292509771989154')"> found it ... <em>pyodide</em> <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">0.27.0</code> works but <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">0.27.1</code> breaks iPad on iOS 18 ... as the error is behind the Pyodide scene which is minified it's hard for me to tell what's going on but it seems to point always at the FS namespace for what I could tell ... maybe <span class="chatlog__markdown-mention" title="hoodmane">@hood</span> is aware of such issue? I am on iPad Air 13 2025 with iOS 18 on Browser stack and as soon as pyodide bootstraps it redirects to itself and it makes it impossible to reach/use the page. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="28 May 2025 15:30"><a href="#chatlog__message-container-1377292916384596178">28/05/2025 15:30</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">if you want to stick with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">0.27.0</code> until the reason it fails after is found, you can use an explicit <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">interpreter = "https://cdn.jsdelivr.net/pyodide/v0.27.0/full/pyodide.mjs"</code> field in your config TOML <strong>or</strong> add explicitly a config TOML/JSON that uses such interpreter otherwise iPad on iOS18 fails ... to keep in mind it doesn't with iOS 16</span></div><div class="chatlog__reactions"><div class="chatlog__reaction" title="tada"><img alt="ðŸŽ‰" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f389.svg"/> <span class="chatlog__reaction-count">1</span></div><div class="chatlog__reaction" title="pleading_face"><img alt="ðŸ¥º" class="chatlog__emoji chatlog__emoji--small" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f97a.svg"/> <span class="chatlog__reaction-count">1</span></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1377381984816468110" id="chatlog__message-container-1377381984816468110"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1377292916384596178')"> if you want to stick with <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">0.27.0</code> until the reason it fails after is found, you can use an explicit <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">interpreter = "https://cdn.jsdelivr.net/pyodide/v0.27.0/full/pyodide.mjs"</code> field in your config TOML <strong>or</strong> add explicitly a config TOML/JSON that uses such interpreter otherwise iPad on iOS18 fails ... to keep in mind it doesn't with iOS 16 </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="756679531200380929" title=".gmzi">gmzi</span> <span class="chatlog__timestamp" title="28 May 2025 21:24"><a href="#chatlog__message-container-1377381984816468110">28/05/2025 21:24</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Another mystery solved. Version 0.27.0 works perfectly well on iPad. Thanks so much, Andrea, for your help!</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1377399559491162254" id="chatlog__message-container-1377399559491162254"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/><div class="chatlog__reply-author" title=".gmzi">gmzi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1377381984816468110')"> Another mystery solved. Version 0.27.0 works perfectly well on iPad. Thanks so much, Andrea, for your help! </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1084780393548480513" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</span> <span class="chatlog__timestamp" title="28 May 2025 22:34"><a href="#chatlog__message-container-1377399559491162254">28/05/2025 22:34</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">to be honest the mistery remains and it's a bad one ... it underlines how much we <strong>cannot trust</strong> iOS or Safari in iPhone and iPad as these are somehow different artifacts with their own different gotchas ... and I've filed an issue in Pyodide right now <a href="https://github.com/pyodide/pyodide/issues/5670">https://github.com/pyodide/pyodide/issues/5670</a> but I wouldn't be surprised if this has something to do with Emscripten FS implementation and some obscure bug highly hard to reproduce and test for regressions ... it's a very bad breaking thing and I am happy we have a pin-point-version to suggest but imho it's overall a very bad bug to tackle and I couldn't find anything meaningful in WebKit around this (I haven't looked hard enough though, maybe it's already fixed for the next iPad OS update <img alt="ðŸ¤ž" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f91e.svg" title="fingers_crossed"/>)</span></div><div class="chatlog__embed"><div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div><div class="chatlog__embed-content-container"><div class="chatlog__embed-content"><div class="chatlog__embed-text"><div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/pyodide/pyodide/issues/5670"><div class="chatlog__markdown chatlog__markdown-preserve">iPad on iOS 18 harakiri in 0.27.1 (not 0.27.0) Â· Issue #5670 Â· py...</div></a></div><div class="chatlog__embed-description"><div class="chatlog__markdown chatlog__markdown-preserve"><img alt="ðŸ›" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f41b.svg" title="bug"/> Bug Just await loadPyodide on any modern iOS + iPad combination and the page will be unreachable/unusable ... on Browserstack that&amp;#39;s iPad Air 2025 with iOS 18 and nothing works out there sinc...</div></div></div><div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/dv6z4cjMO_514xuedR-6V23U3n1tOHZIelhzOY8xP7k/https/opengraph.githubassets.com/4d9738ae1d469ecb01e5e50067909ab2cbaf8f5582c669ea98a152fa0c6d33a3/pyodide/pyodide/issues/5670"> <img alt="Thumbnail" class="chatlog__embed-thumbnail" loading="lazy" src="https://images-ext-1.discordapp.net/external/dv6z4cjMO_514xuedR-6V23U3n1tOHZIelhzOY8xP7k/https/opengraph.githubassets.com/4d9738ae1d469ecb01e5e50067909ab2cbaf8f5582c669ea98a152fa0c6d33a3/pyodide/pyodide/issues/5670"/> </a></div></div></div></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1377409786244763739" id="chatlog__message-container-1377409786244763739"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/28a7e0f0741deb3c8f738510fc726e03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/6e3d708f4f9680a9c7bb76a916c623d8.png"/><div class="chatlog__reply-author" style="color:rgb(26,194,181)" title="agiammarchi">Andrea Giammarchi</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1377399559491162254')"> to be honest the mistery remains and it's a bad one ... it underlines how much we <strong>cannot trust</strong> iOS or Safari in iPhone and iPad as these are somehow different artifacts with their own different gotchas ... and I've filed an issue in Pyodide right now <a href="https://github.com/pyodide/pyodide/issues/5670">https://github.com/pyodide/pyodide/issues/5670</a> but I wouldn't be surprised if this has something to do with Emscripten FS implementation and some obscure bug highly hard to reproduce and test for regressions ... it's a very bad breaking thing and I am happy we have a pin-point-version to suggest but imho it's overall a very bad bug to tackle and I couldn't find anything meaningful in WebKit around this (I haven't looked hard enough though, maybe it's already fixed for the next iPad OS update <img alt="ðŸ¤ž" class="chatlog__emoji" loading="lazy" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f91e.svg" title="fingers_crossed"/>) </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="756679531200380929" title=".gmzi">gmzi</span> <span class="chatlog__timestamp" title="28 May 2025 23:14"><a href="#chatlog__message-container-1377409786244763739">28/05/2025 23:14</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Fingers crossed!</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1393750156272468102" id="chatlog__message-container-1393750156272468102"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1ad9bc7515f95475893775664f5731d9.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1150104446156689501" title="codegangdev">codegang</span> <span class="chatlog__timestamp" title="13 July 2025 01:25"><a href="#chatlog__message-container-1393750156272468102">13/07/2025 01:25</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">i created a game using pyscript, but it says "refused to connect"</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1393750261746634762" id="chatlog__message-container-1393750261746634762"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="13 July 2025 01:25">01:25</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">and when i went to the weblink it says it doesn't exist</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1393798034499829790" id="chatlog__message-container-1393798034499829790"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1ad9bc7515f95475893775664f5731d9.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1150104446156689501" title="codegangdev">codegang</span> <span class="chatlog__timestamp" title="13 July 2025 04:35"><a href="#chatlog__message-container-1393798034499829790">13/07/2025 04:35</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="tedpatrick">@tedpatrick</span></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1393888813620924436" id="chatlog__message-container-1393888813620924436"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1ad9bc7515f95475893775664f5731d9.png"/><div class="chatlog__reply-author" title="codegangdev">codegang</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1393750156272468102')"> i created a game using pyscript, but it says "refused to connect" </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="13 July 2025 10:36"><a href="#chatlog__message-container-1393888813620924436">13/07/2025 10:36</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">where did you create it</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1393941076493996104" id="chatlog__message-container-1393941076493996104"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1ad9bc7515f95475893775664f5731d9.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/><div class="chatlog__reply-author" title="neon22.">Neon22</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1393888813620924436')"> where did you create it </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1150104446156689501" title="codegangdev">codegang</span> <span class="chatlog__timestamp" title="13 July 2025 14:04"><a href="#chatlog__message-container-1393941076493996104">13/07/2025 14:04</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">in the pyscript editor</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1393941118034378886" id="chatlog__message-container-1393941118034378886"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="13 July 2025 14:04">14:04</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">it has multiple files</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1393941263643971727" id="chatlog__message-container-1393941263643971727"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="13 July 2025 14:04">14:04</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I kinda just took a python game Iâ€™ve made and put it into pyscript</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1393967410217881664" id="chatlog__message-container-1393967410217881664"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="13 July 2025 15:48"><a href="#chatlog__message-container-1393967410217881664">13/07/2025 15:48</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">URL?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1418477781834010654" id="chatlog__message-container-1418477781834010654"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="19 September 2025 07:04"><a href="#chatlog__message-container-1418477781834010654">19/09/2025 07:04</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Just making a note here: pygame-ce not available in 2025.8.1 (<a href="https://discord.com/channels/972017612454232116/972020206538997822/1418474237240541224)">https://discord.com/channels/972017612454232116/972020206538997822/1418474237240541224)</a></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1418532170007449600" id="chatlog__message-container-1418532170007449600"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/4.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="1418529152923074622" title="pymf_67166">pymf</span> <span class="chatlog__timestamp" title="19 September 2025 10:40"><a href="#chatlog__message-container-1418532170007449600">19/09/2025 10:40</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Just checking this is a known issue/bug. I can't find any reference.
When running pyscript with the terminal and worker attribute, a simple "input()" makes pyscript crash with "pyodide.ffi.JsException: TypeError: Spread syntax requires ...iterable not be null or undefined" This is only triggered when no argument is given to input. Even with an empty string there is no problem. See <a href="https://basecamprunner.nl/?program=JYOwDgrgLgFAlEA%3D">https://basecamprunner.nl/?program=JYOwDgrgLgFAlEA%3D</a> for a live demo.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1418562960372269057" id="chatlog__message-container-1418562960372269057"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="19 September 2025 12:42"><a href="#chatlog__message-container-1418562960372269057">19/09/2025 12:42</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I can't find your src program in there. Maybe the ype error is referring to the u prefix for unicode. Can you paste your python code in here, or point to the link to your src attribute</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1418563157122744481" id="chatlog__message-container-1418563157122744481"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="19 September 2025 12:43">12:43</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Are you trying to run python in an interactive terminal ? what are you trying to do ?</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1418564038123716731" id="chatlog__message-container-1418564038123716731"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="19 September 2025 12:47">12:47</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">There are a number of script sources I don't understand including a link to <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/languages/python.min.js" integrity="sha512-/uCTceIDOniHf+VUKbCnP/x6GQSRrm4GwUtQYMgKa9yIZPGzlR04flSsD+2or7bPn44VY9inIHI4cwNCcZmJDw==" crossorigin="anonymous"&gt;&lt;/script&gt;</code> what are these for ?</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1418564417335070720" id="chatlog__message-container-1418564417335070720"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/4e9e107ad407beed6a269ca781b0f6dd.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/><div class="chatlog__reply-author" title="neon22.">Neon22</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1418477781834010654')"> Just making a note here: pygame-ce not available in 2025.8.1 (<a href="https://discord.com/channels/972017612454232116/972020206538997822/1418474237240541224)">https://discord.com/channels/972017612454232116/972020206538997822/1418474237240541224)</a> </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="969551798220251139" title="richkdev">richy</span> <span class="chatlog__timestamp" title="19 September 2025 12:48"><a href="#chatlog__message-container-1418564417335070720">19/09/2025 12:48</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">check pyodide 0.28.0 changelog</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1418564863525126215" id="chatlog__message-container-1418564863525126215"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/4e9e107ad407beed6a269ca781b0f6dd.png"/><div class="chatlog__reply-author" title="richkdev">richy</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1418564417335070720')"> check pyodide 0.28.0 changelog </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="19 September 2025 12:50"><a href="#chatlog__message-container-1418564863525126215">19/09/2025 12:50</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Ahh yes I see it was removed in 0.28 and they are hoping to get it back in soon...</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1418564909381451777" id="chatlog__message-container-1418564909381451777"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/4e9e107ad407beed6a269ca781b0f6dd.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="969551798220251139" title="richkdev">richy</span> <span class="chatlog__timestamp" title="19 September 2025 12:50"><a href="#chatlog__message-container-1418564909381451777">19/09/2025 12:50</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I had to work around that limitation by using pyscript 2025.7.3 which uses pyodide 0.27.6</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1418565268023545978" id="chatlog__message-container-1418565268023545978"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/4e9e107ad407beed6a269ca781b0f6dd.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/><div class="chatlog__reply-author" title="neon22.">Neon22</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1418564863525126215')"> Ahh yes I see it was removed in 0.28 and they are hoping to get it back in soon... </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="969551798220251139" title="richkdev">richy</span> <span class="chatlog__timestamp" title="19 September 2025 12:51"><a href="#chatlog__message-container-1418565268023545978">19/09/2025 12:51</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><div class="chatlog__markdown-quote"><div class="chatlog__markdown-quote-border"></div><div class="chatlog__markdown-quote-content">they are hoping to get it back soon
</div></div>I think you misunderstood.  pyodide devs removed the wheel because of a breaking change in pygame-ce whereas it now uses the meson build system</span> <span class="chatlog__edited-timestamp" title="19 September 2025 12:52">(edited)</span></div></div></div></div><div class="chatlog__message-container" data-message-id="1418565540984655953" id="chatlog__message-container-1418565540984655953"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="19 September 2025 12:53">12:53</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">you can check the official pyodide discord server for more info</span> <span class="chatlog__edited-timestamp" title="19 September 2025 12:56">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1418565714016731137" id="chatlog__message-container-1418565714016731137"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="19 September 2025 12:53"><a href="#chatlog__message-container-1418565714016731137">19/09/2025 12:53</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">OK. the note in the changelog says" <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">BREAKING CHANGE The following packages are removed from the Pyodide distribution because of the build issues. We will try to fix them in the future:</code> and then lists pygame-ce
<ul><li><a href="https://pyodide.org/en/stable/project/changelog.html">https://pyodide.org/en/stable/project/changelog.html</a></li></ul></span></div></div></div></div><div class="chatlog__message-container" data-message-id="1418565876839350503" id="chatlog__message-container-1418565876839350503"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__short-timestamp" title="19 September 2025 12:54">12:54</div></div><div class="chatlog__message-primary"><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Lot of packages missing.... sigh</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1418567155112214528" id="chatlog__message-container-1418567155112214528"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/4.png"/><div class="chatlog__reply-author" title="pymf_67166">pymf</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1418532170007449600')"> Just checking this is a known issue/bug. I can't find any reference.
When running pyscript with the terminal and worker attribute, a simple "input()" makes pyscript crash with "pyodide.ffi.JsException: TypeError: Spread syntax requires ...iterable not be null or undefined" This is only triggered when no argument is given to input. Even with an empty string there is no problem. See <a href="https://basecamprunner.nl/?program=JYOwDgrgLgFAlEA%3D">https://basecamprunner.nl/?program=JYOwDgrgLgFAlEA%3D</a> for a live demo. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="19 September 2025 12:59"><a href="#chatlog__message-container-1418567155112214528">19/09/2025 12:59</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">As noted above - its not clear that pyscript is designed to be used the way you are using it. Sorry I can't point to an example of using the terminal in the way you might be thinking. I can only suggest you try using a pyscript.com account and the "donkey" as it seems designed for this kind of work. Here's a demo Andrea recently posted. Clone this: <a href="https://pyscript.com/@neon22/pyscript-donkey-example-copy/latest">https://pyscript.com/@neon22/pyscript-donkey-example-copy/latest</a></span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1420651073734967298" id="chatlog__message-container-1420651073734967298"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/4.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/><div class="chatlog__reply-author" title="neon22.">Neon22</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1418562960372269057')"> I can't find your src program in there. Maybe the ype error is referring to the u prefix for unicode. Can you paste your python code in here, or point to the link to your src attribute </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1418529152923074622" title="pymf_67166">pymf</span> <span class="chatlog__timestamp" title="25 September 2025 07:00"><a href="#chatlog__message-container-1420651073734967298">25/09/2025 07:00</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="neon22.">@Neon22</span> I am sorry the live demo was not redirecting you to the right page. After clicking the link, select the "..." button and then the "Developer Mode" button. Then you see the Python program "input()" and the terminal output (an error on line 1 in this case). The basic idea is to have a website where students can write Python programs and share a link to your Python program with friends or family so they can experience your programming progress. Highlightjs is used to add syntax highlighing to the textarea with the Python code. I tried your PyScript Donkey Example Copy and when you change the Python program in main.js to "input()" you also get an error ("JsException: TypeError: u is not iterable"). See <a href="https://pyscript.com/@fransre/pyscript-donkey-example-copy-copy/latest">https://pyscript.com/@fransre/pyscript-donkey-example-copy-copy/latest</a></span> <span class="chatlog__edited-timestamp" title="25 September 2025 07:04">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1420714108902178949" id="chatlog__message-container-1420714108902178949"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5f426af01ce7829af9390e70182a8870.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/4.png"/><div class="chatlog__reply-author" title="pymf_67166">pymf</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1420651073734967298')"> <span class="chatlog__markdown-mention" title="neon22.">@Neon22</span> I am sorry the live demo was not redirecting you to the right page. After clicking the link, select the "..." button and then the "Developer Mode" button. Then you see the Python program "input()" and the terminal output (an error on line 1 in this case). The basic idea is to have a website where students can write Python programs and share a link to your Python program with friends or family so they can experience your programming progress. Highlightjs is used to add syntax highlighing to the textarea with the Python code. I tried your PyScript Donkey Example Copy and when you change the Python program in main.js to "input()" you also get an error ("JsException: TypeError: u is not iterable"). See <a href="https://pyscript.com/@fransre/pyscript-donkey-example-copy-copy/latest">https://pyscript.com/@fransre/pyscript-donkey-example-copy-copy/latest</a> </span> <span class="chatlog__reply-edited-timestamp" title="25 September 2025 07:04">(edited)</span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="353381017140068352" title="neon22.">Neon22</span> <span class="chatlog__timestamp" title="25 September 2025 11:10"><a href="#chatlog__message-container-1420714108902178949">25/09/2025 11:10</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">I think several people have tried exactly this (with various degrees of success) and reported it and asked question about it on this discord server. Alas its not my area of interest and i can't point you directly to a specific thing, but please search the discord for potential links.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1420784143603728404" id="chatlog__message-container-1420784143603728404"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/4.png"/><div class="chatlog__reply-author" title="pymf_67166">pymf</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1418532170007449600')"> Just checking this is a known issue/bug. I can't find any reference.
When running pyscript with the terminal and worker attribute, a simple "input()" makes pyscript crash with "pyodide.ffi.JsException: TypeError: Spread syntax requires ...iterable not be null or undefined" This is only triggered when no argument is given to input. Even with an empty string there is no problem. See <a href="https://basecamprunner.nl/?program=JYOwDgrgLgFAlEA%3D">https://basecamprunner.nl/?program=JYOwDgrgLgFAlEA%3D</a> for a live demo. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="734628362835722311" title="sai1494">sai</span> <span class="chatlog__timestamp" title="25 September 2025 15:48"><a href="#chatlog__message-container-1420784143603728404">25/09/2025 15:48</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">An empty <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">input()</code> fails in every online python runner i tested:
1. <a href="https://pydantic.run">https://pydantic.run</a><ul><li>Based on pyodide. Built by pydantic</li></ul><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Traceback (most recent call last):
  File "main.py", line 1, in &lt;module&gt;
    input()
EOFError</code>
2. <a href="https://play.ty.dev/">https://play.ty.dev/</a><ul><li>Based on pyodide. Built by Astral (ruff and ty)</li></ul><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Failed to run Python script: PythonError: Traceback (most recent call last):
  File "/lib/python313.zip/_pyodide/_base.py", line 523, in eval_code
    .run(globals, locals)
     ~~~^^^^^^^^^^^^^^^^^
  File "/lib/python313.zip/_pyodide/_base.py", line 357, in run
    coroutine = eval(self.code, globals, locals)
  File "main.py", line 1, in &lt;module&gt;
    input()
    ~~~~~^^
OSError: [Errno 29] I/O error</code>
3. <a href="https://www.pykernel.com/">https://www.pykernel.com/</a><ul><li>This is my website. Based on Pyscript (indirectly pyodide)</li></ul>Error in js console
<code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Uncaught (in promise) TypeError: u is not iterable
    at d.Tty.calculatePosition (xterm-readline.js:7:9081)
    at new n.State (xterm-readline.js:7:5423)
    at xterm-readline.js:7:12324
    at new Promise (&lt;anonymous&gt;)
    at o.Readline.read (xterm-readline.js:7:12272)</code>

Observations:
<ul><li>Both pydantic.run and play.ty.dev are directly implemented using pyodide and looks like any input (even an input with an arg) doesn't work.</li><li>Yours and my (pykernel) websites both have the same error, and looks like it is originating from xterm-readline. Since calling input() doesn't send anything to the terminal, maybe it's a bug on the xterm-readline side of things and not necessarily pyscript donkey</li></ul></span> <span class="chatlog__edited-timestamp" title="25 September 2025 16:27">(edited)</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1421419102555209768" id="chatlog__message-container-1421419102555209768"><div class="chatlog__message"><div class="chatlog__message-aside"><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/></div><div class="chatlog__message-primary"><div class="chatlog__header"><span class="chatlog__author" data-user-id="354682505271443468" style="color:rgb(233,102,11)" title="ntoll">ntoll</span> <span class="chatlog__timestamp" title="27 September 2025 09:52"><a href="#chatlog__message-container-1421419102555209768">27/09/2025 09:52</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="sai1494">@sai</span> thanks for the feedback. If you have code we can use to reproduce the bug, we can look into it.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1423415460606640288" id="chatlog__message-container-1423415460606640288"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/5.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><img alt="Avatar" class="chatlog__reply-avatar" loading="lazy" src="assets/1f047e7d4848bad8f0a3362947e3eb03.png"/><div class="chatlog__reply-author" style="color:rgb(233,102,11)" title="ntoll">ntoll</div><div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1421419102555209768')"> <span class="chatlog__markdown-mention" title="sai1494">@sai</span> thanks for the feedback. If you have code we can use to reproduce the bug, we can look into it. </span></div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="734628362835722311" title="sai1494">sai</span> <span class="chatlog__timestamp" title="02 October 2025 22:04"><a href="#chatlog__message-container-1423415460606640288">02/10/2025 22:04</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Here is the pyscript.com project to reproduce the issue
<a href="https://pyscript.com/@sai1494/input-error/">https://pyscript.com/@sai1494/input-error/</a>

This is based on the default code that comes in a new project. Added a worker attribute to the script tag and update code to reproduce issue.</span></div></div></div></div></div>
<div class="chatlog__message-group"><div class="chatlog__message-container" data-message-id="1432079444327010404" id="chatlog__message-container-1432079444327010404"><div class="chatlog__message"><div class="chatlog__message-aside"><div class="chatlog__reply-symbol"></div><img alt="Avatar" class="chatlog__avatar" loading="lazy" src="assets/f7f2e9361e8a54ce6e72580ac7b967af.png"/></div><div class="chatlog__message-primary"><div class="chatlog__reply"><div class="chatlog__reply-unknown">Original message was deleted or could not be loaded.</div></div><div class="chatlog__header"><span class="chatlog__author" data-user-id="1398428592098115617" title="maconic_93367">maconic</span> <span class="chatlog__timestamp" title="26 October 2025 18:52"><a href="#chatlog__message-container-1432079444327010404">26/10/2025 18:52</a></span></div><div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Does spam like this actually work? I doubt you'll find any success here.</span></div></div></div></div></div>
</div>
<div class="postamble"><div class="postamble__entry">Exported 325 message(s)</div><div class="postamble__entry">Timezone: UTC+0</div></div>
</body></head></html>